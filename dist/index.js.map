{
  "version": 3,
  "sources": ["../src/core/types/index.ts", "../src/core/storage/SessionStore.ts", "../src/index.ts", "../src/utils/logger.ts", "../src/utils/paths.ts", "../src/cli/commands/make.ts", "../src/core/services/MCPIntegrationService.ts", "../node_modules/zod/v3/external.js", "../node_modules/zod/v3/helpers/util.js", "../node_modules/zod/v3/ZodError.js", "../node_modules/zod/v3/locales/en.js", "../node_modules/zod/v3/errors.js", "../node_modules/zod/v3/helpers/parseUtil.js", "../node_modules/zod/v3/helpers/errorUtil.js", "../node_modules/zod/v3/types.js", "../src/core/services/CodebaseAnalyzer.ts", "../src/core/services/RulesGenerator.ts", "../src/cli/commands/note.ts", "../src/cli/commands/run.ts", "../src/cli/ui/tornado.ts", "../src/utils/dependencies.ts", "../src/core/services/TodoFileParser.ts", "../src/core/services/TmuxSessionOrchestrator.ts", "../src/core/services/GitWorktreeManager.ts", "../src/core/services/ClaudeCodeLauncher.ts", "../src/cli/commands/list.ts", "../src/cli/commands/join.ts", "../src/cli/commands/stop.ts", "../src/core/services/MCPSessionManager.ts", "../src/cli/commands/delete.ts", "../src/cli/commands/health.ts", "../src/cli/commands/interactive.ts", "../src/cli/commands/attach.ts", "../src/cli/commands/clean.ts", "../src/cli/commands/done.ts"],
  "sourcesContent": ["// Core type definitions for Tazz CLI\nexport interface TazzSession {\n  id: string\n  branch: string\n  worktreePath: string\n  status: SessionStatus\n  createdAt: Date\n  lastActive: Date\n  agents: AgentInstance[]\n  tasks: TaskReference[]\n  metadata: SessionMetadata\n}\n\nexport enum SessionStatus {\n  ACTIVE = 'active',\n  STOPPED = 'stopped',\n  FAILED = 'failed',\n  PAUSED = 'paused'\n}\n\nexport interface SessionMetadata {\n  jira?: {\n    title: string\n    description: string\n    priority: string\n    assignee?: string\n    status: string\n    type: string\n    storyPoints?: number\n  }\n  github?: {\n    relatedPRs: Array<{\n      number: number\n      title: string\n      status: string\n      url: string\n    }>\n  }\n  sonarcloud?: {\n    projectKey: string\n    qualityGate: string\n    coverage: number\n    issues: number\n  }\n  custom?: Record<string, unknown>\n}\n\nexport interface AgentInstance {\n  id: string\n  name: string\n  type: AgentType\n  status: AgentStatus\n  pid?: number\n  tmuxPane?: string\n  lastActivity: Date\n  capabilities: string[]\n}\n\nexport enum AgentType {\n  CLAUDE = 'claude',\n  MCP = 'mcp',\n  CUSTOM = 'custom'\n}\n\nexport enum AgentStatus {\n  RUNNING = 'running',\n  STOPPED = 'stopped',\n  ERROR = 'error',\n  STARTING = 'starting'\n}\n\nexport interface TaskReference {\n  id: string\n  title: string\n  description: string\n  status: TaskStatus\n  priority: number\n  assignedAgent?: string\n  dependencies: string[]\n  estimatedTime?: number\n  actualTime?: number\n}\n\nexport enum TaskStatus {\n  TODO = 'todo',\n  IN_PROGRESS = 'in_progress',\n  BLOCKED = 'blocked',\n  COMPLETED = 'completed',\n  CANCELLED = 'cancelled'\n}\n\n// MCP Integration Types\nexport interface MCPServer {\n  name: string\n  command: string\n  args: string[]\n  env: Record<string, string>\n  autoApprove: string[]\n  disabled: boolean\n  timeout: number\n  transportType: 'stdio' | 'sse'\n}\n\nexport interface MCPConfiguration {\n  codeAnalysis: {\n    git?: MCPServer\n    sonarcloud?: MCPServer\n    fetch?: MCPServer\n  }\n  projectManagement: {\n    atlassian?: MCPServer\n    github?: MCPServer\n  }\n  testing: {\n    playwright?: MCPServer\n    sequentialThinking?: MCPServer\n  }\n  taskManagement: {\n    claudeTaskMaster?: MCPServer\n  }\n}\n\nexport interface AgentCommand {\n  type: AgentCommandType\n  sessionId?: string\n  payload: unknown\n  timestamp: Date\n  requestId: string\n}\n\nexport enum AgentCommandType {\n  START_SESSION = 'start_session',\n  ATTACH_SESSION = 'attach_session',\n  RUN_TASK = 'run_task',\n  UPDATE_TODO = 'update_todo',\n  SPAWN_AGENT = 'spawn_agent',\n  PARALLEL_RUN = 'parallel_run',\n  ANALYZE_CODE = 'analyze_code',\n  GENERATE_TESTS = 'generate_tests'\n}\n\nexport interface CommandResult {\n  success: boolean\n  data?: unknown\n  error?: string\n  metadata?: Record<string, unknown>\n}\n\n// Project Analysis Types\nexport interface DependencyAnalysis {\n  packageManager: string\n  dependencies: Array<{\n    name: string\n    version: string\n    type: 'dependency' | 'devDependency' | 'peerDependency'\n  }>\n  outdated: string[]\n  vulnerabilities?: number\n}\n\nexport interface ExistingTestingStrategy {\n  hasTests: boolean\n  framework?: string\n  testDirectories: string[]\n  coverage?: {\n    configured: boolean\n    threshold?: number\n    tool?: string\n  }\n  e2e?: {\n    configured: boolean\n    framework?: string\n  }\n}\n\nexport interface ProjectAnalysis {\n  structure: ProjectStructure\n  technologies: TechnologyStack\n  patterns: CodePatterns\n  quality: QualityMetrics\n  dependencies: DependencyAnalysis\n  testingStrategy: ExistingTestingStrategy\n}\n\nexport interface ProjectStructure {\n  type: ProjectType\n  sourceDirectories: string[]\n  testDirectories: string[]\n  configFiles: string[]\n  buildTools: string[]\n  hasAPI: boolean\n  hasFrontend: boolean\n  baseURL?: string\n}\n\nexport enum ProjectType {\n  FRONTEND = 'frontend',\n  BACKEND = 'backend',\n  FULLSTACK = 'fullstack',\n  LIBRARY = 'library',\n  MOBILE = 'mobile',\n  MONOREPO = 'monorepo'\n}\n\nexport interface TechnologyStack {\n  language: string\n  framework?: string\n  testing?: string\n  buildSystem?: string\n  cicd?: string\n  database?: string\n}\n\nexport interface CodePatterns {\n  common: string[]\n  architectural: string[]\n  naming: string[]\n  imports: string[]\n}\n\nexport interface QualityMetrics {\n  coverage?: number\n  coverageThreshold?: number\n  hasQualityGates: boolean\n  linting: boolean\n  formatting: boolean\n  complexity?: number\n}\n\n// Configuration Types\nexport interface TazzConfig {\n  maxConcurrentSessions: number\n  defaultBranch: string\n  tmuxPrefix: string\n  agentTimeout: number\n  logLevel: 'debug' | 'info' | 'warn' | 'error'\n  plugins: string[]\n  agents: Record<string, AgentConfig>\n  hooks: HookConfiguration\n  mcpServers: MCPConfiguration\n}\n\nexport interface AgentConfig {\n  enabled: boolean\n  apiKey?: string\n  model?: string\n  timeout?: number\n  maxRetries?: number\n}\n\nexport interface HookConfiguration {\n  enabled: boolean\n  scripts: Record<string, string>\n  events: Record<string, HookEvent[]>\n}\n\nexport interface HookEvent {\n  name: string\n  matcher: HookMatcher\n  script: string\n  async: boolean\n}\n\nexport interface HookMatcher {\n  toolName?: string | string[]\n  command?: string\n  sessionId?: string\n  custom?: string\n}\n\n// Error Types\nexport abstract class TazzError extends Error {\n  abstract readonly code: string\n  abstract readonly severity: 'low' | 'medium' | 'high' | 'critical'\n  \n  constructor(\n    message: string,\n    public readonly context?: Record<string, unknown>,\n    public readonly cause?: Error\n  ) {\n    super(message)\n    this.name = this.constructor.name\n  }\n}\n\nexport class SessionError extends TazzError {\n  readonly code = 'SESSION_ERROR'\n  readonly severity = 'high'\n}\n\nexport class GitError extends TazzError {\n  readonly code = 'GIT_ERROR'\n  readonly severity = 'medium'\n}\n\nexport class AgentError extends TazzError {\n  readonly code = 'AGENT_ERROR'\n  readonly severity = 'high'\n}\n\nexport class MCPError extends TazzError {\n  readonly code = 'MCP_ERROR'\n  readonly severity = 'medium'\n}\n\nexport class ValidationError extends TazzError {\n  readonly code = 'VALIDATION_ERROR'\n  readonly severity = 'low'\n}", "import { readFile, writeFile, pathExists, ensureFile } from 'fs-extra'\nimport { join } from 'path'\nimport { TazzSession, SessionError } from '../types'\n\nexport interface SessionData {\n  sessions: TazzSession[]\n  lastUpdated: string\n}\n\nexport class SessionStore {\n  private sessionsPath: string\n\n  constructor(projectPath: string = process.cwd()) {\n    this.sessionsPath = join(projectPath, '.tazz', 'sessions.json')\n  }\n\n  async getAllSessions(): Promise<TazzSession[]> {\n    try {\n      if (!await pathExists(this.sessionsPath)) {\n        return []\n      }\n\n      const data = await readFile(this.sessionsPath, 'utf-8')\n      const sessionData: SessionData = JSON.parse(data)\n      \n      return sessionData.sessions || []\n    } catch (error) {\n      throw new SessionError('Failed to read sessions file', {\n        path: this.sessionsPath\n      }, error)\n    }\n  }\n\n  async getSession(sessionId: string): Promise<TazzSession | null> {\n    const sessions = await this.getAllSessions()\n    return sessions.find(s => s.id === sessionId) || null\n  }\n\n  async saveSession(session: TazzSession): Promise<void> {\n    try {\n      const sessions = await this.getAllSessions()\n      const existingIndex = sessions.findIndex(s => s.id === session.id)\n\n      if (existingIndex >= 0) {\n        sessions[existingIndex] = session\n      } else {\n        sessions.push(session)\n      }\n\n      const sessionData: SessionData = {\n        sessions,\n        lastUpdated: new Date().toISOString()\n      }\n\n      await ensureFile(this.sessionsPath)\n      await writeFile(this.sessionsPath, JSON.stringify(sessionData, null, 2))\n    } catch (error) {\n      throw new SessionError('Failed to save session', {\n        sessionId: session.id,\n        path: this.sessionsPath\n      }, error)\n    }\n  }\n\n  async removeSession(sessionId: string): Promise<void> {\n    try {\n      const sessions = await this.getAllSessions()\n      const filteredSessions = sessions.filter(s => s.id !== sessionId)\n\n      const sessionData: SessionData = {\n        sessions: filteredSessions,\n        lastUpdated: new Date().toISOString()\n      }\n\n      await writeFile(this.sessionsPath, JSON.stringify(sessionData, null, 2))\n    } catch (error) {\n      throw new SessionError('Failed to remove session', {\n        sessionId,\n        path: this.sessionsPath\n      }, error)\n    }\n  }\n\n  /**\n   * Alias for removeSession to match the naming convention used in MCPSessionManager\n   */\n  async deleteSession(sessionId: string): Promise<void> {\n    return this.removeSession(sessionId)\n  }\n\n  async updateSessionStatus(sessionId: string, status: any): Promise<void> {\n    const session = await this.getSession(sessionId)\n    if (!session) {\n      throw new SessionError(`Session ${sessionId} not found`)\n    }\n\n    session.status = status\n    session.lastActive = new Date()\n    \n    await this.saveSession(session)\n  }\n}", "#!/usr/bin/env node\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport { getLogger } from './utils/logger'\nimport { MakeCommand } from './cli/commands/make'\nimport { NoteCommand } from './cli/commands/note'\nimport { RunCommand } from './cli/commands/run'\nimport { ListCommand } from './cli/commands/list'\nimport { JoinCommand } from './cli/commands/join'\nimport { StopCommand } from './cli/commands/stop'\nimport { DeleteCommand } from './cli/commands/delete'\nimport { HealthCommand } from './cli/commands/health'\nimport { InteractiveCommand } from './cli/commands/interactive'\nimport { CleanCommand } from './cli/commands/clean'\nimport { DoneCommand } from './cli/commands/done'\n\nconst logger = getLogger()\n\n// ASCII Art Tazz CLI Logo\nconst TAZZ_LOGO = `\n        .       *        .        *\n        .             .    *         .       .\n                   @@@\n                @@@@@@@\n              @@@@#^#@@@@\n                @@@@@@@\n                  @@@\n                   @@\n        ___@______________________\n .          *          .       *       .      .\n     *          .             *        .      *\n`\n\nasync function main() {\n  const program = new Command()\n\n  program\n    .name('tazz')\n    .description('\uD83C\uDF00 AI-powered development tool with git worktrees, tmux sessions, and MCP integration')\n    .version('1.0.0')\n    .configureHelp({\n      sortSubcommands: true,\n      subcommandTerm: (cmd) => cmd.name() + ' ' + cmd.usage()\n    })\n\n  // Global options\n  program\n    .option('-v, --verbose', 'Enable verbose logging')\n    .option('-q, --quiet', 'Suppress non-error output')\n    .option('--log-level <level>', 'Set log level (debug, info, warn, error)', 'info')\n\n  // Handle global options\n  program.hook('preAction', (thisCommand) => {\n    const options = thisCommand.opts()\n    \n    if (options.verbose) {\n      logger.setLevel('debug')\n    } else if (options.quiet) {\n      logger.setLevel('error')\n    } else if (options.logLevel) {\n      logger.setLevel(options.logLevel)\n    }\n  })\n\n  // Add commands\n  program.addCommand(new MakeCommand().build())\n  program.addCommand(new NoteCommand().build())\n  program.addCommand(new RunCommand().build())\n  program.addCommand(new ListCommand().build())\n  program.addCommand(new JoinCommand().build())\n  program.addCommand(new StopCommand().build())\n  program.addCommand(new DeleteCommand().build())\n  program.addCommand(new HealthCommand().build())\n  program.addCommand(new CleanCommand().build())\n  program.addCommand(new DoneCommand().build())\n\n  // Interactive mode (default when no command specified)\n  program\n    .command('interactive', { isDefault: false })\n    .alias('i')\n    .description('\uD83C\uDF00 Interactive Tazz CLI tool menu')\n    .action(async () => {\n      const interactiveCmd = new InteractiveCommand()\n      await interactiveCmd.execute()\n    })\n\n  // Custom help\n  program.on('--help', () => {\n    console.log('')\n    console.log(chalk.cyan('Examples:'))\n    console.log('  $ tazz                         Start interactive menu')\n    console.log('  $ tazz make                    Setup Tazz in current project')\n    console.log('  $ tazz note                    Edit tasks and prompts')\n    console.log('  $ tazz run                     Start development sessions from todo')\n    console.log('  $ tazz list                    Show all active sessions')\n    console.log('  $ tazz join <session-id>       Join specific session')\n    console.log('  $ tazz done <session-id>       Complete session and cleanup')\n    console.log('  $ tazz health                  Check system dependencies')\n    console.log('')\n    console.log(chalk.yellow('For more information, visit: https://github.com/Energma/tazz-cli'))\n  })\n\n  // Error handling\n  program.exitOverride()\n\n  // If no arguments provided, start interactive mode\n  if (process.argv.length === 2) {\n    const interactiveCmd = new InteractiveCommand()\n    await interactiveCmd.execute()\n    return\n  }\n\n  try {\n    await program.parseAsync(process.argv)\n  } catch (error: any) {\n    if (error.code === 'commander.unknownCommand') {\n      console.log('')\n      console.log(chalk.red('\u274C Unknown command. Use --help to see available commands.'))\n      console.log('')\n      process.exit(1)\n    }\n\n    if (error.code === 'commander.help' || error.message === '(outputHelp)') {\n      // Help was displayed, exit normally\n      process.exit(0)\n    }\n\n    // Log unexpected errors\n    logger.error('Unexpected error occurred', error)\n    console.log('')\n    console.log(chalk.red('\u274C An unexpected error occurred. Check logs for details.'))\n    console.log(chalk.gray(`   Log file: /tmp/tazz-tmp/logs/tazz.log`))\n    process.exit(1)\n  }\n}\n\n// Handle uncaught errors gracefully\nprocess.on('unhandledRejection', (reason, promise) => {\n  logger.error('Unhandled Promise Rejection', reason as Error, {\n    promise: promise.toString()\n  })\n  console.log('')\n  console.log(chalk.red('\u274C An unexpected error occurred. Check logs for details.'))\n  process.exit(1)\n})\n\nprocess.on('uncaughtException', (error) => {\n  logger.error('Uncaught Exception', error)\n  console.log('')\n  console.log(chalk.red('\u274C A critical error occurred. Check logs for details.'))\n  process.exit(1)\n})\n\n// Show Tazz logo on direct execution\nif (require.main === module) {\n  console.log(chalk.cyan(TAZZ_LOGO))\n  console.log(chalk.bold.cyan('=== Tazz CLI Tool ==='))\n  console.log(chalk.gray('   AI-Powered Development Orchestrator'))\n  console.log('')\n}\n\n// Run main function\nif (require.main === module) {\n  main().catch((error) => {\n    logger.error('Main execution failed', error)\n    process.exit(1)\n  })\n}\n\nexport { main }\nexport * from './core/types'\nexport * from './core/services/MCPIntegrationService'\nexport * from './core/services/CodebaseAnalyzer'\nexport * from './core/services/RulesGenerator'", "import winston from 'winston'\nimport { getTazzLogPath } from './paths'\n\nexport interface LogContext {\n  sessionId?: string\n  agentId?: string\n  commandId?: string\n  userId?: string\n  [key: string]: unknown\n}\n\nexport interface LogEntry {\n  timestamp: string\n  level: string\n  message: string\n  context?: LogContext\n  pid: number\n}\n\nexport class Logger {\n  private winston: winston.Logger\n  private config: LoggerConfig\n\n  constructor(config: LoggerConfig = {}) {\n    this.config = {\n      level: 'info',\n      logFile: getTazzLogPath(),\n      enableConsole: true,\n      enableFile: true,\n      ...config\n    }\n\n    this.winston = winston.createLogger({\n      level: this.config.level,\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.errors({ stack: true }),\n        winston.format.json()\n      ),\n      transports: this.createTransports()\n    })\n  }\n\n  private createTransports(): winston.transport[] {\n    const transports: winston.transport[] = []\n\n    if (this.config.enableConsole) {\n      transports.push(\n        new winston.transports.Console({\n          format: winston.format.combine(\n            winston.format.colorize(),\n            winston.format.simple(),\n            winston.format.printf(({ timestamp, level, message, ...meta }) => {\n              const metaStr = Object.keys(meta).length ? JSON.stringify(meta, null, 2) : ''\n              return `${timestamp} [${level}]: ${message} ${metaStr}`\n            })\n          )\n        })\n      )\n    }\n\n    if (this.config.enableFile) {\n      transports.push(\n        new winston.transports.File({\n          filename: this.config.logFile,\n          maxsize: 5242880, // 5MB\n          maxFiles: 5,\n          format: winston.format.combine(\n            winston.format.timestamp(),\n            winston.format.json()\n          )\n        })\n      )\n    }\n\n    return transports\n  }\n\n  error(message: string, error?: Error, context?: LogContext): void {\n    this.winston.error(message, {\n      error: error ? {\n        name: error.name,\n        message: error.message,\n        stack: error.stack\n      } : undefined,\n      ...context,\n      pid: process.pid\n    })\n  }\n\n  warn(message: string, context?: LogContext): void {\n    this.winston.warn(message, {\n      ...context,\n      pid: process.pid\n    })\n  }\n\n  info(message: string, context?: LogContext): void {\n    this.winston.info(message, {\n      ...context,\n      pid: process.pid\n    })\n  }\n\n  debug(message: string, context?: LogContext): void {\n    this.winston.debug(message, {\n      ...context,\n      pid: process.pid\n    })\n  }\n\n  /**\n   * Create a child logger with persistent context\n   */\n  child(context: LogContext): Logger {\n    const childLogger = new Logger(this.config)\n    \n    // Override the winston logger to include persistent context\n    const originalWinston = childLogger.winston\n    childLogger.winston = originalWinston.child(context)\n    \n    return childLogger\n  }\n\n  /**\n   * Set log level dynamically\n   */\n  setLevel(level: string): void {\n    this.winston.level = level\n    this.config.level = level\n  }\n\n  /**\n   * Get current log level\n   */\n  getLevel(): string {\n    return this.config.level\n  }\n}\n\nexport interface LoggerConfig {\n  level?: string\n  logFile?: string\n  enableConsole?: boolean\n  enableFile?: boolean\n}\n\n// Default logger instance\nlet defaultLogger: Logger | null = null\n\nexport function getLogger(config?: LoggerConfig): Logger {\n  if (!defaultLogger) {\n    defaultLogger = new Logger(config)\n  }\n  return defaultLogger\n}\n\nexport function createLogger(config?: LoggerConfig): Logger {\n  return new Logger(config)\n}", "import { join } from 'path'\nimport { homedir } from 'os'\n\n/**\n * Get the centralized Tazz directory path\n * This is where all Tazz configurations, sessions, and data are stored\n */\nexport function getTazzDir(): string {\n  return '/tmp/tazz-tmp'\n}\n\n/**\n * Get the logs directory path\n */\nexport function getLogsDir(): string {\n  return join(getTazzDir(), 'logs')\n}\n\n/**\n * Get the sessions directory path\n */\nexport function getSessionsDir(): string {\n  return join(getTazzDir(), 'sessions')\n}\n\n/**\n * Get the global config directory path\n */\nexport function getConfigDir(): string {\n  return join(getTazzDir(), 'config')\n}\n\n/**\n * Get path for a specific project's tazz data\n */\nexport function getProjectTazzDir(projectPath: string): string {\n  // Create a safe project name from the path\n  const projectName = projectPath\n    .replace(/[^a-zA-Z0-9]/g, '_')\n    .replace(/_+/g, '_')\n    .replace(/^_|_$/g, '')\n  \n  return join(getTazzDir(), 'projects', projectName)\n}\n\n/**\n * Get the main tazz log file path\n */\nexport function getTazzLogPath(): string {\n  return join(getLogsDir(), 'tazz.log')\n}\n\n/**\n * Get global sessions file path\n */\nexport function getGlobalSessionsPath(): string {\n  return join(getTazzDir(), 'sessions.json')\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport { ensureDir, writeFile, pathExists, readFile, copy } from 'fs-extra'\nimport { join, dirname } from 'path'\nimport { MCPIntegrationService } from '../../core/services/MCPIntegrationService'\nimport { CodebaseAnalyzer } from '../../core/services/CodebaseAnalyzer'\nimport { IntelligentRulesGenerator } from '../../core/services/RulesGenerator'\nimport { getLogger } from '../../utils/logger'\nimport { getTazzDir, getProjectTazzDir } from '../../utils/paths'\nimport { TazzError } from '../../core/types'\n\nexport class MakeCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('make')\n      .description('\uD83C\uDFD7\uFE0F  Make/setup Tazz with intelligent codebase analysis and MCP integration')\n      .action(async () => {\n        await this.execute()\n      })\n  }\n\n  async execute(): Promise<void> {\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83C\uDF00 Starting Tazz Initialization'))\n    console.log(chalk.gray('Setting up intelligent development environment...'))\n    console.log('')\n\n    try {\n      // Check if already initialized\n      if (await this.checkExistingInstallation()) {\n        console.log(chalk.yellow('\u26A0\uFE0F  Tazz is already initialized in this project'))\n        return\n      }\n\n      const projectPath = process.cwd()\n      \n      // Phase 1: Infrastructure Setup\n      await this.setupInfrastructure(projectPath)\n\n      // Phase 2: MCP Integration\n      const mcpService = await this.setupMCPIntegration(projectPath)\n\n      // Phase 3: Codebase Analysis\n      const analysis = await this.analyzeCodebase(projectPath, mcpService)\n\n      // Phase 4: Generate Rules and Hooks\n      if (analysis) {\n        await this.generateIntelligentRules(projectPath, analysis)\n        await this.generateHookScripts(projectPath, analysis)\n      }\n\n      // Phase 5: Setup Testing Strategy\n      if (analysis) {\n        await this.setupTestingStrategy(projectPath, analysis)\n      }\n\n      // Phase 6: Create Configuration\n      await this.createConfiguration(projectPath, {\n        mcpService,\n        analysis\n      })\n\n      // Phase 7: Update .gitignore\n      await this.updateGitignore(projectPath)\n\n      console.log('')\n      console.log(chalk.green('\u2705 Tazz initialization completed successfully!'))\n      console.log('')\n      console.log(chalk.bold('Next steps:'))\n      console.log(chalk.gray('  \u2022 Run'), chalk.cyan('tazz start <ticket-id>'), chalk.gray('to create a new session'))\n      console.log(chalk.gray('  \u2022 Run'), chalk.cyan('tazz -d'), chalk.gray('to open detached console mode'))\n      console.log(chalk.gray('  \u2022 Run'), chalk.cyan('tazz list'), chalk.gray('to see all sessions'))\n      console.log('')\n\n    } catch (error) {\n      this.logger.error('Initialization failed', error)\n      console.log('')\n      console.log(chalk.red('\u274C Tazz initialization failed'))\n      \n      if (error instanceof TazzError) {\n        console.log(chalk.red(`   ${error.message}`))\n      } else {\n        console.log(chalk.red('   An unexpected error occurred'))\n        console.log(chalk.gray('   Check logs for details: ~/.tazz/logs/tazz.log'))\n      }\n      \n      process.exit(1)\n    }\n  }\n\n  private async checkExistingInstallation(): Promise<boolean> {\n    const projectPath = process.cwd()\n    // Check for local .tazz or .claude directories (user collaboration files)\n    const hasTazz = await pathExists(join(projectPath, '.tazz'))\n    const hasClaude = await pathExists(join(projectPath, '.claude'))\n    return hasTazz || hasClaude\n  }\n\n  private async setupInfrastructure(projectPath: string): Promise<void> {\n    const spinner = ora('Setting up Tazz infrastructure').start()\n\n    try {\n      // Create centralized Tazz directory structure\n      const globalTazzDir = getTazzDir()\n      const projectTazzDir = getProjectTazzDir(projectPath)\n      \n      const directories = [\n        // Global directories\n        join(globalTazzDir, 'logs'),\n        join(globalTazzDir, 'sessions'),\n        join(globalTazzDir, 'config'),\n        join(globalTazzDir, 'projects'),\n        // Project-specific directories in centralized location\n        projectTazzDir,\n        join(projectTazzDir, 'rules'),\n        join(projectTazzDir, 'hooks'),\n        join(projectTazzDir, 'analysis'),\n        join(projectTazzDir, 'templates'),\n        // Minimal local directories for user collaboration\n        join(projectPath, '.tazz'),\n        join(projectPath, '.claude')\n      ]\n\n      await Promise.all(\n        directories.map(dir => ensureDir(dir))\n      )\n\n      // Create initial project config files\n      const projectName = (() => {\n        try {\n          return require(join(projectPath, 'package.json')).name || 'unknown'\n        } catch {\n          return 'unknown'\n        }\n      })()\n\n      const initialFiles = {\n        // Centralized files\n        [join(projectTazzDir, 'sessions.json')]: JSON.stringify({ sessions: [] }, null, 2),\n        [join(projectTazzDir, 'config.json')]: JSON.stringify({\n          version: '1.0.0',\n          initialized: new Date().toISOString(),\n          project: {\n            name: projectName,\n            path: projectPath,\n            type: 'library'\n          },\n          features: {\n            mcpIntegration: false,\n            codebaseAnalysis: true,\n            intelligentRules: true,\n            hooksIntegration: true\n          },\n          settings: {\n            maxConcurrentSessions: 10,\n            defaultBranch: 'main',\n            tmuxPrefix: 'tazz_',\n            agentTimeout: 300000,\n            logLevel: 'info',\n            autoCommit: false,\n            qualityGates: {\n              enabled: false,\n              coverage: 80\n            }\n          },\n          connectedServices: {\n            mcp: [],\n            git: true,\n            tmux: true\n          }\n        }, null, 2),\n        // Local file for user collaboration\n        [join(projectPath, '.tazz', 'tazz-todo.md')]: this.createInitialTodoTemplate()\n      }\n\n      await Promise.all(\n        Object.entries(initialFiles).map(([file, content]) =>\n          writeFile(file, content)\n        )\n      )\n\n      // Copy complete .claude configuration from tazz-cli template\n      await this.copyClaudeTemplate(projectPath)\n\n      spinner.succeed('Infrastructure setup complete')\n    } catch (error) {\n      spinner.fail('Infrastructure setup failed')\n      throw error\n    }\n  }\n\n  private createInitialTodoTemplate(): string {\n    return `# Tazz Development Tasks\n\n## Session Tasks\n\nTaskName: Feature Implementation\nSessionName: feat-impl\nDescription: Implement the main functionality for this feature. This context will be passed to the Claude instance in the tmux session.\n\nTaskName: Write Tests\nSessionName: write-tests\nDescription: Create comprehensive tests for the implemented functionality. Focus on unit tests and integration tests.\n\nTaskName: Update Documentation\nSessionName: update-docs\nDescription: Update relevant documentation including README, API docs, and inline comments.\n\nTaskName: Code Review Preparation\nSessionName: code-review\nDescription: Prepare code for review, run linting, fix any issues, and ensure quality standards are met.\n\n## In Progress\n\nTaskName: Current Implementation Task\nSessionName: current-work\nDescription: Description of what is currently being implemented or debugged.\n\n## Quality Checklist (Legacy Format)\n- [ ] Code follows project patterns\n- [ ] Tests pass locally\n- [ ] Coverage meets threshold\n- [ ] Code reviewed\n- [ ] Documentation updated\n\n## Session Notes\nAdd notes about current session, decisions made, next steps...\n\n## Quick Commands\n\\`\\`\\`bash\n# Start all tasks (creates separate tmux sessions)\ntazz run\n\n# Join specific task session\ntazz join feat-impl\n\n# List all active sessions\ntazz list\n\n# Complete a session and clean up\ntazz done feat-impl\n\n# Complete all sessions\ntazz done --all\n\\`\\`\\`\n`\n  }\n\n  private async copyClaudeTemplate(projectPath: string): Promise<void> {\n    try {\n      // Get the path to the Tazz CLI's template directory\n      const tazzCliDir = dirname(__dirname)\n      const templateDir = join(tazzCliDir, 'templates', 'claude-template')\n      \n      // Copy the entire Claude template to the project\n      const projectClaudeDir = join(projectPath, '.claude')\n      \n      if (await pathExists(templateDir)) {\n        await copy(templateDir, projectClaudeDir, { overwrite: true })\n        \n        // Update the settings.json to point to the correct project-specific paths\n        await this.updateClaudeSettings(projectPath, projectClaudeDir)\n        \n        this.logger.info('Claude configuration copied from template', { templateDir, projectClaudeDir })\n      } else {\n        this.logger.warn('Claude template not found', { templateDir })\n        throw new Error(`Claude template not found at ${templateDir}`)\n      }\n    } catch (error) {\n      this.logger.error('Failed to copy Claude template', { error: error.message })\n      throw error\n    }\n  }\n\n  private async updateClaudeSettings(projectPath: string, projectClaudeDir: string): Promise<void> {\n    const projectTazzDir = getProjectTazzDir(projectPath)\n    const settingsPath = join(projectClaudeDir, 'settings.json')\n    \n    if (await pathExists(settingsPath)) {\n      const settings = JSON.parse(await readFile(settingsPath, 'utf-8'))\n      \n      // Update git repository path to current project\n      if (settings.mcpServers?.git) {\n        settings.mcpServers.git.args = [\n          \"mcp-server-git\",\n          \"--repository\", \n          projectPath\n        ]\n      }\n      \n      // Update hook script paths to centralized location\n      if (settings.hooks) {\n        Object.keys(settings.hooks).forEach(hookName => {\n          if (settings.hooks[hookName].script) {\n            const scriptName = settings.hooks[hookName].script.split('/').pop()\n            settings.hooks[hookName].script = join(projectTazzDir, 'hooks', scriptName)\n          }\n        })\n      }\n      \n      await writeFile(settingsPath, JSON.stringify(settings, null, 2))\n    }\n  }\n\n  private async setupMCPIntegration(projectPath: string): Promise<MCPIntegrationService | null> {\n    const spinner = ora('Detecting and configuring MCP servers').start()\n\n    try {\n      const mcpService = new MCPIntegrationService(this.logger)\n      const mcpConfig = await mcpService.detectAndSetupMCPs()\n      \n      // Setup project-specific configuration\n      await mcpService.setupProjectSpecific(projectPath)\n\n      const connectedServers = mcpService.getConnectedServers()\n      \n      spinner.succeed(`MCP integration complete (${connectedServers.length} servers connected)`)\n      \n      if (connectedServers.length > 0) {\n        console.log(chalk.gray('    Connected servers:'), chalk.cyan(connectedServers.join(', ')))\n      }\n\n      return mcpService\n    } catch (error) {\n      spinner.warn('MCP integration failed, continuing without MCP features')\n      this.logger.warn('MCP integration failed', { error: error.message })\n      return null\n    }\n  }\n\n  private async analyzeCodebase(projectPath: string, mcpService: MCPIntegrationService | null): Promise<any> {\n    const spinner = ora('Analyzing codebase structure and patterns').start()\n\n    try {\n      const analyzer = new CodebaseAnalyzer(\n        mcpService || new MCPIntegrationService(this.logger),\n        this.logger,\n        projectPath\n      )\n      \n      const analysis = await analyzer.analyzeProject()\n      \n      spinner.succeed('Codebase analysis complete')\n      console.log(chalk.gray('    Project type:'), chalk.cyan(analysis.structure.type))\n      console.log(chalk.gray('    Language:'), chalk.cyan(analysis.technologies.language))\n      if (analysis.technologies.framework) {\n        console.log(chalk.gray('    Framework:'), chalk.cyan(analysis.technologies.framework))\n      }\n      console.log(chalk.gray('    Has tests:'), analysis.testingStrategy.hasTests ? chalk.green('Yes') : chalk.yellow('No'))\n\n      return analysis\n    } catch (error) {\n      spinner.fail('Codebase analysis failed')\n      throw error\n    }\n  }\n\n  private async generateIntelligentRules(projectPath: string, analysis: any): Promise<void> {\n    const spinner = ora('Generating intelligent rules and patterns').start()\n\n    try {\n      const rulesGenerator = new IntelligentRulesGenerator(this.logger, projectPath)\n      await rulesGenerator.generateProjectRules(analysis)\n      \n      spinner.succeed('Rules generation complete')\n      console.log(chalk.gray('    Generated rules for:'), chalk.cyan(analysis.technologies.language))\n    } catch (error) {\n      spinner.fail('Rules generation failed')\n      throw error\n    }\n  }\n\n  private async generateHookScripts(projectPath: string, analysis: any): Promise<void> {\n    const spinner = ora('Setting up Claude Code hooks integration').start()\n\n    try {\n      const rulesGenerator = new IntelligentRulesGenerator(this.logger, projectPath)\n      await rulesGenerator.generateHookScripts(analysis)\n      \n      // Create sub-agent configurations (Claude config already copied in infrastructure setup)\n      await this.createSubAgentConfigs(projectPath, analysis)\n      \n      spinner.succeed('Hook scripts generated')\n      console.log(chalk.gray('    Created Claude Code integration hooks'))\n    } catch (error) {\n      spinner.fail('Hook generation failed')\n      throw error\n    }\n  }\n\n  private async createClaudeHooksConfig(projectPath: string): Promise<void> {\n    const projectTazzDir = getProjectTazzDir(projectPath)\n    \n    // Get the path to the Tazz CLI's template directory\n    // Since we're in dist/index.js, go up one level to find templates\n    const tazzCliDir = dirname(__dirname)\n    const templateDir = join(tazzCliDir, 'templates', 'claude-template')\n    \n    // Copy the entire Claude template to the project\n    const projectClaudeDir = join(projectPath, '.claude')\n    \n    if (await pathExists(templateDir)) {\n      await copy(templateDir, projectClaudeDir, { overwrite: true })\n      \n      // Update the settings.json to point to the correct project-specific paths\n      const settingsPath = join(projectClaudeDir, 'settings.json')\n      if (await pathExists(settingsPath)) {\n        const settings = JSON.parse(await readFile(settingsPath, 'utf-8'))\n        \n        // Update git repository path to current project\n        if (settings.mcpServers?.git) {\n          settings.mcpServers.git.args = [\n            \"mcp-server-git\",\n            \"--repository\", \n            projectPath\n          ]\n        }\n        \n        // Update hook script paths to centralized location\n        if (settings.hooks) {\n          Object.keys(settings.hooks).forEach(hookName => {\n            if (settings.hooks[hookName].script) {\n              const scriptName = settings.hooks[hookName].script.split('/').pop()\n              settings.hooks[hookName].script = join(projectTazzDir, 'hooks', scriptName)\n            }\n          })\n        }\n        \n        // Update sub-agent paths to centralized location\n        if (settings.subAgents) {\n          Object.keys(settings.subAgents).forEach(agentName => {\n            const agent = settings.subAgents[agentName]\n            if (agent.rules) {\n              const rulesFile = agent.rules.split('/').pop()\n              agent.rules = join(projectTazzDir, 'rules', rulesFile)\n            }\n            if (agent.templates) {\n              agent.templates = join(projectTazzDir, 'templates/')\n            }\n            if (agent.analysis) {\n              agent.analysis = join(projectTazzDir, 'analysis.json')\n            }\n          })\n        }\n        \n        await writeFile(settingsPath, JSON.stringify(settings, null, 2))\n      }\n      \n      this.logger.info('Claude configuration copied from template', { templateDir, projectClaudeDir })\n    } else {\n      this.logger.warn('Claude template not found', { templateDir })\n      throw new Error(`Claude template not found at ${templateDir}`)\n    }\n  }\n\n  private async createSubAgentConfigs(projectPath: string, analysis: any): Promise<void> {\n    const projectTazzDir = getProjectTazzDir(projectPath)\n    const subAgentsDir = join(projectTazzDir, 'subagents')\n    await ensureDir(subAgentsDir)\n\n    // Create detailed configuration for each sub-agent\n    const subAgentConfigs = {\n      'testing-agent.json': {\n        name: \"Testing Specialist\",\n        role: \"Test automation and quality assurance expert\",\n        expertise: [\n          \"Unit testing patterns\",\n          \"Integration test strategies\", \n          \"E2E automation with Playwright\",\n          \"Test coverage optimization\",\n          \"Performance testing\",\n          \"CI/CD test pipeline integration\"\n        ],\n        tools: {\n          primary: [\"Write\", \"Edit\", \"Bash\"],\n          mcp: [\"playwright\", \"github\", \"sonarcloud\"],\n          testing: [\"jest\", \"vitest\", \"cypress\", \"playwright\"]\n        },\n        workflows: {\n          \"create-unit-tests\": {\n            steps: [\"Analyze code\", \"Generate test structure\", \"Implement assertions\", \"Verify coverage\"],\n            templates: join(projectTazzDir, 'templates/unit-test.template')\n          },\n          \"setup-e2e-tests\": {\n            steps: [\"Design user flows\", \"Create page objects\", \"Implement scenarios\", \"Configure CI\"],\n            templates: join(projectTazzDir, 'templates/integration-test.template')\n          }\n        },\n        language: analysis.technologies.language,\n        framework: analysis.technologies.framework,\n        testingStrategy: analysis.testingStrategy\n      },\n\n      'architecture-agent.json': {\n        name: \"Architecture Analyst\", \n        role: \"System design and code structure expert\",\n        expertise: [\n          \"Design pattern analysis\",\n          \"Code architecture assessment\",\n          \"Technical debt identification\",\n          \"Performance optimization\",\n          \"Security analysis\",\n          \"Refactoring strategies\"\n        ],\n        tools: {\n          primary: [\"Read\", \"Glob\", \"Grep\"],\n          mcp: [\"sonarcloud\", \"context7\", \"github\"],\n          analysis: [\"ast-parser\", \"complexity-analyzer\"]\n        },\n        workflows: {\n          \"analyze-architecture\": {\n            steps: [\"Code structure mapping\", \"Pattern identification\", \"Dependency analysis\", \"Quality metrics\"],\n            analysis: join(projectTazzDir, 'analysis.json')\n          },\n          \"refactor-recommendations\": {\n            steps: [\"Technical debt assessment\", \"Performance bottlenecks\", \"Security vulnerabilities\", \"Improvement plan\"],\n            rules: join(projectTazzDir, 'rules/code-style.json')\n          }\n        },\n        projectType: analysis.projectType,\n        technologies: analysis.technologies,\n        structure: analysis.structure\n      },\n\n      'devops-agent.json': {\n        name: \"DevOps Engineer\",\n        role: \"CI/CD and infrastructure automation specialist\", \n        expertise: [\n          \"CI/CD pipeline optimization\",\n          \"Docker containerization\",\n          \"Build automation\",\n          \"Quality gate enforcement\",\n          \"Deployment strategies\",\n          \"Infrastructure as code\"\n        ],\n        tools: {\n          primary: [\"Bash\", \"Write\", \"Edit\"],\n          mcp: [\"github\", \"sonarcloud\"],\n          devops: [\"docker\", \"kubernetes\", \"terraform\"]\n        },\n        workflows: {\n          \"setup-ci-pipeline\": {\n            steps: [\"Analyze build process\", \"Configure workflows\", \"Setup quality gates\", \"Deploy automation\"],\n            rules: join(projectTazzDir, 'rules/git-workflow.json')\n          },\n          \"containerize-application\": {\n            steps: [\"Create Dockerfile\", \"Optimize layers\", \"Configure compose\", \"Setup healthchecks\"]\n          }\n        },\n        technologies: analysis.technologies,\n        buildTools: analysis.buildTools\n      }\n    }\n\n    // Write sub-agent configuration files\n    await Promise.all(\n      Object.entries(subAgentConfigs).map(([filename, config]) =>\n        writeFile(join(subAgentsDir, filename), JSON.stringify(config, null, 2))\n      )\n    )\n\n    this.logger.info('Sub-agent configurations created', { subAgentsDir })\n  }\n\n  private async setupTestingStrategy(projectPath: string, analysis: any): Promise<void> {\n    const spinner = ora('Setting up testing strategy').start()\n\n    try {\n      // Create test templates based on analysis in centralized location\n      const projectTazzDir = getProjectTazzDir(projectPath)\n      const templatesDir = join(projectTazzDir, 'templates')\n      \n      const testTemplates = {\n        'unit-test.template': this.createUnitTestTemplate(analysis),\n        'integration-test.template': analysis.structure.hasAPI ? this.createIntegrationTestTemplate(analysis) : null,\n        'e2e-test.template': analysis.structure.hasFrontend ? this.createE2ETestTemplate(analysis) : null\n      }\n\n      await Promise.all(\n        Object.entries(testTemplates)\n          .filter(([, content]) => content !== null)\n          .map(([filename, content]) =>\n            writeFile(join(templatesDir, filename), content!)\n          )\n      )\n\n      spinner.succeed('Testing strategy configured')\n    } catch (error) {\n      spinner.fail('Testing strategy setup failed')\n      throw error\n    }\n  }\n\n  private createUnitTestTemplate(analysis: any): string {\n    const language = analysis.technologies.language\n    const framework = analysis.testingStrategy.framework\n\n    if (language === 'typescript' || language === 'javascript') {\n      return `import { describe, it, expect } from '${framework || 'vitest'}'\nimport { {{COMPONENT_NAME}} } from '../src/{{COMPONENT_PATH}}'\n\ndescribe('{{COMPONENT_NAME}}', () => {\n  it('should {{TEST_DESCRIPTION}}', () => {\n    // Arrange\n    const input = {{TEST_INPUT}}\n\n    // Act\n    const result = {{COMPONENT_NAME}}(input)\n\n    // Assert\n    expect(result).{{ASSERTION}}\n  })\n})`\n    }\n\n    return `// Unit test template for {{COMPONENT_NAME}}\n// Add your test cases here`\n  }\n\n  private createIntegrationTestTemplate(analysis: any): string {\n    return `// Integration test template for API endpoints\nimport request from 'supertest'\nimport app from '../src/app'\n\ndescribe('{{API_ENDPOINT}}', () => {\n  beforeEach(async () => {\n    // Setup test database\n  })\n\n  it('should {{ENDPOINT_BEHAVIOR}}', async () => {\n    const response = await request(app)\n      .{{HTTP_METHOD}}('{{ENDPOINT_PATH}}')\n      .send({{REQUEST_BODY}})\n      .expect({{EXPECTED_STATUS}})\n\n    expect(response.body).toMatchObject({{EXPECTED_RESPONSE}})\n  })\n})`\n  }\n\n  private createE2ETestTemplate(analysis: any): string {\n    const hasPlaywright = analysis.testingStrategy.e2e?.framework === 'playwright'\n\n    if (hasPlaywright) {\n      return `import { test, expect } from '@playwright/test'\n\ntest.describe('{{FEATURE_NAME}}', () => {\n  test('should {{TEST_DESCRIPTION}}', async ({ page }) => {\n    await page.goto('${analysis.structure.baseURL || 'http://localhost:3000'}')\n    \n    // Test user workflow\n    await page.click('{{SELECTOR}}')\n    await page.fill('input[name=\"{{INPUT_NAME}}\"]', '{{TEST_VALUE}}')\n    \n    await expect(page.locator('{{RESULT_SELECTOR}}')).toHaveText('{{EXPECTED_TEXT}}')\n  })\n})`\n    }\n\n    return `// E2E test template\ndescribe('{{FEATURE_NAME}}', () => {\n  it('should complete user workflow', () => {\n    // Add E2E test steps\n  })\n})`\n  }\n\n  private async createConfiguration(projectPath: string, context: {\n    mcpService: MCPIntegrationService | null\n    analysis: any\n  }): Promise<void> {\n    const config = {\n      version: '1.0.0',\n      initialized: new Date().toISOString(),\n      project: {\n        name: this.getProjectName(projectPath),\n        path: projectPath,\n        type: context.analysis?.structure.type || 'unknown'\n      },\n      features: {\n        mcpIntegration: context.mcpService !== null,\n        codebaseAnalysis: context.analysis !== null,\n        intelligentRules: context.analysis !== null,\n        hooksIntegration: context.analysis !== null\n      },\n      settings: {\n        maxConcurrentSessions: 10,\n        defaultBranch: 'main',\n        tmuxPrefix: 'tazz_',\n        agentTimeout: 300000,\n        logLevel: 'info',\n        autoCommit: false,\n        qualityGates: {\n          enabled: context.analysis?.quality.hasQualityGates || false,\n          coverage: context.analysis?.quality.coverageThreshold || 80\n        }\n      },\n      connectedServices: {\n        mcp: context.mcpService?.getConnectedServers() || [],\n        git: true,\n        tmux: true\n      }\n    }\n\n    // Store configuration only in centralized location (already done in setupInfrastructure)\n    const projectTazzDir = getProjectTazzDir(projectPath)\n    await writeFile(\n      join(projectTazzDir, 'config.json'),\n      JSON.stringify(config, null, 2)\n    )\n  }\n\n  private getProjectName(projectPath: string): string {\n    try {\n      const packageJson = require(join(projectPath, 'package.json'))\n      return packageJson.name\n    } catch {\n      return require('path').basename(projectPath)\n    }\n  }\n\n  private async updateGitignore(projectPath: string): Promise<void> {\n    const gitignorePath = join(projectPath, '.gitignore')\n    const tazzEntries = [\n      '',\n      '# Tazz CLI',\n      '.tazz/',\n      '.claude/',\n      ''\n    ].join('\\n')\n\n    try {\n      if (await pathExists(gitignorePath)) {\n        const existing = await readFile(gitignorePath, 'utf-8')\n        if (!existing.includes('.tazz/')) {\n          await writeFile(gitignorePath, existing + tazzEntries)\n        }\n      } else {\n        await writeFile(gitignorePath, tazzEntries)\n      }\n    } catch (error) {\n      this.logger.warn('Could not update .gitignore', { error: error.message })\n    }\n  }\n}", "import { readFile, writeFile as fsWriteFile, ensureFile } from 'fs-extra'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport { execa } from 'execa'\nimport { z } from 'zod'\nimport { Logger } from '../../utils/logger'\nimport { MCPServer, MCPConfiguration, MCPError, CommandResult } from '../types'\n\n// Zod schemas for validation\nconst MCPServerSchema = z.object({\n  command: z.string(),\n  args: z.array(z.string()),\n  env: z.record(z.string()).optional().default({}),\n  autoApprove: z.array(z.string()).optional().default([]),\n  disabled: z.boolean().optional().default(false),\n  timeout: z.number().optional().default(60),\n  transportType: z.enum(['stdio', 'sse']).optional().default('stdio')\n})\n\nconst ClaudeConfigSchema = z.object({\n  mcpServers: z.record(MCPServerSchema).optional().default({}),\n  globalShortcuts: z.object({\n    toggle: z.string().optional()\n  }).optional(),\n  statusLine: z.object({\n    enabled: z.boolean().optional(),\n    position: z.enum(['left', 'right']).optional()\n  }).optional()\n})\n\nexport class MCPIntegrationService {\n  private logger: Logger\n  private mcpConfig: MCPConfiguration | null = null\n  private connectedServers: Map<string, MCPServer> = new Map()\n\n  constructor(logger: Logger) {\n    this.logger = logger\n  }\n\n  /**\n   * Detect and load MCP configuration from Claude Code settings\n   */\n  async detectAndSetupMCPs(): Promise<MCPConfiguration> {\n    this.logger.info('Detecting MCP servers from Claude Code configuration')\n\n    try {\n      const claudeConfig = await this.readClaudeConfig()\n      const relevantMCPs = this.filterRelevantMCPs(claudeConfig.mcpServers)\n      \n      this.mcpConfig = this.categorizeServers(relevantMCPs)\n      \n      // Test connections to available servers\n      await this.testConnections()\n      \n      this.logger.info('MCP configuration loaded successfully', {\n        serversFound: Object.keys(relevantMCPs).length,\n        serversActive: this.connectedServers.size\n      })\n\n      return this.mcpConfig\n    } catch (error) {\n      this.logger.error('Failed to setup MCP integration', error)\n      throw new MCPError('MCP setup failed', { error: error.message }, error)\n    }\n  }\n\n  /**\n   * Read Claude Code configuration from multiple possible locations\n   */\n  private async readClaudeConfig(): Promise<any> {\n    const possiblePaths = [\n      join(homedir(), '.claude', 'settings.json'),\n      join(process.cwd(), '.claude', 'settings.json'),\n      join(homedir(), '.config', 'claude', 'settings.json')\n    ]\n\n    for (const configPath of possiblePaths) {\n      try {\n        const configContent = await readFile(configPath, 'utf-8')\n        const rawConfig = JSON.parse(configContent)\n        return ClaudeConfigSchema.parse(rawConfig)\n      } catch (error) {\n        this.logger.debug(`Claude config not found at ${configPath}`)\n        continue\n      }\n    }\n\n    throw new MCPError('No Claude Code configuration found', {\n      searchPaths: possiblePaths\n    })\n  }\n\n  /**\n   * Filter MCP servers that are relevant to Tazz functionality\n   */\n  private filterRelevantMCPs(mcpServers: Record<string, MCPServer>): Record<string, MCPServer> {\n    const tazzRelevantServers = [\n      'git',\n      'github', \n      'atlassian',\n      'sonarcloud',\n      'playwright',\n      'sequential-thinking',\n      'claude-task-master',\n      'fetch',\n      'figma',\n      'context7'\n    ]\n\n    const filtered = Object.fromEntries(\n      Object.entries(mcpServers)\n        .filter(([name]) => tazzRelevantServers.includes(name))\n        .filter(([, config]) => !config.disabled)\n    )\n\n    this.logger.debug('Filtered relevant MCP servers', {\n      total: Object.keys(mcpServers).length,\n      relevant: Object.keys(filtered).length,\n      servers: Object.keys(filtered)\n    })\n\n    return filtered\n  }\n\n  /**\n   * Categorize servers by their functionality for Tazz\n   */\n  private categorizeServers(servers: Record<string, MCPServer>): MCPConfiguration {\n    return {\n      codeAnalysis: {\n        git: servers.git,\n        sonarcloud: servers.sonarcloud,\n        fetch: servers.fetch\n      },\n      projectManagement: {\n        atlassian: servers.atlassian,\n        github: servers.github\n      },\n      testing: {\n        playwright: servers.playwright,\n        sequentialThinking: servers['sequential-thinking']\n      },\n      taskManagement: {\n        claudeTaskMaster: servers['claude-task-master']\n      }\n    }\n  }\n\n  /**\n   * Test connections to all available MCP servers\n   */\n  private async testConnections(): Promise<void> {\n    if (!this.mcpConfig) return\n\n    const allServers = this.getAllServers()\n    const connectionPromises = Object.entries(allServers).map(\n      async ([name, server]) => {\n        try {\n          await this.testServerConnection(name, server)\n          this.connectedServers.set(name, server)\n          this.logger.debug(`MCP server ${name} connected successfully`)\n        } catch (error) {\n          this.logger.warn(`Failed to connect to MCP server ${name}`, { error: error.message })\n        }\n      }\n    )\n\n    await Promise.all(connectionPromises)\n  }\n\n  /**\n   * Test connection to a specific MCP server\n   */\n  private async testServerConnection(name: string, server: MCPServer): Promise<void> {\n    try {\n      const { stdout } = await execa(server.command, server.args, {\n        env: { ...process.env, ...server.env },\n        timeout: server.timeout * 1000,\n        input: JSON.stringify({\n          jsonrpc: '2.0',\n          id: 1,\n          method: 'initialize',\n          params: {\n            protocolVersion: '2024-11-05',\n            capabilities: {},\n            clientInfo: {\n              name: 'tazz-cli',\n              version: '1.0.0'\n            }\n          }\n        })\n      })\n\n      const response = JSON.parse(stdout)\n      if (response.error) {\n        throw new Error(`Server error: ${response.error.message}`)\n      }\n    } catch (error) {\n      throw new MCPError(`Failed to connect to ${name}`, {\n        server: name,\n        command: server.command,\n        args: server.args\n      }, error)\n    }\n  }\n\n  /**\n   * Call an MCP server with a specific method and parameters\n   */\n  async callMCP(serverName: string, method: string, params: any = {}): Promise<any> {\n    const server = this.connectedServers.get(serverName)\n    if (!server) {\n      throw new MCPError(`MCP server ${serverName} not available`, {\n        availableServers: Array.from(this.connectedServers.keys())\n      })\n    }\n\n    try {\n      const requestId = Date.now()\n      const request = {\n        jsonrpc: '2.0',\n        id: requestId,\n        method,\n        params\n      }\n\n      this.logger.debug(`Calling MCP server ${serverName}`, { method, params })\n\n      const { stdout } = await execa(server.command, server.args, {\n        env: { ...process.env, ...server.env },\n        timeout: server.timeout * 1000,\n        input: JSON.stringify(request)\n      })\n\n      const response = JSON.parse(stdout)\n      \n      if (response.error) {\n        throw new MCPError(`MCP call failed: ${response.error.message}`, {\n          server: serverName,\n          method,\n          error: response.error\n        })\n      }\n\n      this.logger.debug(`MCP call successful`, { server: serverName, method })\n      return response.result\n    } catch (error) {\n      this.logger.error(`MCP call failed`, error, { server: serverName, method })\n      throw new MCPError(`Failed to call ${serverName}.${method}`, {\n        server: serverName,\n        method,\n        params\n      }, error)\n    }\n  }\n\n  /**\n   * Check if a specific MCP server is available and connected\n   */\n  isAvailable(serverName: string): boolean {\n    return this.connectedServers.has(serverName)\n  }\n\n  /**\n   * Get all connected servers\n   */\n  getConnectedServers(): string[] {\n    return Array.from(this.connectedServers.keys())\n  }\n\n  /**\n   * Get MCP configuration\n   */\n  getConfiguration(): MCPConfiguration | null {\n    return this.mcpConfig\n  }\n\n  /**\n   * Helper to get all servers from categorized configuration\n   */\n  private getAllServers(): Record<string, MCPServer> {\n    if (!this.mcpConfig) return {}\n\n    const allServers: Record<string, MCPServer> = {}\n\n    // Flatten all server categories\n    Object.values(this.mcpConfig).forEach(category => {\n      Object.entries(category).forEach(([key, server]) => {\n        if (server) {\n          allServers[key] = server\n        }\n      })\n    })\n\n    return allServers\n  }\n\n  /**\n   * Setup project-specific MCP configuration\n   */\n  async setupProjectSpecific(projectPath: string): Promise<void> {\n    // MCP configuration is now handled through .claude/settings.json\n    // This method is kept for compatibility but doesn't create separate mcp.json\n    try {\n      const defaultBranch = await this.detectDefaultBranch(projectPath)\n      this.logger.info('Project-specific MCP configuration prepared', { \n        projectPath,\n        connectedServers: Array.from(this.connectedServers.keys()),\n        defaultBranch\n      })\n    } catch (error) {\n      this.logger.error('Failed to setup project MCP configuration', error)\n      throw new MCPError('Failed to setup project-specific MCP configuration', {\n        projectPath\n      }, error)\n    }\n  }\n\n  /**\n   * Detect default branch for git repository\n   */\n  private async detectDefaultBranch(projectPath: string): Promise<string> {\n    try {\n      if (this.isAvailable('git')) {\n        const result = await this.callMCP('git', 'get_default_branch', {\n          repository: projectPath\n        })\n        return result.branch || 'main'\n      }\n      \n      // Fallback to git command\n      const { stdout } = await execa('git', ['symbolic-ref', 'refs/remotes/origin/HEAD'], {\n        cwd: projectPath\n      })\n      return stdout.replace('refs/remotes/origin/', '')\n    } catch {\n      return 'main' // Default fallback\n    }\n  }\n\n  /**\n   * Helper to write files (for testing purposes)\n   */\n  private async writeFile(path: string, content: string): Promise<void> {\n    await ensureFile(path)\n    await fsWriteFile(path, content, 'utf-8')\n  }\n}", "export * from \"./errors.js\";\nexport * from \"./helpers/parseUtil.js\";\nexport * from \"./helpers/typeAliases.js\";\nexport * from \"./helpers/util.js\";\nexport * from \"./types.js\";\nexport * from \"./ZodError.js\";\n", "export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n", "import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                const firstEl = sub.path[0];\n                fieldErrors[firstEl] = fieldErrors[firstEl] || [];\n                fieldErrors[firstEl].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n", "import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"bigint\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n", "import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n", "import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n", "export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n", "import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        if (!header)\n            return false;\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n", "import { readFile, pathExists, readdir, stat, writeFile, ensureFile } from 'fs-extra'\nimport { join, extname, basename } from 'path'\nimport { glob } from 'glob'\nimport { MCPIntegrationService } from './MCPIntegrationService'\nimport { Logger } from '../../utils/logger'\nimport { getProjectTazzDir } from '../../utils/paths'\nimport { \n  ProjectAnalysis, \n  ProjectStructure, \n  TechnologyStack, \n  CodePatterns, \n  QualityMetrics, \n  DependencyAnalysis,\n  ExistingTestingStrategy,\n  ProjectType,\n  TazzError\n} from '../types'\n\nexport class CodebaseAnalysisError extends TazzError {\n  readonly code = 'CODEBASE_ANALYSIS_ERROR'\n  readonly severity = 'medium'\n}\n\nexport class CodebaseAnalyzer {\n  private logger: Logger\n  private mcpService: MCPIntegrationService\n  private projectPath: string\n\n  constructor(mcpService: MCPIntegrationService, logger: Logger, projectPath: string = process.cwd()) {\n    this.mcpService = mcpService\n    this.logger = logger\n    this.projectPath = projectPath\n  }\n\n  /**\n   * Main analysis method - orchestrates all analysis steps\n   */\n  async analyzeProject(): Promise<ProjectAnalysis> {\n    this.logger.info('Starting comprehensive codebase analysis', { projectPath: this.projectPath })\n\n    try {\n      const [\n        structure,\n        technologies,\n        patterns,\n        quality,\n        dependencies,\n        testingStrategy\n      ] = await Promise.all([\n        this.analyzeProjectStructure(),\n        this.detectTechnologies(),\n        this.extractCodePatterns(),\n        this.runQualityAnalysis(),\n        this.analyzeDependencies(),\n        this.analyzeExistingTests()\n      ])\n\n      const analysis: ProjectAnalysis = {\n        structure,\n        technologies,\n        patterns,\n        quality,\n        dependencies,\n        testingStrategy\n      }\n\n      // Save analysis to .tazz/analysis.json\n      await this.saveAnalysis(analysis)\n      \n      this.logger.info('Codebase analysis completed', {\n        projectType: structure.type,\n        language: technologies.language,\n        framework: technologies.framework,\n        hasTests: testingStrategy.hasTests\n      })\n\n      return analysis\n    } catch (error) {\n      this.logger.error('Codebase analysis failed', error as Error)\n      throw new CodebaseAnalysisError('Failed to analyze codebase', {\n        projectPath: this.projectPath\n      })\n    }\n  }\n\n  /**\n   * Analyze project structure and organization\n   */\n  private async analyzeProjectStructure(): Promise<ProjectStructure> {\n    this.logger.debug('Analyzing project structure')\n\n    // Use git MCP if available for better file listing\n    let allFiles: string[] = []\n    if (this.mcpService.isAvailable('git')) {\n      try {\n        const gitFiles = await this.mcpService.callMCP('git', 'list_files', {\n          repository: this.projectPath\n        })\n        allFiles = gitFiles.files || []\n      } catch (error) {\n        this.logger.warn('Git MCP failed, falling back to filesystem scan')\n        allFiles = await this.scanFilesystem()\n      }\n    } else {\n      allFiles = await this.scanFilesystem()\n    }\n\n    const structure: ProjectStructure = {\n      type: this.detectProjectType(allFiles),\n      sourceDirectories: this.findSourceDirectories(allFiles),\n      testDirectories: this.findTestDirectories(allFiles),\n      configFiles: this.findConfigFiles(allFiles),\n      buildTools: this.detectBuildTools(allFiles),\n      hasAPI: this.detectAPI(allFiles),\n      hasFrontend: this.detectFrontend(allFiles),\n      baseURL: await this.detectBaseURL()\n    }\n\n    return structure\n  }\n\n  /**\n   * Scan filesystem when git MCP is not available\n   */\n  private async scanFilesystem(): Promise<string[]> {\n    const patterns = [\n      '**/*.{js,ts,jsx,tsx,py,go,rs,java,php,rb}',\n      '**/package.json',\n      '**/requirements.txt',\n      '**/Cargo.toml',\n      '**/go.mod',\n      '**/*.config.{js,ts,json}',\n      '**/test/**/*',\n      '**/tests/**/*',\n      '**/*.test.*',\n      '**/*.spec.*'\n    ]\n\n    const files = await glob(patterns, {\n      cwd: this.projectPath,\n      ignore: ['node_modules/**', 'dist/**', 'build/**', '.git/**']\n    })\n\n    return files\n  }\n\n  /**\n   * Detect project type based on files and structure\n   */\n  private detectProjectType(files: string[]): ProjectType {\n    const hasPackageJson = files.some(f => f.includes('package.json'))\n    const hasIndexHtml = files.some(f => f.includes('index.html'))\n    const hasReactFiles = files.some(f => f.includes('.jsx') || f.includes('.tsx'))\n    const hasServerFiles = files.some(f => f.includes('server') || f.includes('api'))\n    const hasPyFiles = files.some(f => f.endsWith('.py'))\n    const hasGoFiles = files.some(f => f.endsWith('.go'))\n    const hasMultiplePackageJsons = files.filter(f => f.includes('package.json')).length > 1\n\n    if (hasMultiplePackageJsons) return ProjectType.MONOREPO\n    if (hasReactFiles && hasServerFiles) return ProjectType.FULLSTACK\n    if (hasIndexHtml || hasReactFiles) return ProjectType.FRONTEND\n    if (hasServerFiles || hasPyFiles || hasGoFiles) return ProjectType.BACKEND\n    if (hasPackageJson && !hasIndexHtml) return ProjectType.LIBRARY\n\n    return ProjectType.BACKEND // Default fallback\n  }\n\n  /**\n   * Find source code directories\n   */\n  private findSourceDirectories(files: string[]): string[] {\n    const commonSrcDirs = ['src', 'lib', 'app', 'components', 'pages', 'routes']\n    const foundDirs = new Set<string>()\n\n    files.forEach(file => {\n      const parts = file.split('/')\n      if (parts.length > 1) {\n        const firstDir = parts[0]\n        if (commonSrcDirs.includes(firstDir) || firstDir.endsWith('src')) {\n          foundDirs.add(firstDir)\n        }\n      }\n    })\n\n    return Array.from(foundDirs)\n  }\n\n  /**\n   * Find test directories\n   */\n  private findTestDirectories(files: string[]): string[] {\n    const testDirs = new Set<string>()\n    \n    files.forEach(file => {\n      if (file.includes('test') || file.includes('spec') || file.includes('__tests__')) {\n        const parts = file.split('/')\n        const testDir = parts.find(part => \n          part.includes('test') || part.includes('spec') || part === '__tests__'\n        )\n        if (testDir) testDirs.add(testDir)\n      }\n    })\n\n    return Array.from(testDirs)\n  }\n\n  /**\n   * Find configuration files\n   */\n  private findConfigFiles(files: string[]): string[] {\n    const configPatterns = [\n      /.*config\\.(js|ts|json)$/,\n      /^(babel|webpack|rollup|vite|next)\\.config\\./,\n      /^(tsconfig|jsconfig)\\.json$/,\n      /^\\.eslintrc/,\n      /^\\.prettierrc/,\n      /^docker-compose\\./,\n      /^Dockerfile$/\n    ]\n\n    return files.filter(file => {\n      const filename = basename(file)\n      return configPatterns.some(pattern => pattern.test(filename))\n    })\n  }\n\n  /**\n   * Detect build tools from files\n   */\n  private detectBuildTools(files: string[]): string[] {\n    const tools = new Set<string>()\n    \n    if (files.some(f => f.includes('package.json'))) {\n      // Check package.json content for scripts\n      try {\n        const packageJson = require(join(this.projectPath, 'package.json'))\n        if (packageJson.scripts) {\n          if (packageJson.scripts.build) tools.add('npm/yarn')\n          if (packageJson.devDependencies?.webpack) tools.add('webpack')\n          if (packageJson.devDependencies?.vite) tools.add('vite')\n          if (packageJson.devDependencies?.['@next/core']) tools.add('next.js')\n        }\n      } catch (error) {\n        this.logger.debug('Could not read package.json')\n      }\n    }\n\n    if (files.some(f => f.includes('Cargo.toml'))) tools.add('cargo')\n    if (files.some(f => f.includes('go.mod'))) tools.add('go modules')\n    if (files.some(f => f.includes('Makefile'))) tools.add('make')\n    if (files.some(f => f.includes('docker-compose'))) tools.add('docker')\n\n    return Array.from(tools)\n  }\n\n  /**\n   * Detect if project has API endpoints\n   */\n  private detectAPI(files: string[]): boolean {\n    const apiPatterns = [\n      /api\\//,\n      /routes\\//,\n      /controllers\\//,\n      /endpoints\\//,\n      /server\\./,\n      /app\\.py$/,\n      /main\\.go$/\n    ]\n\n    return files.some(file => apiPatterns.some(pattern => pattern.test(file)))\n  }\n\n  /**\n   * Detect if project has frontend components\n   */\n  private detectFrontend(files: string[]): boolean {\n    return files.some(file => \n      file.includes('index.html') ||\n      file.endsWith('.jsx') ||\n      file.endsWith('.tsx') ||\n      file.endsWith('.vue') ||\n      file.includes('components/') ||\n      file.includes('pages/')\n    )\n  }\n\n  /**\n   * Detect base URL for development server\n   */\n  private async detectBaseURL(): Promise<string | undefined> {\n    try {\n      const packageJsonPath = join(this.projectPath, 'package.json')\n      if (await pathExists(packageJsonPath)) {\n        const packageJson = JSON.parse(await readFile(packageJsonPath, 'utf-8'))\n        \n        // Check common dev server ports\n        if (packageJson.scripts?.dev?.includes('3000')) return 'http://localhost:3000'\n        if (packageJson.scripts?.dev?.includes('8080')) return 'http://localhost:8080'\n        if (packageJson.scripts?.start?.includes('3000')) return 'http://localhost:3000'\n      }\n    } catch (error) {\n      this.logger.debug('Could not detect base URL')\n    }\n    \n    return undefined\n  }\n\n  /**\n   * Detect technology stack\n   */\n  private async detectTechnologies(): Promise<TechnologyStack> {\n    this.logger.debug('Detecting technology stack')\n\n    const technologies: TechnologyStack = {\n      language: await this.detectPrimaryLanguage(),\n      framework: await this.detectFramework(),\n      testing: await this.detectTestingFramework(),\n      buildSystem: await this.detectBuildSystem(),\n      cicd: await this.detectCICDPlatform(),\n      database: await this.detectDatabase()\n    }\n\n    return technologies\n  }\n\n  /**\n   * Detect primary programming language\n   */\n  private async detectPrimaryLanguage(): Promise<string> {\n    const files = await this.scanFilesystem()\n    const extensions: Record<string, number> = {}\n\n    files.forEach(file => {\n      const ext = extname(file)\n      extensions[ext] = (extensions[ext] || 0) + 1\n    })\n\n    // Map extensions to languages\n    const langMap: Record<string, string> = {\n      '.js': 'javascript',\n      '.ts': 'typescript',\n      '.jsx': 'javascript',\n      '.tsx': 'typescript',\n      '.py': 'python',\n      '.go': 'go',\n      '.rs': 'rust',\n      '.java': 'java',\n      '.php': 'php',\n      '.rb': 'ruby'\n    }\n\n    const mostCommonExt = Object.entries(extensions)\n      .sort(([,a], [,b]) => b - a)[0]?.[0]\n\n    return langMap[mostCommonExt] || 'unknown'\n  }\n\n  /**\n   * Detect web framework\n   */\n  private async detectFramework(): Promise<string | undefined> {\n    try {\n      const packageJsonPath = join(this.projectPath, 'package.json')\n      if (await pathExists(packageJsonPath)) {\n        const packageJson = JSON.parse(await readFile(packageJsonPath, 'utf-8'))\n        const deps = { ...packageJson.dependencies, ...packageJson.devDependencies }\n\n        if (deps.react) return 'react'\n        if (deps.vue) return 'vue'\n        if (deps.angular || deps['@angular/core']) return 'angular'\n        if (deps.express) return 'express'\n        if (deps.fastify) return 'fastify'\n        if (deps.next) return 'next.js'\n        if (deps.nuxt) return 'nuxt.js'\n      }\n\n      // Check Python frameworks\n      const requirementsPath = join(this.projectPath, 'requirements.txt')\n      if (await pathExists(requirementsPath)) {\n        const requirements = await readFile(requirementsPath, 'utf-8')\n        if (requirements.includes('django')) return 'django'\n        if (requirements.includes('flask')) return 'flask'\n        if (requirements.includes('fastapi')) return 'fastapi'\n      }\n    } catch (error) {\n      this.logger.debug('Could not detect framework')\n    }\n\n    return undefined\n  }\n\n  /**\n   * Detect testing framework\n   */\n  private async detectTestingFramework(): Promise<string | undefined> {\n    try {\n      const packageJsonPath = join(this.projectPath, 'package.json')\n      if (await pathExists(packageJsonPath)) {\n        const packageJson = JSON.parse(await readFile(packageJsonPath, 'utf-8'))\n        const deps = { ...packageJson.dependencies, ...packageJson.devDependencies }\n\n        if (deps.jest) return 'jest'\n        if (deps.vitest) return 'vitest'\n        if (deps.mocha) return 'mocha'\n        if (deps.cypress) return 'cypress'\n        if (deps.playwright || deps['@playwright/test']) return 'playwright'\n        if (deps['@testing-library/react']) return 'react-testing-library'\n      }\n    } catch (error) {\n      this.logger.debug('Could not detect testing framework')\n    }\n\n    return undefined\n  }\n\n  /**\n   * Detect build system\n   */\n  private async detectBuildSystem(): Promise<string | undefined> {\n    const files = await this.scanFilesystem()\n    \n    if (files.some(f => f.includes('vite.config'))) return 'vite'\n    if (files.some(f => f.includes('webpack.config'))) return 'webpack'\n    if (files.some(f => f.includes('rollup.config'))) return 'rollup'\n    if (files.some(f => f.includes('next.config'))) return 'next.js'\n    if (files.some(f => f.includes('Cargo.toml'))) return 'cargo'\n    if (files.some(f => f.includes('go.mod'))) return 'go build'\n\n    return undefined\n  }\n\n  /**\n   * Detect CI/CD platform\n   */\n  private async detectCICDPlatform(): Promise<string | undefined> {\n    const files = await this.scanFilesystem()\n    \n    if (files.some(f => f.includes('.github/workflows'))) return 'github-actions'\n    if (files.some(f => f.includes('.gitlab-ci.yml'))) return 'gitlab-ci'\n    if (files.some(f => f.includes('azure-pipelines.yml'))) return 'azure-pipelines'\n    if (files.some(f => f.includes('Jenkinsfile'))) return 'jenkins'\n\n    return undefined\n  }\n\n  /**\n   * Detect database technology\n   */\n  private async detectDatabase(): Promise<string | undefined> {\n    try {\n      const packageJsonPath = join(this.projectPath, 'package.json')\n      if (await pathExists(packageJsonPath)) {\n        const packageJson = JSON.parse(await readFile(packageJsonPath, 'utf-8'))\n        const deps = { ...packageJson.dependencies, ...packageJson.devDependencies }\n\n        if (deps.mongodb || deps.mongoose) return 'mongodb'\n        if (deps.pg || deps.postgres) return 'postgresql'\n        if (deps.mysql || deps.mysql2) return 'mysql'\n        if (deps.sqlite3 || deps['better-sqlite3']) return 'sqlite'\n        if (deps.redis) return 'redis'\n      }\n    } catch (error) {\n      this.logger.debug('Could not detect database')\n    }\n\n    return undefined\n  }\n\n  /**\n   * Extract common code patterns\n   */\n  private async extractCodePatterns(): Promise<CodePatterns> {\n    this.logger.debug('Extracting code patterns')\n\n    // This would be much more sophisticated in practice\n    // For now, we'll do basic pattern detection\n    const patterns: CodePatterns = {\n      common: await this.detectCommonPatterns(),\n      architectural: await this.detectArchitecturalPatterns(),\n      naming: await this.detectNamingPatterns(),\n      imports: await this.detectImportPatterns()\n    }\n\n    return patterns\n  }\n\n  private async detectCommonPatterns(): Promise<string[]> {\n    // Basic implementation - would be much more sophisticated\n    const patterns: string[] = []\n    \n    try {\n      const files = await this.scanFilesystem()\n      const codeFiles = files.filter(f => /\\.(js|ts|jsx|tsx)$/.test(f))\n      \n      // Sample some files to detect patterns\n      for (const file of codeFiles.slice(0, 10)) {\n        try {\n          const content = await readFile(join(this.projectPath, file), 'utf-8')\n          \n          if (content.includes('export {') && content.includes('} from')) {\n            patterns.push('barrel-exports')\n          }\n          if (content.includes('try {') && content.includes('catch')) {\n            patterns.push('error-handling')\n          }\n          if (content.includes('async ') && content.includes('await ')) {\n            patterns.push('async-await')\n          }\n        } catch (error) {\n          continue\n        }\n      }\n    } catch (error) {\n      this.logger.debug('Could not analyze code patterns')\n    }\n\n    return [...new Set(patterns)] // Remove duplicates\n  }\n\n  private async detectArchitecturalPatterns(): Promise<string[]> {\n    const patterns: string[] = []\n    const files = await this.scanFilesystem()\n\n    if (files.some(f => f.includes('components/'))) patterns.push('component-based')\n    if (files.some(f => f.includes('services/'))) patterns.push('service-layer')\n    if (files.some(f => f.includes('utils/') || f.includes('helpers/'))) patterns.push('utility-functions')\n    if (files.some(f => f.includes('types/') || f.includes('interfaces/'))) patterns.push('type-definitions')\n\n    return patterns\n  }\n\n  private async detectNamingPatterns(): Promise<string[]> {\n    const patterns: string[] = []\n    const files = await this.scanFilesystem()\n\n    const hasKebabCase = files.some(f => /[a-z]+-[a-z]+/.test(basename(f)))\n    const hasCamelCase = files.some(f => /[a-z][A-Z]/.test(basename(f)))\n    const hasPascalCase = files.some(f => /^[A-Z][a-z]/.test(basename(f)))\n\n    if (hasKebabCase) patterns.push('kebab-case')\n    if (hasCamelCase) patterns.push('camelCase')\n    if (hasPascalCase) patterns.push('PascalCase')\n\n    return patterns\n  }\n\n  private async detectImportPatterns(): Promise<string[]> {\n    // Would analyze actual import statements in code\n    return ['relative-imports', 'absolute-imports']\n  }\n\n  /**\n   * Run quality analysis using available tools\n   */\n  private async runQualityAnalysis(): Promise<QualityMetrics> {\n    this.logger.debug('Running quality analysis')\n\n    let metrics: QualityMetrics = {\n      hasQualityGates: false,\n      linting: false,\n      formatting: false\n    }\n\n    // Use SonarCloud MCP if available\n    if (this.mcpService.isAvailable('sonarcloud')) {\n      try {\n        const sonarResults = await this.mcpService.callMCP('sonarcloud', 'get_project_analysis', {\n          projectKey: await this.detectProjectKey()\n        })\n        \n        metrics = {\n          ...metrics,\n          coverage: sonarResults.coverage,\n          complexity: sonarResults.complexity,\n          hasQualityGates: true\n        }\n      } catch (error) {\n        this.logger.debug('SonarCloud analysis failed, using basic analysis')\n      }\n    }\n\n    // Fallback to basic analysis\n    const basicAnalysis = await this.basicQualityAnalysis()\n    return { ...basicAnalysis, ...metrics }\n  }\n\n  private async basicQualityAnalysis(): Promise<QualityMetrics> {\n    const files = await this.scanFilesystem()\n    \n    return {\n      hasQualityGates: files.some(f => f.includes('.eslintrc') || f.includes('sonar')),\n      linting: files.some(f => f.includes('.eslintrc')),\n      formatting: files.some(f => f.includes('.prettierrc'))\n    }\n  }\n\n  private async detectProjectKey(): Promise<string> {\n    // Would detect from sonar-project.properties or similar\n    return basename(this.projectPath)\n  }\n\n  /**\n   * Analyze dependencies\n   */\n  private async analyzeDependencies(): Promise<DependencyAnalysis> {\n    this.logger.debug('Analyzing dependencies')\n\n    try {\n      const packageJsonPath = join(this.projectPath, 'package.json')\n      if (await pathExists(packageJsonPath)) {\n        const packageJson = JSON.parse(await readFile(packageJsonPath, 'utf-8'))\n        \n        const dependencies = [\n          ...Object.entries(packageJson.dependencies || {}).map(([name, version]) => ({\n            name, version: version as string, type: 'dependency' as const\n          })),\n          ...Object.entries(packageJson.devDependencies || {}).map(([name, version]) => ({\n            name, version: version as string, type: 'devDependency' as const\n          })),\n          ...Object.entries(packageJson.peerDependencies || {}).map(([name, version]) => ({\n            name, version: version as string, type: 'peerDependency' as const\n          }))\n        ]\n\n        return {\n          packageManager: await this.detectPackageManager(),\n          dependencies,\n          outdated: [] // Would need npm outdated or similar\n        }\n      }\n    } catch (error) {\n      this.logger.debug('Could not analyze dependencies')\n    }\n\n    return {\n      packageManager: 'unknown',\n      dependencies: [],\n      outdated: []\n    }\n  }\n\n  private async detectPackageManager(): Promise<string> {\n    const files = await this.scanFilesystem()\n    \n    if (files.some(f => f.includes('yarn.lock'))) return 'yarn'\n    if (files.some(f => f.includes('pnpm-lock.yaml'))) return 'pnpm'\n    if (files.some(f => f.includes('package-lock.json'))) return 'npm'\n    \n    return 'npm' // Default\n  }\n\n  /**\n   * Analyze existing test setup\n   */\n  private async analyzeExistingTests(): Promise<ExistingTestingStrategy> {\n    this.logger.debug('Analyzing existing test setup')\n\n    const files = await this.scanFilesystem()\n    const testFiles = files.filter(f => \n      f.includes('test') || f.includes('spec') || f.includes('__tests__')\n    )\n\n    const hasTests = testFiles.length > 0\n    const framework = await this.detectTestingFramework()\n    const testDirectories = this.findTestDirectories(files)\n\n    return {\n      hasTests,\n      framework,\n      testDirectories,\n      coverage: await this.analyzeCoverageSetup(),\n      e2e: await this.analyzeE2ESetup()\n    }\n  }\n\n  private async analyzeCoverageSetup(): Promise<{ configured: boolean; threshold?: number; tool?: string }> {\n    try {\n      const packageJsonPath = join(this.projectPath, 'package.json')\n      if (await pathExists(packageJsonPath)) {\n        const packageJson = JSON.parse(await readFile(packageJsonPath, 'utf-8'))\n        \n        if (packageJson.jest?.collectCoverage) {\n          return {\n            configured: true,\n            threshold: packageJson.jest.coverageThreshold?.global?.lines,\n            tool: 'jest'\n          }\n        }\n      }\n    } catch (error) {\n      this.logger.debug('Could not analyze coverage setup')\n    }\n\n    return { configured: false }\n  }\n\n  private async analyzeE2ESetup(): Promise<{ configured: boolean; framework?: string }> {\n    const framework = await this.detectTestingFramework()\n    const hasE2E = ['cypress', 'playwright'].includes(framework || '')\n\n    return {\n      configured: hasE2E,\n      framework: hasE2E ? framework : undefined\n    }\n  }\n\n  /**\n   * Save analysis results\n   */\n  private async saveAnalysis(analysis: ProjectAnalysis): Promise<void> {\n    const projectTazzDir = getProjectTazzDir(this.projectPath)\n    const analysisPath = join(projectTazzDir, 'analysis.json')\n    \n    await ensureFile(analysisPath)\n    await writeFile(analysisPath, JSON.stringify(analysis, null, 2))\n    \n    this.logger.debug('Analysis saved', { path: analysisPath })\n  }\n}", "import { writeFile, ensureFile, ensureDir } from 'fs-extra'\nimport { join } from 'path'\nimport { ProjectAnalysis, TazzError } from '../types'\nimport { Logger } from '../../utils/logger'\nimport { getProjectTazzDir } from '../../utils/paths'\n\nexport class RulesGenerationError extends TazzError {\n  readonly code = 'RULES_GENERATION_ERROR'\n  readonly severity = 'medium'\n}\n\nexport interface TazzRules {\n  codeStyle: CodeStyleRules\n  testing: TestingRules\n  gitWorkflow: GitWorkflowRules\n  qualityGates: QualityGateRules\n  agentBehavior: AgentBehaviorRules\n}\n\nexport interface CodeStyleRules {\n  language: string\n  formatter?: string\n  linter?: string\n  rules: Record<string, string>\n  examples: Record<string, string>\n  patterns: string[]\n}\n\nexport interface TestingRules {\n  framework: string\n  testLocation: string\n  namingConvention: string\n  coverage: {\n    minimum: number\n    enforce: boolean\n  }\n  patterns: {\n    unit: string[]\n    integration: string[]\n    e2e: string[]\n  }\n  templates: {\n    unit?: string\n    integration?: string\n    e2e?: string\n  }\n}\n\nexport interface GitWorkflowRules {\n  branchNaming: string\n  commitMessage: {\n    format: string\n    examples: string[]\n  }\n  pullRequest: {\n    template: string\n    requirements: string[]\n  }\n}\n\nexport interface QualityGateRules {\n  coverage: {\n    minimum: number\n    failOnDecrease: boolean\n  }\n  linting: {\n    required: boolean\n    autoFix: boolean\n  }\n  testing: {\n    required: boolean\n    types: string[]\n  }\n  security: {\n    scanRequired: boolean\n    tools: string[]\n  }\n}\n\nexport interface AgentBehaviorRules {\n  codeGeneration: {\n    followPatterns: boolean\n    useExistingStyles: boolean\n    includeTests: boolean\n  }\n  fileModification: {\n    backupFirst: boolean\n    formatAfter: boolean\n    runLinter: boolean\n  }\n  documentation: {\n    updateReadme: boolean\n    includeComments: boolean\n    generateChangelog: boolean\n  }\n}\n\nexport class IntelligentRulesGenerator {\n  private logger: Logger\n  private projectPath: string\n\n  constructor(logger: Logger, projectPath: string = process.cwd()) {\n    this.logger = logger\n    this.projectPath = projectPath\n  }\n\n  /**\n   * Generate complete set of project rules based on analysis\n   */\n  async generateProjectRules(analysis: ProjectAnalysis): Promise<TazzRules> {\n    this.logger.info('Generating intelligent project rules', {\n      projectType: analysis.structure.type,\n      language: analysis.technologies.language\n    })\n\n    try {\n      const rules: TazzRules = {\n        codeStyle: await this.generateCodeStyleRules(analysis),\n        testing: await this.generateTestingRules(analysis),\n        gitWorkflow: await this.generateGitRules(analysis),\n        qualityGates: await this.generateQualityGates(analysis),\n        agentBehavior: await this.generateAgentRules(analysis)\n      }\n\n      // Write rules to .tazz/rules/\n      await this.writeRulesToFiles(rules)\n      \n      this.logger.info('Project rules generated successfully')\n      return rules\n    } catch (error) {\n      this.logger.error('Failed to generate project rules', error)\n      throw new RulesGenerationError('Rules generation failed', {\n        projectPath: this.projectPath\n      }, error)\n    }\n  }\n\n  /**\n   * Generate code style rules based on detected patterns\n   */\n  private async generateCodeStyleRules(analysis: ProjectAnalysis): Promise<CodeStyleRules> {\n    const language = analysis.technologies.language\n    const framework = analysis.technologies.framework\n    const patterns = analysis.patterns\n\n    const rules = new Map<string, string>()\n    const examples = new Map<string, string>()\n\n    // Language-specific rules\n    switch (language) {\n      case 'typescript':\n        rules.set('types', 'Use explicit types for function parameters and return values')\n        rules.set('imports', 'Prefer absolute imports from src/ directory')\n        rules.set('interfaces', 'Use interfaces for object shapes, types for unions/primitives')\n        examples.set('function', 'function processData(input: string): ProcessedData { ... }')\n        examples.set('import', \"import { utils } from '@/utils'\")\n        break\n        \n      case 'javascript':\n        rules.set('functions', 'Use const for function declarations when possible')\n        rules.set('destructuring', 'Use destructuring for object properties')\n        examples.set('function', 'const processData = (input) => { ... }')\n        break\n        \n      case 'python':\n        rules.set('naming', 'Use snake_case for variables and functions')\n        rules.set('docstrings', 'Include docstrings for all public functions')\n        examples.set('function', 'def process_data(input_str: str) -> ProcessedData:')\n        break\n    }\n\n    // Framework-specific rules\n    if (framework === 'react') {\n      rules.set('components', 'Use functional components with hooks')\n      rules.set('props', 'Destructure props in component signature')\n      examples.set('component', 'const MyComponent: React.FC<Props> = ({ title, children }) => ...')\n    }\n\n    // Pattern-based rules\n    if (patterns.common.includes('async-await')) {\n      rules.set('async', 'Use async/await instead of .then() chains')\n      examples.set('async', 'const data = await fetchData() instead of fetchData().then()')\n    }\n\n    if (patterns.common.includes('error-handling')) {\n      rules.set('errors', 'Wrap async operations in try-catch with proper error types')\n      examples.set('error', 'try { await riskyOperation() } catch (error: OperationError) { ... }')\n    }\n\n    return {\n      language,\n      formatter: this.detectFormatter(analysis),\n      linter: this.detectLinter(analysis),\n      rules: Object.fromEntries(rules),\n      examples: Object.fromEntries(examples),\n      patterns: patterns.common\n    }\n  }\n\n  private detectFormatter(analysis: ProjectAnalysis): string | undefined {\n    if (analysis.quality.formatting) {\n      if (analysis.technologies.language === 'python') return 'black'\n      return 'prettier'\n    }\n    return undefined\n  }\n\n  private detectLinter(analysis: ProjectAnalysis): string | undefined {\n    if (analysis.quality.linting) {\n      switch (analysis.technologies.language) {\n        case 'typescript':\n        case 'javascript':\n          return 'eslint'\n        case 'python':\n          return 'pylint'\n        default:\n          return 'generic'\n      }\n    }\n    return undefined\n  }\n\n  /**\n   * Generate testing rules based on existing setup\n   */\n  private async generateTestingRules(analysis: ProjectAnalysis): Promise<TestingRules> {\n    const testingStrategy = analysis.testingStrategy\n    const framework = testingStrategy.framework || this.inferTestingFramework(analysis)\n\n    return {\n      framework,\n      testLocation: testingStrategy.testDirectories[0] || 'tests/',\n      namingConvention: this.detectTestNaming(analysis),\n      coverage: {\n        minimum: testingStrategy.coverage?.threshold || 80,\n        enforce: testingStrategy.coverage?.configured || false\n      },\n      patterns: {\n        unit: await this.generateUnitTestPatterns(analysis),\n        integration: await this.generateIntegrationTestPatterns(analysis),\n        e2e: await this.generateE2ETestPatterns(analysis)\n      },\n      templates: await this.generateTestTemplates(analysis)\n    }\n  }\n\n  private inferTestingFramework(analysis: ProjectAnalysis): string {\n    const language = analysis.technologies.language\n    \n    switch (language) {\n      case 'typescript':\n      case 'javascript':\n        return 'vitest' // Modern default\n      case 'python':\n        return 'pytest'\n      case 'go':\n        return 'go test'\n      case 'rust':\n        return 'cargo test'\n      default:\n        return 'generic'\n    }\n  }\n\n  private detectTestNaming(analysis: ProjectAnalysis): string {\n    const hasSpecFiles = analysis.testingStrategy.testDirectories.some(dir => \n      dir.includes('spec')\n    )\n    \n    return hasSpecFiles ? '*.spec.*' : '*.test.*'\n  }\n\n  private async generateUnitTestPatterns(analysis: ProjectAnalysis): Promise<string[]> {\n    const patterns = [\n      'Test individual functions in isolation',\n      'Mock external dependencies',\n      'Use descriptive test names that explain the scenario'\n    ]\n\n    if (analysis.technologies.framework === 'react') {\n      patterns.push('Test component behavior, not implementation details')\n      patterns.push('Use React Testing Library for component tests')\n    }\n\n    return patterns\n  }\n\n  private async generateIntegrationTestPatterns(analysis: ProjectAnalysis): Promise<string[]> {\n    const patterns = [\n      'Test interactions between modules',\n      'Use real dependencies where possible'\n    ]\n\n    if (analysis.structure.hasAPI) {\n      patterns.push('Test API endpoints with real database')\n      patterns.push('Validate request/response schemas')\n    }\n\n    return patterns\n  }\n\n  private async generateE2ETestPatterns(analysis: ProjectAnalysis): Promise<string[]> {\n    const patterns = []\n\n    if (analysis.structure.hasFrontend) {\n      patterns.push('Test complete user workflows')\n      patterns.push('Use page object pattern for maintainability')\n      patterns.push('Test critical user paths first')\n    }\n\n    return patterns\n  }\n\n  private async generateTestTemplates(analysis: ProjectAnalysis): Promise<Partial<TestingRules['templates']>> {\n    const templates: Partial<TestingRules['templates']> = {}\n\n    // Generate unit test template\n    templates.unit = await this.createUnitTestTemplate(analysis)\n\n    // Generate integration test template if API detected\n    if (analysis.structure.hasAPI) {\n      templates.integration = await this.createIntegrationTestTemplate(analysis)\n    }\n\n    // Generate E2E test template if frontend detected  \n    if (analysis.structure.hasFrontend) {\n      templates.e2e = await this.createE2ETestTemplate(analysis)\n    }\n\n    return templates\n  }\n\n  private async createUnitTestTemplate(analysis: ProjectAnalysis): Promise<string> {\n    const language = analysis.technologies.language\n    const framework = analysis.testingStrategy.framework || this.inferTestingFramework(analysis)\n\n    switch (language) {\n      case 'typescript':\n      case 'javascript':\n        return this.createJSUnitTestTemplate(framework, analysis)\n      case 'python':\n        return this.createPythonUnitTestTemplate()\n      default:\n        return this.createGenericUnitTestTemplate()\n    }\n  }\n\n  private createJSUnitTestTemplate(framework: string, analysis: ProjectAnalysis): string {\n    const isReact = analysis.technologies.framework === 'react'\n    \n    let template = `import { describe, it, expect, beforeEach } from '${framework}'`\n    \n    if (isReact) {\n      template += `\\nimport { render, screen } from '@testing-library/react'`\n    }\n    \n    template += `\\nimport { {{COMPONENT_NAME}} } from '../src/{{COMPONENT_PATH}}'\n\ndescribe('{{COMPONENT_NAME}}', () => {\n  beforeEach(() => {\n    // Setup test data and mocks\n  })\n\n  it('should {{TEST_DESCRIPTION}}', async () => {\n    // Arrange\n    const input = {{TEST_INPUT}}\n\n    // Act  \n    const result = {{COMPONENT_NAME}}(input)\n\n    // Assert\n    expect(result).{{ASSERTION}}\n  })\n\n  it('should handle error cases', () => {\n    // Test error scenarios\n  })\n})`\n\n    return template\n  }\n\n  private createPythonUnitTestTemplate(): string {\n    return `import pytest\nfrom unittest.mock import Mock, patch\nfrom src.{{MODULE_NAME}} import {{FUNCTION_NAME}}\n\nclass Test{{FUNCTION_NAME}}:\n    def setup_method(self):\n        \\\"\\\"\\\"Setup test data before each test.\\\"\\\"\\\"\n        pass\n\n    def test_{{FUNCTION_NAME}}_success(self):\n        \\\"\\\"\\\"Test {{FUNCTION_NAME}} with valid input.\\\"\\\"\\\"\n        # Arrange\n        input_data = {{TEST_INPUT}}\n        \n        # Act\n        result = {{FUNCTION_NAME}}(input_data)\n        \n        # Assert\n        assert result == {{EXPECTED_OUTPUT}}\n\n    def test_{{FUNCTION_NAME}}_error(self):\n        \\\"\\\"\\\"Test {{FUNCTION_NAME}} error handling.\\\"\\\"\\\"\n        with pytest.raises({{EXCEPTION_TYPE}}):\n            {{FUNCTION_NAME}}(invalid_input)\n`\n  }\n\n  private createGenericUnitTestTemplate(): string {\n    return `// Unit test template for {{COMPONENT_NAME}}\n// Generated by Tazz CLI\n\ndescribe('{{COMPONENT_NAME}}', () => {\n  // Add your test cases here\n})`\n  }\n\n  private async createIntegrationTestTemplate(analysis: ProjectAnalysis): Promise<string> {\n    return `// Integration test template for API endpoints\nimport request from 'supertest'\nimport app from '../src/app'\n\ndescribe('{{API_ENDPOINT}}', () => {\n  beforeEach(async () => {\n    // Setup test database\n  })\n\n  afterEach(async () => {\n    // Cleanup test data\n  })\n\n  it('should {{ENDPOINT_BEHAVIOR}}', async () => {\n    const response = await request(app)\n      .{{HTTP_METHOD}}('{{ENDPOINT_PATH}}')\n      .send({{REQUEST_BODY}})\n      .expect({{EXPECTED_STATUS}})\n\n    expect(response.body).toMatchObject({{EXPECTED_RESPONSE}})\n  })\n})`\n  }\n\n  private async createE2ETestTemplate(analysis: ProjectAnalysis): Promise<string> {\n    const hasPlaywright = analysis.testingStrategy.e2e?.framework === 'playwright'\n    \n    if (hasPlaywright) {\n      return `import { test, expect } from '@playwright/test'\n\ntest.describe('{{FEATURE_NAME}}', () => {\n  test.beforeEach(async ({ page }) => {\n    await page.goto('${analysis.structure.baseURL || 'http://localhost:3000'}')\n  })\n\n  test('should {{TEST_DESCRIPTION}}', async ({ page }) => {\n    // Navigate and interact with page\n    await page.click('{{SELECTOR}}')\n    await page.fill('input[name=\"{{INPUT_NAME}}\"]', '{{TEST_VALUE}}')\n    \n    // Assert expected results\n    await expect(page.locator('{{RESULT_SELECTOR}}')).toHaveText('{{EXPECTED_TEXT}}')\n  })\n})`\n    }\n\n    return `// E2E test template\ndescribe('{{FEATURE_NAME}}', () => {\n  it('should complete user workflow', () => {\n    // Add E2E test steps\n  })\n})`\n  }\n\n  /**\n   * Generate Git workflow rules\n   */\n  private async generateGitRules(analysis: ProjectAnalysis): Promise<GitWorkflowRules> {\n    return {\n      branchNaming: this.detectBranchNamingConvention(analysis),\n      commitMessage: {\n        format: 'type(scope): description',\n        examples: [\n          'feat(auth): add OAuth integration',\n          'fix(api): resolve timeout issues',\n          'docs(readme): update installation guide'\n        ]\n      },\n      pullRequest: {\n        template: await this.generatePRTemplate(analysis),\n        requirements: [\n          'All tests must pass',\n          'Code coverage must not decrease',\n          'PR description must be filled',\n          'At least one approval required'\n        ]\n      }\n    }\n  }\n\n  private detectBranchNamingConvention(analysis: ProjectAnalysis): string {\n    // Could analyze existing branches via git MCP\n    return 'feature/JIRA-123-description'\n  }\n\n  private async generatePRTemplate(analysis: ProjectAnalysis): string {\n    return `## Summary\nBrief description of changes\n\n## Type of Change\n- [ ] Bug fix\n- [ ] New feature\n- [ ] Breaking change\n- [ ] Documentation update\n\n## Testing\n- [ ] Unit tests added/updated\n- [ ] Integration tests added/updated\n- [ ] Manual testing completed\n\n## Checklist\n- [ ] Code follows project style guidelines\n- [ ] Self-review completed\n- [ ] Documentation updated\n- [ ] Tests pass locally`\n  }\n\n  /**\n   * Generate quality gate rules\n   */\n  private async generateQualityGates(analysis: ProjectAnalysis): Promise<QualityGateRules> {\n    return {\n      coverage: {\n        minimum: analysis.quality.coverageThreshold || 80,\n        failOnDecrease: analysis.quality.hasQualityGates\n      },\n      linting: {\n        required: analysis.quality.linting,\n        autoFix: true\n      },\n      testing: {\n        required: analysis.testingStrategy.hasTests,\n        types: this.getRequiredTestTypes(analysis)\n      },\n      security: {\n        scanRequired: analysis.quality.hasQualityGates,\n        tools: this.getSecurityTools(analysis)\n      }\n    }\n  }\n\n  private getRequiredTestTypes(analysis: ProjectAnalysis): string[] {\n    const types = ['unit']\n    \n    if (analysis.structure.hasAPI) types.push('integration')\n    if (analysis.structure.hasFrontend) types.push('e2e')\n    \n    return types\n  }\n\n  private getSecurityTools(analysis: ProjectAnalysis): string[] {\n    const tools: string[] = []\n    \n    if (analysis.technologies.language === 'javascript' || analysis.technologies.language === 'typescript') {\n      tools.push('npm audit')\n    }\n    \n    if (analysis.quality.hasQualityGates) {\n      tools.push('sonarcloud')\n    }\n    \n    return tools\n  }\n\n  /**\n   * Generate agent behavior rules\n   */\n  private async generateAgentRules(analysis: ProjectAnalysis): Promise<AgentBehaviorRules> {\n    return {\n      codeGeneration: {\n        followPatterns: true,\n        useExistingStyles: true,\n        includeTests: analysis.testingStrategy.hasTests\n      },\n      fileModification: {\n        backupFirst: true,\n        formatAfter: analysis.quality.formatting,\n        runLinter: analysis.quality.linting\n      },\n      documentation: {\n        updateReadme: true,\n        includeComments: analysis.technologies.language === 'python', // Python emphasizes docstrings\n        generateChangelog: analysis.quality.hasQualityGates\n      }\n    }\n  }\n\n  /**\n   * Write all rules to separate files\n   */\n  private async writeRulesToFiles(rules: TazzRules): Promise<void> {\n    const projectTazzDir = getProjectTazzDir(this.projectPath)\n    const rulesDir = join(projectTazzDir, 'rules')\n    await ensureDir(rulesDir)\n\n    // Write each rule category to its own file\n    await Promise.all([\n      this.writeRuleFile(join(rulesDir, 'code-style.json'), rules.codeStyle),\n      this.writeRuleFile(join(rulesDir, 'testing.json'), rules.testing),\n      this.writeRuleFile(join(rulesDir, 'git-workflow.json'), rules.gitWorkflow),\n      this.writeRuleFile(join(rulesDir, 'quality-gates.json'), rules.qualityGates),\n      this.writeRuleFile(join(rulesDir, 'agent-behavior.json'), rules.agentBehavior),\n    ])\n\n    // Write combined rules file\n    await this.writeRuleFile(join(rulesDir, 'all-rules.json'), rules)\n\n    this.logger.info('Rules files written', { rulesDir })\n  }\n\n  private async writeRuleFile(path: string, content: any): Promise<void> {\n    await ensureFile(path)\n    await writeFile(path, JSON.stringify(content, null, 2))\n  }\n\n  /**\n   * Generate hook scripts for Claude Code integration\n   */\n  async generateHookScripts(analysis: ProjectAnalysis): Promise<void> {\n    this.logger.info('Generating Claude Code hook scripts')\n\n    const projectTazzDir = getProjectTazzDir(this.projectPath)\n    const hooksDir = join(projectTazzDir, 'hooks')\n    await ensureDir(hooksDir)\n\n    // Generate different types of hooks\n    await Promise.all([\n      this.generateSessionStartHook(hooksDir, analysis),\n      this.generatePreToolHook(hooksDir, analysis),\n      this.generatePostToolHook(hooksDir, analysis),\n      this.generateQualityGateHook(hooksDir, analysis),\n      this.generateJiraIntegrationHook(hooksDir, analysis)\n    ])\n\n    this.logger.info('Hook scripts generated', { hooksDir })\n  }\n\n  private async generateSessionStartHook(hooksDir: string, analysis: ProjectAnalysis): Promise<void> {\n    const script = `#!/bin/bash\n# Auto-generated session start hook for ${analysis.structure.type} project\n\nSESSION_ID=\"$1\"\nTASK_DESCRIPTION=\"$2\"\n\necho \"\uD83C\uDF00 Starting Tazz session: $SESSION_ID\"\n\n# Set session environment\nexport TAZZ_SESSION_ID=\"$SESSION_ID\"\nexport TAZZ_ACTIVE=\"true\"\nexport TAZZ_PROJECT_TYPE=\"${analysis.structure.type}\"\nexport TAZZ_LANGUAGE=\"${analysis.technologies.language}\"\n\n# Initialize session context\ntazz context set --session \"$SESSION_ID\" --task \"$TASK_DESCRIPTION\"\n\n# Load project rules\ntazz rules load --session \"$SESSION_ID\"\n\n# Setup development environment\n${this.getEnvSetupCommands(analysis)}\n\necho \"\u2705 Session $SESSION_ID ready\"\n`\n\n    await this.writeExecutableScript(join(hooksDir, 'session-start.sh'), script)\n  }\n\n  private async generatePreToolHook(hooksDir: string, analysis: ProjectAnalysis): Promise<void> {\n    const script = `#!/bin/bash\n# Pre-tool execution hook\n\nTOOL_NAME=\"$1\"\nTOOL_PARAMS=\"$2\"\n\nif [[ \"$TAZZ_ACTIVE\" == \"true\" ]]; then\n    CURRENT_SESSION=$(tazz current-session)\n    \n    if [[ -n \"$CURRENT_SESSION\" ]]; then\n        # Log tool usage\n        tazz log tool-use --session \"$CURRENT_SESSION\" --tool \"$TOOL_NAME\"\n        \n        # Validate against project rules\n        tazz validate --session \"$CURRENT_SESSION\" --tool \"$TOOL_NAME\" --params \"$TOOL_PARAMS\"\n        \n        # Pre-execution setup\n        case \"$TOOL_NAME\" in\n            \"Edit\"|\"Write\")\n                tazz backup --session \"$CURRENT_SESSION\"\n                ;;\n            \"Bash\")\n                tazz safety-check --session \"$CURRENT_SESSION\" --command \"$TOOL_PARAMS\"\n                ;;\n        esac\n    fi\nfi\n`\n\n    await this.writeExecutableScript(join(hooksDir, 'pre-tool.sh'), script)\n  }\n\n  private async generatePostToolHook(hooksDir: string, analysis: ProjectAnalysis): Promise<void> {\n    const formatCommand = analysis.quality.formatting ? this.getFormatCommand(analysis) : 'echo \"No formatting configured\"'\n    const lintCommand = analysis.quality.linting ? this.getLintCommand(analysis) : 'echo \"No linting configured\"'\n\n    const script = `#!/bin/bash\n# Post-tool execution hook\n\nTOOL_NAME=\"$1\"\nTOOL_RESULT=\"$2\"\n\nif [[ \"$TAZZ_ACTIVE\" == \"true\" ]]; then\n    CURRENT_SESSION=$(tazz current-session)\n    \n    if [[ -n \"$CURRENT_SESSION\" ]]; then\n        case \"$TOOL_NAME\" in\n            \"Edit\"|\"Write\")\n                # Format code\n                ${formatCommand}\n                \n                # Run linting\n                ${lintCommand}\n                ;;\n            \"Bash\")\n                tazz log command-result --session \"$CURRENT_SESSION\" --result \"$TOOL_RESULT\"\n                ;;\n        esac\n        \n        # Update task progress\n        tazz task update --session \"$CURRENT_SESSION\"\n        \n        # Auto-commit if configured\n        if tazz config get auto-commit --session \"$CURRENT_SESSION\"; then\n            tazz commit --session \"$CURRENT_SESSION\" --auto\n        fi\n    fi\nfi\n`\n\n    await this.writeExecutableScript(join(hooksDir, 'post-tool.sh'), script)\n  }\n\n  private async generateQualityGateHook(hooksDir: string, analysis: ProjectAnalysis): Promise<void> {\n    const testCommand = this.getTestCommand(analysis)\n    const coverageCommand = this.getCoverageCommand(analysis)\n\n    const script = `#!/bin/bash\n# Quality gate hook\n\nSESSION_ID=\"$1\"\n\necho \"\uD83D\uDD0D Running quality gates for session $SESSION_ID\"\n\n# Run tests\nif ! ${testCommand}; then\n    tazz task mark-blocked --session \"$SESSION_ID\" --reason \"Tests failing\"\n    exit 1\nfi\n\n# Check coverage\nCOVERAGE=$(${coverageCommand})\nMIN_COVERAGE=${analysis.quality.coverageThreshold || 80}\n\nif (( $(echo \"$COVERAGE < $MIN_COVERAGE\" | bc -l) )); then\n    tazz task mark-blocked --session \"$SESSION_ID\" --reason \"Coverage below $MIN_COVERAGE%\"\n    exit 1\nfi\n\necho \"\u2705 Quality gates passed for session $SESSION_ID\"\n`\n\n    await this.writeExecutableScript(join(hooksDir, 'quality-gate.sh'), script)\n  }\n\n  private async generateJiraIntegrationHook(hooksDir: string, analysis: ProjectAnalysis): Promise<void> {\n    const script = `#!/bin/bash\n# Jira integration hook\n\nSESSION_ID=\"$1\"\nTASK_TYPE=\"$2\"\n\nif [[ \"$SESSION_ID\" =~ ^[A-Z]+-[0-9]+$ ]]; then\n    echo \"\uD83C\uDFAB Fetching Jira ticket: $SESSION_ID\"\n    \n    # Use Atlassian MCP to fetch ticket details\n    TICKET_INFO=$(tazz mcp call atlassian jira_get_issue --issue-key \"$SESSION_ID\")\n    \n    # Extract task information\n    TITLE=$(echo \"$TICKET_INFO\" | jq -r '.fields.summary')\n    DESCRIPTION=$(echo \"$TICKET_INFO\" | jq -r '.fields.description')\n    PRIORITY=$(echo \"$TICKET_INFO\" | jq -r '.fields.priority.name')\n    \n    # Update session context\n    tazz context set --session \"$SESSION_ID\" \\\\\n        --title \"$TITLE\" \\\\\n        --description \"$DESCRIPTION\" \\\\\n        --priority \"$PRIORITY\"\n        \n    # Set branch naming convention  \n    BRANCH_NAME=$(echo \"$TITLE\" | tr '[:upper:]' '[:lower:]' | sed 's/[^a-z0-9]/-/g' | sed 's/--*/-/g')\n    tazz git set-branch --session \"$SESSION_ID\" --name \"feature/$SESSION_ID-$BRANCH_NAME\"\n    \n    echo \"\u2705 Jira integration complete for $SESSION_ID\"\nfi\n`\n\n    await this.writeExecutableScript(join(hooksDir, 'jira-integration.sh'), script)\n  }\n\n  private getEnvSetupCommands(analysis: ProjectAnalysis): string {\n    const commands: string[] = []\n\n    if (analysis.technologies.language === 'javascript' || analysis.technologies.language === 'typescript') {\n      commands.push('# Ensure dependencies are installed')\n      commands.push('if [[ ! -d \"node_modules\" ]]; then npm install; fi')\n    }\n\n    if (analysis.technologies.language === 'python') {\n      commands.push('# Activate virtual environment if exists')\n      commands.push('if [[ -d \"venv\" ]]; then source venv/bin/activate; fi')\n    }\n\n    return commands.join('\\n')\n  }\n\n  private getFormatCommand(analysis: ProjectAnalysis): string {\n    if (analysis.technologies.language === 'python') {\n      return 'black . || echo \"Formatting skipped\"'\n    }\n    return 'npx prettier --write . || echo \"Formatting skipped\"'\n  }\n\n  private getLintCommand(analysis: ProjectAnalysis): string {\n    switch (analysis.technologies.language) {\n      case 'typescript':\n      case 'javascript':\n        return 'npx eslint --fix . || echo \"Linting skipped\"'\n      case 'python':\n        return 'pylint . || echo \"Linting skipped\"'\n      default:\n        return 'echo \"No linting configured\"'\n    }\n  }\n\n  private getTestCommand(analysis: ProjectAnalysis): string {\n    const framework = analysis.testingStrategy.framework\n\n    switch (framework) {\n      case 'jest':\n        return 'npm test'\n      case 'vitest':\n        return 'npx vitest run'\n      case 'pytest':\n        return 'python -m pytest'\n      case 'go test':\n        return 'go test ./...'\n      case 'cargo test':\n        return 'cargo test'\n      default:\n        return 'echo \"No test command configured\"'\n    }\n  }\n\n  private getCoverageCommand(analysis: ProjectAnalysis): string {\n    const framework = analysis.testingStrategy.framework\n\n    switch (framework) {\n      case 'jest':\n        return 'npm test -- --coverage --silent | grep \"All files\" | awk \\'{print $10}\\' | sed \\'s/%//\\''\n      case 'vitest':\n        return 'npx vitest run --coverage --silent | grep \"All files\" | awk \\'{print $4}\\' | sed \\'s/%//\\''\n      case 'pytest':\n        return 'python -m pytest --cov=. --cov-report=term-missing | grep TOTAL | awk \\'{print $4}\\' | sed \\'s/%//\\''\n      default:\n        return 'echo \"0\"'\n    }\n  }\n\n  private async writeExecutableScript(path: string, content: string): Promise<void> {\n    await ensureFile(path)\n    await writeFile(path, content)\n    \n    // Make script executable\n    const fs = await import('fs')\n    await fs.promises.chmod(path, 0o755)\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport { spawn } from 'child_process'\nimport { pathExists, readFile, writeFile, ensureFile } from 'fs-extra'\nimport { join } from 'path'\nimport { getLogger } from '../../utils/logger'\n\nexport class NoteCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('note')\n      .description('\uD83D\uDCDD Open editor to create/edit tasks and prompts')\n      .option('-e, --editor <editor>', 'Specify editor (code, vim, nano)', 'code')\n      .option('-t, --template <type>', 'Use template (task, prompt, session)', 'task')\n      .action(async (options) => {\n        await this.execute(options)\n      })\n  }\n\n  async execute(options: {\n    editor?: string\n    template?: string\n  } = {}): Promise<void> {\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83D\uDCDD Tazz Note Editor'))\n    console.log(chalk.gray('Creating/editing tasks and prompts...'))\n    console.log('')\n\n    const projectPath = process.cwd()\n    const notesDir = join(projectPath, '.tazz')\n    \n    // Ensure .tazz directory exists\n    if (!await pathExists(notesDir)) {\n      console.log(chalk.yellow('\u26A0\uFE0F  Project not initialized with Tazz'))\n      console.log(chalk.gray('Run'), chalk.cyan('tazz make'), chalk.gray('first to set up the project'))\n      return\n    }\n\n    const notesFile = join(notesDir, 'tazz-todo.md')\n    \n    try {\n      // Ensure the notes file exists with template content\n      await this.ensureNotesFile(notesFile, options.template || 'task')\n      \n      // Open in specified editor\n      await this.openInEditor(notesFile, options.editor || 'code')\n      \n      console.log('')\n      console.log(chalk.green('\u2705 Notes file ready for editing'))\n      console.log(chalk.gray('File:'), chalk.cyan(notesFile))\n      console.log('')\n      console.log(chalk.bold('Next steps:'))\n      console.log(chalk.gray('\u2022 Edit your tasks and prompts'))\n      console.log(chalk.gray('\u2022 Run'), chalk.cyan('tazz run <session-name>'), chalk.gray('to start working'))\n      console.log('')\n      \n    } catch (error) {\n      this.logger.error('Failed to open notes editor', error as Error)\n      console.log(chalk.red('\u274C Failed to open editor'))\n      console.log(chalk.gray('Try specifying a different editor with --editor'))\n    }\n  }\n\n  private async ensureNotesFile(filePath: string, template: string): Promise<void> {\n    await ensureFile(filePath)\n    \n    // Check if file is empty or doesn't exist\n    let content = ''\n    try {\n      content = await readFile(filePath, 'utf-8')\n    } catch {\n      // File doesn't exist, will create with template\n    }\n\n    if (!content.trim()) {\n      const templateContent = this.getTemplate(template)\n      await writeFile(filePath, templateContent)\n      this.logger.info('Created notes file with template', { template, filePath })\n    }\n  }\n\n  private getTemplate(templateType: string): string {\n    switch (templateType) {\n      case 'prompt':\n        return `# Tazz Development Prompt\n\n## Context\nDescribe the current state and what you're working on...\n\n## Goal\nWhat do you want to achieve?\n\n## Tasks\n- [ ] Task 1: Specific actionable item\n- [ ] Task 2: Another specific task\n- [ ] Task 3: Final task\n\n## Constraints\n- Technical constraints\n- Time constraints  \n- Requirements to consider\n\n## Success Criteria\n- [ ] How will you know you're done?\n- [ ] What should be tested?\n- [ ] What documentation is needed?\n\n## Notes\nAdd any additional context, links, or references...\n`\n\n      case 'session':\n        return `# Tazz Session Plan\n\n## Session: [SESSION-NAME]\nBrief description of this development session...\n\n## Epic/Feature\nLink to larger epic or feature this belongs to...\n\n## User Story\nAs a [user type], I want [functionality] so that [benefit]...\n\n## Acceptance Criteria\n- [ ] Criterion 1\n- [ ] Criterion 2\n- [ ] Criterion 3\n\n## Development Tasks\n- [ ] Setup/configuration\n- [ ] Core implementation\n- [ ] Testing\n- [ ] Documentation\n- [ ] Code review\n\n## Technical Notes\n- Architecture decisions\n- Dependencies\n- Integration points\n\n## Definition of Done\n- [ ] Code complete\n- [ ] Tests passing\n- [ ] Peer reviewed\n- [ ] Documentation updated\n`\n\n      default: // 'task'\n        return `# Tazz Development Tasks\n\n## Session Tasks\n\nTaskName: Feature Implementation\nSessionName: feat-impl\nDescription: Implement the main functionality for this feature. This context will be passed to the Claude instance in the tmux session.\n\nTaskName: Write Tests\nSessionName: write-tests\nDescription: Create comprehensive tests for the implemented functionality. Focus on unit tests and integration tests.\n\nTaskName: Update Documentation\nSessionName: update-docs\nDescription: Update relevant documentation including README, API docs, and inline comments.\n\nTaskName: Code Review Preparation\nSessionName: code-review\nDescription: Prepare code for review, run linting, fix any issues, and ensure quality standards are met.\n\n## In Progress\n\nTaskName: Current Implementation Task\nSessionName: current-work\nDescription: Description of what is currently being implemented or debugged.\n\n## Blocked\n\nTaskName: Waiting for Dependencies\nSessionName: blocked-task\nDescription: Describe what is blocking this task and what needs to be resolved.\n\n## Quality Checklist (Legacy Format)\n- [ ] Code follows project patterns\n- [ ] Tests pass locally\n- [ ] Coverage meets threshold\n- [ ] Code reviewed\n- [ ] Documentation updated\n\n## Session Notes\nAdd notes about current session, decisions made, next steps...\n\n## Quick Commands\n\\`\\`\\`bash\n# Start all tasks (creates separate tmux sessions)\ntazz run\n\n# Join specific task session\ntazz join feat-impl\n\n# List all active sessions\ntazz list\n\n# Complete a session and clean up\ntazz done feat-impl\n\n# Complete all sessions\ntazz done --all\n\\`\\`\\`\n`\n    }\n  }\n\n  private async openInEditor(filePath: string, editor: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const editorCommands: Record<string, string[]> = {\n        'code': ['code', filePath],\n        'vim': ['vim', filePath],\n        'nano': ['nano', filePath],\n        'emacs': ['emacs', filePath],\n        'subl': ['subl', filePath],\n        'atom': ['atom', filePath]\n      }\n\n      const command = editorCommands[editor] || ['code', filePath]\n      \n      console.log(chalk.gray(`Opening with: ${command.join(' ')}`))\n      \n      const process = spawn(command[0], command.slice(1), {\n        stdio: 'inherit',\n        shell: true\n      })\n\n      process.on('close', (code) => {\n        if (code === 0) {\n          resolve()\n        } else {\n          reject(new Error(`Editor exited with code ${code}`))\n        }\n      })\n\n      process.on('error', (error) => {\n        reject(error)\n      })\n    })\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport { pathExists } from 'fs-extra'\nimport { join, basename } from 'path'\nimport { getLogger } from '../../utils/logger'\nimport { TazzAnimation } from '../ui/tornado'\nimport { DependencyManager } from '../../utils/dependencies'\nimport { TodoFileParser, ParsedTask, TodoFileMetadata } from '../../core/services/TodoFileParser'\nimport { TmuxSessionOrchestrator, OrchestrationResult } from '../../core/services/TmuxSessionOrchestrator'\nimport { ClaudeCodeLauncher, LaunchResult } from '../../core/services/ClaudeCodeLauncher'\nimport { ValidationError, TazzError } from '../../core/types'\n\nexport class RunCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('run')\n      .description('\uD83D\uDE80 Start multiple development sessions from .tazz/tazz-todo.md')\n      .option('-s, --session <name>', 'Override session name (default: auto-generated)')\n      .option('--no-claude', 'Skip launching Claude Code in sessions')\n      .option('--dry-run', 'Show what would be created without actually doing it')\n      .action(async (options) => {\n        await this.execute(options)\n      })\n  }\n\n  async execute(options: {\n    session?: string\n    claude?: boolean\n    dryRun?: boolean\n  } = {}): Promise<void> {\n    \n    // Show animation\n    const animation = new TazzAnimation()\n    await animation.show()\n\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83D\uDE80 Starting Tazz Development Sessions'))\n    console.log(chalk.gray('Reading tasks from .tazz/tazz-todo.md and creating isolated sessions...'))\n    console.log('')\n\n    let orchestrationResult: OrchestrationResult | null = null\n    let orchestrator: TmuxSessionOrchestrator | null = null\n\n    // Setup cleanup handler for interruptions\n    const cleanup = async (signal?: string) => {\n      if (orchestrationResult && orchestrator) {\n        console.log('')\n        console.log(chalk.yellow(`\u26A0\uFE0F  Received ${signal || 'exit'} signal - cleaning up...`))\n        try {\n          await orchestrator.cleanup(orchestrationResult.mainSessionId)\n          console.log(chalk.green('\u2705 Cleanup completed'))\n        } catch (cleanupError) {\n          console.log(chalk.red(`\u274C Cleanup failed: ${(cleanupError as Error).message}`))\n        }\n      }\n      process.exit(signal === 'SIGTERM' ? 143 : 130)\n    }\n\n    // Register cleanup handlers\n    process.on('SIGINT', () => cleanup('SIGINT'))\n    process.on('SIGTERM', () => cleanup('SIGTERM'))\n    process.on('uncaughtException', (error) => {\n      this.logger.error('Uncaught exception during run command', error)\n      cleanup('uncaughtException').then(() => process.exit(1))\n    })\n\n    try {\n      // Check if project is initialized\n      await this.checkProjectInitialized()\n\n      // Ensure dependencies are available\n      if (!await DependencyManager.ensureDependencies()) {\n        throw new ValidationError('Required dependencies are missing')\n      }\n\n      // Initialize services\n      const todoParser = new TodoFileParser(this.logger)\n      orchestrator = new TmuxSessionOrchestrator(this.logger)\n      const claudeLauncher = new ClaudeCodeLauncher(this.logger)\n\n      // Parse todo file\n      const spinner = ora('Parsing tazz-todo.md file').start()\n      const { tasks, metadata } = await todoParser.parseFile(process.cwd())\n      spinner.succeed(`Found ${tasks.length} executable tasks`)\n\n      if (tasks.length === 0) {\n        throw new ValidationError('No executable tasks found in .tazz/tazz-todo.md. Run \"tazz note\" to create tasks.')\n      }\n\n      // Display parsed tasks\n      this.displayTasksPreview(tasks, metadata)\n\n      if (options.dryRun) {\n        console.log(chalk.yellow('\uD83D\uDD0D DRY RUN - No sessions will be created'))\n        console.log('')\n        return\n      }\n\n      // Orchestrate sessions\n      const sessionSpinner = ora('Creating tmux sessions and git worktrees').start()\n      orchestrationResult = await orchestrator.orchestrateSessions(\n        tasks,\n        metadata,\n        options.session\n      )\n      sessionSpinner.succeed(`Created ${orchestrationResult.summary.successfulSessions}/${orchestrationResult.summary.totalSessions} sessions`)\n\n      // Display orchestration results\n      this.displayOrchestrationResults(orchestrationResult)\n\n      // Launch Claude Code in sessions (if not disabled)\n      if (options.claude !== false) {\n        const claudeSpinner = ora('Launching Claude Code in each session').start()\n        \n        try {\n          const claudeResults = await claudeLauncher.launchInSessions(orchestrationResult.sessions)\n          const successfulLaunches = claudeResults.filter(r => r.status === 'success').length\n          claudeSpinner.succeed(`Claude Code launched in ${successfulLaunches}/${claudeResults.length} sessions`)\n          \n          // Display Claude launch results\n          this.displayClaudeLaunchResults(claudeResults)\n\n        } catch (error) {\n          claudeSpinner.fail('Failed to launch Claude Code')\n          console.log(chalk.yellow('\u26A0\uFE0F  Sessions were created but Claude Code launch failed'))\n          console.log(chalk.gray(`   Error: ${(error as Error).message}`))\n          console.log(chalk.gray('   You can manually join sessions and start Claude Code'))\n        }\n      }\n\n      // Display final summary\n      this.displayFinalSummary(orchestrationResult, options)\n\n    } catch (error) {\n      this.logger.error('Session orchestration failed', error as Error)\n      \n      if (error instanceof ValidationError) {\n        console.log('')\n        console.log(chalk.red('\u274C Validation Error'))\n        console.log(chalk.red(`   ${error.message}`))\n        this.displayValidationSuggestions(error)\n      } else if (error instanceof TazzError) {\n        console.log('')\n        console.log(chalk.red(`\u274C ${error.constructor.name}`))\n        console.log(chalk.red(`   ${error.message}`))\n      } else {\n        console.log('')\n        console.log(chalk.red('\u274C Unexpected error occurred'))\n        console.log(chalk.red(`   ${(error as Error).message}`))\n      }\n      \n      console.log('')\n      process.exit(1)\n    }\n  }\n\n  private async checkProjectInitialized(): Promise<void> {\n    const tazzDir = join(process.cwd(), '.tazz')\n    if (!await pathExists(tazzDir)) {\n      throw new ValidationError('Project not initialized. Run \"tazz make\" first.')\n    }\n  }\n\n  private displayTasksPreview(tasks: ParsedTask[], metadata: TodoFileMetadata): void {\n    console.log(chalk.bold('\uD83D\uDCCB Parsed Tasks:'))\n    \n    if (metadata.sessionName) {\n      console.log(chalk.gray('   Session:'), chalk.cyan(metadata.sessionName))\n    }\n    \n    console.log(chalk.gray('   File:'), chalk.cyan(metadata.filePath))\n    console.log(chalk.gray('   Total Tasks:'), chalk.cyan(tasks.length.toString()))\n    console.log('')\n\n    tasks.forEach((task, i) => {\n      const priorityColor = task.priority === 'high' ? chalk.red : \n                           task.priority === 'medium' ? chalk.yellow : chalk.gray\n      \n      console.log(chalk.gray(`   ${i + 1}.`), chalk.cyan(task.name))\n      console.log(chalk.gray(`      Priority:`), priorityColor(task.priority.toUpperCase()))\n      console.log(chalk.gray(`      Session:`), chalk.yellow(task.sessionName))\n      \n      if (task.description && task.description !== task.name) {\n        const desc = task.description.length > 60 \n          ? task.description.substring(0, 60) + '...' \n          : task.description\n        console.log(chalk.gray(`      Description: ${desc}`))\n      }\n      \n      if (task.context.dependencies?.length) {\n        console.log(chalk.gray(`      Dependencies: ${task.context.dependencies.join(', ')}`))\n      }\n      console.log('')\n    })\n  }\n\n  private displayOrchestrationResults(result: OrchestrationResult): void {\n    console.log('')\n    console.log(chalk.bold('\uD83D\uDCCD Session Details:'))\n    console.log(chalk.gray('   Main Session:'), chalk.cyan(result.mainSessionId))\n    console.log(chalk.gray('   Worktree:'), chalk.cyan(result.worktreeInfo.worktreePath))\n    console.log(chalk.gray('   Branch:'), chalk.cyan(result.worktreeInfo.branchName))\n    console.log('')\n\n    if (result.summary.errors.length > 0) {\n      console.log(chalk.yellow('\u26A0\uFE0F  Session Creation Issues:'))\n      result.summary.errors.forEach(error => {\n        console.log(chalk.gray('   \u2022'), chalk.yellow(error))\n      })\n      console.log('')\n    }\n\n    console.log(chalk.bold('\uD83C\uDFAF Created Sessions:'))\n    result.sessions\n      .filter(session => session.status !== 'failed')\n      .forEach((session, i) => {\n        const statusColor = session.status === 'created' ? chalk.green : \n                           session.status === 'running' ? chalk.cyan : chalk.gray\n        \n        console.log(chalk.gray(`   ${i + 1}.`), chalk.cyan(session.id))\n        console.log(chalk.gray(`      Task:`), session.task.name)\n        console.log(chalk.gray(`      Status:`), statusColor(session.status))\n        console.log(chalk.gray(`      Tmux:`), chalk.yellow(session.tmuxSessionName))\n      })\n    console.log('')\n  }\n\n  private displayClaudeLaunchResults(results: LaunchResult[]): void {\n    const successful = results.filter(r => r.status === 'success')\n    const failed = results.filter(r => r.status === 'failed')\n    \n    if (successful.length > 0) {\n      console.log(chalk.bold('\uD83E\uDD16 Claude Code Status:'))\n      successful.forEach(result => {\n        console.log(chalk.gray('   \u2022'), chalk.green(result.sessionId), chalk.gray('- Claude Code running'))\n      })\n    }\n\n    if (failed.length > 0) {\n      console.log('')\n      console.log(chalk.yellow('\u26A0\uFE0F  Claude Code Launch Issues:'))\n      failed.forEach(result => {\n        console.log(chalk.gray('   \u2022'), chalk.red(result.sessionId), chalk.gray(`- ${result.error}`))\n      })\n    }\n    console.log('')\n  }\n\n  private displayFinalSummary(result: OrchestrationResult, options: any): void {\n    console.log(chalk.bold('\uD83D\uDD17 Next Steps:'))\n    \n    const activeSessions = result.sessions.filter(s => s.status !== 'failed')\n    \n    if (activeSessions.length > 0) {\n      console.log(chalk.gray('\u2022 Join specific session:'), chalk.cyan(`tazz join ${activeSessions[0].id}`))\n      console.log(chalk.gray('\u2022 List all sessions:'), chalk.cyan('tazz list'))\n      console.log(chalk.gray('\u2022 Stop all sessions:'), chalk.cyan(`tazz stop ${result.mainSessionId}`))\n      console.log(chalk.gray('\u2022 Delete all sessions:'), chalk.cyan(`tazz delete ${result.mainSessionId} --force`))\n    }\n    \n    console.log(chalk.gray('\u2022 Edit tasks:'), chalk.cyan('tazz note'))\n    console.log('')\n\n    // Display session commands for easy copy-paste\n    console.log(chalk.bold('\uD83D\uDCCB Session Commands:'))\n    activeSessions.slice(0, 3).forEach(session => {\n      console.log(chalk.gray('   Join:'), chalk.cyan(`tazz join ${session.id}`))\n    })\n    \n    if (activeSessions.length > 3) {\n      console.log(chalk.gray(`   ... and ${activeSessions.length - 3} more sessions`))\n    }\n    console.log('')\n\n    console.log(chalk.green('\u2705 Development environment ready!'))\n    console.log(chalk.gray(`   ${activeSessions.length} sessions created with Claude Code integration`))\n    console.log('')\n  }\n\n  private displayValidationSuggestions(error: ValidationError): void {\n    console.log('')\n    console.log(chalk.yellow('\uD83D\uDCA1 Suggestions:'))\n    \n    if (error.message.includes('not initialized')) {\n      console.log(chalk.gray('   \u2022 Initialize project:'), chalk.cyan('tazz make'))\n    } else if (error.message.includes('dependencies')) {\n      console.log(chalk.gray('   \u2022 Check system:'), chalk.cyan('tazz health'))\n      console.log(chalk.gray('   \u2022 Install dependencies:'), chalk.cyan('tazz health --fix'))\n    } else if (error.message.includes('tazz-todo.md')) {\n      console.log(chalk.gray('   \u2022 Create todo file:'), chalk.cyan('tazz note'))\n      console.log(chalk.gray('   \u2022 Edit existing tasks:'), chalk.cyan('tazz note --editor code'))\n    } else if (error.message.includes('No executable tasks')) {\n      console.log(chalk.gray('   \u2022 Add tasks to todo file:'), chalk.cyan('tazz note'))\n      console.log(chalk.gray('   \u2022 Check task format in file'))\n    }\n  }\n}", "import chalk from 'chalk'\n\nexport class TazzAnimation {\n  private frames: string[] = [\n    // Frame 1 - Formation\n    `\n        .       *        .        *\n        .             .    *         .       .\n                   @@@\n                @@@@@@@\n              @@@@#^#@@@@\n                @@@@@@@\n                  @@@\n                   @@\n        ___@______________________\n .          *          .       *       .      .\n     *          .             *        .      *`,\n    \n    // Frame 2 - Spinning\n    `\n        \u2728      \uD83C\uDF1F      \u2728\n        .             .    \u2B50        .       .\n                   @@@\n                @@@@@@@\n              @@@@#^#@@@@\n                @@@@@@@\n                  @@@\n                   @@\n        ___@______________________\n .      \uD83D\uDD25  T A Z Z  \uD83D\uDD25   *       .      .\n     *          .             *        .      *`,\n    \n    // Frame 3 - Intensifying\n    `\n        \u26A1\u2728    \uD83C\uDF1F\uD83D\uDCAB    \u26A1\u2728\n        .     \uD83D\uDD25      .    \u2B50\uD83D\uDE80      .       .\n                   @@@\n                @@@@@@@\n              @@@@#^#@@@@\n                @@@@@@@\n                  @@@\n                   @@\n        ___@______________________\n .    \u26A1\uD83D\uDD25 A G E N T \uD83D\uDD25\u26A1 *       .      .\n     *    \uD83D\uDE80    .      \uD83C\uDF1F     *        .    \u2B50`,\n\n    // Frame 4 - Final\n    `\n        .       *        .        *\n        .             .    *         .       .\n                   @@@\n                @@@@@@@\n              @@@@#^#@@@@\n                @@@@@@@\n                  @@@\n                   @@\n        ___@______________________\n .          *          .       *       .      .\n     *          .             *        .      *`\n  ]\n\n  async show(): Promise<void> {\n    // Clear screen\n    process.stdout.write('\\x1b[2J\\x1b[0f')\n\n    for (let i = 0; i < this.frames.length; i++) {\n      // Move cursor to top\n      process.stdout.write('\\x1b[H')\n      \n      // Display frame with color\n      const coloredFrame = chalk.cyan(this.frames[i])\n      console.log(coloredFrame)\n      \n      // Add title\n      if (i === 1) {\n        console.log(chalk.bold.cyan('    === Tazz CLI Tool ==='))\n        console.log(chalk.gray('   AI-Powered Task Orchestrator'))\n      }\n      \n      // Wait between frames\n      await this.sleep(600)\n    }\n\n    // Final clear and setup for next content\n    await this.sleep(500)\n    process.stdout.write('\\x1b[2J\\x1b[0f')\n  }\n\n  private sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n\n  /**\n   * Show a simple spinning tazz animation for shorter animations\n   */\n  async showSpinner(message: string = 'Processing'): Promise<() => void> {\n    const spinnerFrames = ['\uD83D\uDD25', '\u26A1', '\uD83D\uDCAB', '\u2B50']\n    let frameIndex = 0\n    let isSpinning = true\n\n    const spinner = setInterval(() => {\n      if (!isSpinning) return\n      \n      process.stdout.write('\\r')\n      process.stdout.write(`${spinnerFrames[frameIndex]} ${chalk.cyan(message)}...`)\n      \n      frameIndex = (frameIndex + 1) % spinnerFrames.length\n    }, 150)\n\n    // Return stop function\n    return () => {\n      isSpinning = false\n      clearInterval(spinner)\n      process.stdout.write('\\r' + ' '.repeat(50) + '\\r') // Clear line\n    }\n  }\n\n  /**\n   * Show a brief tazz burst for quick actions\n   */\n  async showBurst(): Promise<void> {\n    const burstFrames = [\n      '\uD83D\uDD25',\n      '\u26A1',\n      '\uD83D\uDD25\u26A1',\n      '\u26A1\uD83D\uDD25\uD83D\uDD25',\n      '\uD83D\uDD25\u26A1\u26A1\u26A1',\n      '\u26A1\u26A1\u26A1',\n      '\u26A1\u26A1',\n      '\u26A1'\n    ]\n\n    for (const frame of burstFrames) {\n      process.stdout.write('\\r' + chalk.cyan(frame))\n      await this.sleep(80)\n    }\n    \n    process.stdout.write('\\r' + ' '.repeat(20) + '\\r')\n  }\n}", "import { exec } from 'child_process'\nimport { promisify } from 'util'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport { getLogger } from './logger'\n\nconst execAsync = promisify(exec)\nconst logger = getLogger()\n\nexport interface DependencyInstaller {\n  checkCommand: string\n  installCommand: string\n  name: string\n}\n\nexport class DependencyManager {\n  private static installers: Record<string, DependencyInstaller[]> = {\n    linux: [\n      {\n        checkCommand: 'which apt-get',\n        installCommand: 'sudo apt-get update && sudo apt-get install -y tmux git',\n        name: 'apt (Ubuntu/Debian)'\n      },\n      {\n        checkCommand: 'which yum',\n        installCommand: 'sudo yum install -y tmux git',\n        name: 'yum (RHEL/CentOS)'\n      },\n      {\n        checkCommand: 'which dnf',\n        installCommand: 'sudo dnf install -y tmux git',\n        name: 'dnf (Fedora)'\n      },\n      {\n        checkCommand: 'which pacman',\n        installCommand: 'sudo pacman -S --noconfirm tmux git || pacman -S --noconfirm tmux git',\n        name: 'pacman (Arch Linux)'\n      },\n      {\n        checkCommand: 'which zypper',\n        installCommand: 'sudo zypper install -y tmux git',\n        name: 'zypper (openSUSE)'\n      }\n    ],\n    darwin: [\n      {\n        checkCommand: 'which brew',\n        installCommand: 'brew install tmux git',\n        name: 'Homebrew'\n      },\n      {\n        checkCommand: 'which port',\n        installCommand: 'sudo port install tmux git',\n        name: 'MacPorts'\n      }\n    ],\n    win32: [\n      {\n        checkCommand: 'where choco',\n        installCommand: 'choco install tmux git -y',\n        name: 'Chocolatey'\n      },\n      {\n        checkCommand: 'where winget',\n        installCommand: 'winget install tmux git',\n        name: 'WinGet'\n      }\n    ]\n  }\n\n  static async checkDependency(command: string): Promise<boolean> {\n    try {\n      // Try different version commands\n      try {\n        await execAsync(`${command} --version`)\n        return true\n      } catch {\n        // Some commands use -V instead\n        try {\n          await execAsync(`${command} -V`)\n          return true\n        } catch {\n          // Check if command exists\n          await execAsync(`which ${command}`)\n          return true\n        }\n      }\n    } catch {\n      return false\n    }\n  }\n\n  static async installTmux(): Promise<boolean> {\n    const platform = process.platform\n    const installers = this.installers[platform] || []\n\n    console.log('')\n    console.log(chalk.yellow('\uD83D\uDD27 Installing tmux automatically...'))\n    \n    for (const installer of installers) {\n      try {\n        // Check if package manager exists\n        await execAsync(installer.checkCommand)\n        \n        const spinner = ora(`Installing tmux using ${installer.name}`).start()\n        \n        try {\n          // Create tmux-only install command\n          let tmuxCommand = installer.installCommand.replace('tmux git', 'tmux')\n          \n          // For Arch Linux, try both sudo and non-sudo\n          if (installer.name.includes('pacman')) {\n            try {\n              await execAsync('sudo pacman -S --noconfirm tmux')\n            } catch {\n              // Try without sudo in case user has permissions\n              await execAsync('pacman -S --noconfirm tmux')\n            }\n          } else {\n            await execAsync(tmuxCommand)\n          }\n          \n          spinner.succeed(`tmux installed successfully using ${installer.name}`)\n          \n          // Verify installation with a small delay to let system update\n          await new Promise(resolve => setTimeout(resolve, 1000))\n          \n          if (await this.checkDependency('tmux')) {\n            console.log(chalk.green('\u2705 tmux is now available'))\n            return true\n          } else {\n            spinner.warn('Installation completed but tmux still not detected')\n            console.log(chalk.gray('   You may need to restart your shell or source your profile'))\n          }\n          \n        } catch (installError) {\n          spinner.fail(`Failed to install using ${installer.name}`)\n          logger.debug('Installation failed', installError as Error)\n          console.log(chalk.gray(`   Error: ${(installError as Error).message}`))\n          continue\n        }\n        \n      } catch {\n        // Package manager not available, try next one\n        continue\n      }\n    }\n\n    // If auto-installation failed, provide manual instructions\n    console.log('')\n    console.log(chalk.yellow('\u26A0\uFE0F  Automatic installation failed'))\n    console.log(chalk.bold('Manual installation options:'))\n    \n    switch (platform) {\n      case 'linux':\n        console.log(chalk.gray('  Ubuntu/Debian:'), chalk.cyan('sudo apt-get install tmux'))\n        console.log(chalk.gray('  RHEL/CentOS:'), chalk.cyan('sudo yum install tmux'))\n        console.log(chalk.gray('  Fedora:'), chalk.cyan('sudo dnf install tmux'))\n        console.log(chalk.gray('  Arch Linux:'), chalk.cyan('sudo pacman -S tmux'))\n        break\n      case 'darwin':\n        console.log(chalk.gray('  Homebrew:'), chalk.cyan('brew install tmux'))\n        console.log(chalk.gray('  MacPorts:'), chalk.cyan('sudo port install tmux'))\n        break\n      case 'win32':\n        console.log(chalk.gray('  Chocolatey:'), chalk.cyan('choco install tmux'))\n        console.log(chalk.gray('  WinGet:'), chalk.cyan('winget install tmux'))\n        break\n    }\n    \n    return false\n  }\n\n  static async ensureDependencies(): Promise<boolean> {\n    const dependencies = [\n      { command: 'git', name: 'Git' },\n      { command: 'tmux', name: 'tmux' }\n    ]\n\n    const missing = []\n    \n    for (const dep of dependencies) {\n      if (!await this.checkDependency(dep.command)) {\n        missing.push(dep)\n      }\n    }\n\n    if (missing.length === 0) {\n      return true\n    }\n\n    console.log('')\n    console.log(chalk.yellow(`\uD83D\uDD0D Missing dependencies: ${missing.map(d => d.name).join(', ')}`))\n    \n    // Try to install tmux if missing\n    if (missing.some(d => d.command === 'tmux')) {\n      const installed = await this.installTmux()\n      if (!installed) {\n        return false\n      }\n    }\n\n    // Check git separately (usually pre-installed)\n    if (missing.some(d => d.command === 'git') && !await this.checkDependency('git')) {\n      console.log('')\n      console.log(chalk.red('\u274C Git is required but not installed'))\n      console.log(chalk.gray('Please install Git first: https://git-scm.com/downloads'))\n      return false\n    }\n\n    return true\n  }\n}", "import { readFile, pathExists } from 'fs-extra'\nimport { join } from 'path'\nimport { Logger } from '../../utils/logger'\nimport { ValidationError } from '../types'\n\nexport interface ParsedTask {\n  id: string\n  name: string\n  description: string\n  sessionName: string\n  section: TaskSection\n  priority: TaskPriority\n  status: TaskStatus\n  context: TaskContext\n  metadata: TaskMetadata\n}\n\nexport interface TaskContext {\n  fullDescription: string\n  technicalDetails?: string\n  dependencies?: string[]\n  acceptanceCriteria?: string[]\n  notes?: string[]\n}\n\nexport interface TaskMetadata {\n  lineNumber: number\n  rawText: string\n  estimatedTime?: string\n  tags?: string[]\n}\n\nexport enum TaskSection {\n  SESSION_TASKS = 'session-tasks',\n  IN_PROGRESS = 'in-progress', \n  BLOCKED = 'blocked',\n  QUALITY_CHECKLIST = 'quality-checklist',\n  OTHER = 'other'\n}\n\nexport enum TaskPriority {\n  HIGH = 'high',\n  MEDIUM = 'medium',\n  LOW = 'low'\n}\n\nexport enum TaskStatus {\n  TODO = 'todo',\n  IN_PROGRESS = 'in_progress',\n  BLOCKED = 'blocked',\n  COMPLETED = 'completed'\n}\n\nexport interface TodoFileMetadata {\n  filePath: string\n  lastModified: Date\n  totalTasks: number\n  sections: string[]\n  sessionName?: string\n  projectContext?: string\n}\n\nexport class TodoFileParser {\n  private logger: Logger\n\n  constructor(logger: Logger) {\n    this.logger = logger\n  }\n\n  /**\n   * Parse tazz-todo.md file and extract structured task information\n   */\n  async parseFile(projectPath: string): Promise<{\n    tasks: ParsedTask[]\n    metadata: TodoFileMetadata\n  }> {\n    const todoFilePath = join(projectPath, '.tazz', 'tazz-todo.md')\n    \n    if (!await pathExists(todoFilePath)) {\n      throw new ValidationError('tazz-todo.md file not found. Run \"tazz note\" to create it first.', {\n        filePath: todoFilePath\n      })\n    }\n\n    try {\n      const content = await readFile(todoFilePath, 'utf-8')\n      const tasks = this.parseMarkdownContent(content)\n      \n      const stats = await import('fs-extra').then(fs => fs.stat(todoFilePath))\n      \n      const metadata: TodoFileMetadata = {\n        filePath: todoFilePath,\n        lastModified: stats.mtime,\n        totalTasks: tasks.length,\n        sections: this.extractSections(content),\n        sessionName: this.extractSessionName(content),\n        projectContext: this.extractProjectContext(content)\n      }\n\n      this.logger.info('Parsed todo file successfully', {\n        filePath: todoFilePath,\n        taskCount: tasks.length,\n        sections: metadata.sections\n      })\n\n      return { tasks, metadata }\n\n    } catch (error) {\n      this.logger.error('Failed to parse todo file', error as Error, { filePath: todoFilePath })\n      throw new ValidationError(`Failed to parse todo file: ${(error as Error).message}`, {\n        filePath: todoFilePath\n      }, error as Error)\n    }\n  }\n\n  /**\n   * Parse markdown content and extract tasks\n   */\n  private parseMarkdownContent(content: string): ParsedTask[] {\n    const lines = content.split('\\n')\n    const tasks: ParsedTask[] = []\n    let currentSection = TaskSection.OTHER\n    let lineNumber = 0\n\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i]\n      lineNumber = i + 1\n\n      // Check for section headers\n      const sectionMatch = this.detectSection(line)\n      if (sectionMatch) {\n        currentSection = sectionMatch\n        continue\n      }\n\n      // Check for new simplified format first: TaskName: Description\n      const simplifiedTaskMatch = line.match(/^[\\s]*TaskName:\\s*(.+)$/i)\n      if (simplifiedTaskMatch) {\n        const taskName = simplifiedTaskMatch[1].trim()\n        \n        // Parse the following lines for SessionName and Description\n        const simplifiedDetails = this.parseSimplifiedTaskDetails(lines, i + 1)\n        \n        // Validate required fields for simplified format\n        if (!simplifiedDetails.sessionName || !simplifiedDetails.description) {\n          this.logger.warn('Incomplete simplified task found - missing SessionName or Description', {\n            taskName,\n            lineNumber,\n            hasSessionName: !!simplifiedDetails.sessionName,\n            hasDescription: !!simplifiedDetails.description\n          })\n          \n          // Skip to next line and continue parsing\n          i += Math.max(1, simplifiedDetails.linesProcessed)\n          continue\n        }\n\n        // Validate SessionName format (simple alphanumeric with hyphens)\n        if (!/^[a-z0-9-]+$/i.test(simplifiedDetails.sessionName)) {\n          this.logger.warn('Invalid session name format - using sanitized version', {\n            original: simplifiedDetails.sessionName,\n            sanitized: this.sanitizeSessionName(simplifiedDetails.sessionName),\n            lineNumber\n          })\n          simplifiedDetails.sessionName = this.sanitizeSessionName(simplifiedDetails.sessionName)\n        }\n\n        const task: ParsedTask = {\n          id: this.generateTaskId(taskName, lineNumber),\n          name: taskName,\n          description: simplifiedDetails.description,\n          sessionName: simplifiedDetails.sessionName,\n          section: currentSection,\n          priority: this.determinePriority(taskName, simplifiedDetails),\n          status: this.determineStatus(currentSection),\n          context: {\n            fullDescription: this.buildSimplifiedFullDescription(taskName, simplifiedDetails),\n            technicalDetails: simplifiedDetails.technicalDetails,\n            dependencies: simplifiedDetails.dependencies,\n            acceptanceCriteria: simplifiedDetails.acceptanceCriteria,\n            notes: simplifiedDetails.notes\n          },\n          metadata: {\n            lineNumber,\n            rawText: line,\n            estimatedTime: simplifiedDetails.estimatedTime,\n            tags: this.extractTags(taskName)\n          }\n        }\n\n        tasks.push(task)\n        \n        // Skip processed lines\n        i += simplifiedDetails.linesProcessed\n        continue\n      }\n\n      // Check for legacy checkbox format\n      const taskMatch = line.match(/^[\\s]*-\\s*\\[\\s*([x\\s])\\s*\\]\\s*(.+)$/)\n      if (taskMatch) {\n        const isCompleted = taskMatch[1].toLowerCase() === 'x'\n        const taskContent = taskMatch[2].trim()\n        \n        // Parse task details from following lines\n        const taskDetails = this.parseTaskDetails(lines, i + 1)\n        \n        // Extract task name and description from the task line\n        const { name, description } = this.parseTaskLine(taskContent)\n        \n        const task: ParsedTask = {\n          id: this.generateTaskId(name, lineNumber),\n          name,\n          description: description || taskDetails.description || `Work on: ${name}`,\n          sessionName: taskDetails.sessionName || this.sanitizeSessionName(name),\n          section: currentSection,\n          priority: this.determinePriority(taskContent, taskDetails),\n          status: isCompleted ? TaskStatus.COMPLETED : this.determineStatus(currentSection),\n          context: {\n            fullDescription: this.buildFullDescription(name, description || '', taskDetails),\n            technicalDetails: taskDetails.technicalDetails,\n            dependencies: taskDetails.dependencies,\n            acceptanceCriteria: taskDetails.acceptanceCriteria,\n            notes: taskDetails.notes\n          },\n          metadata: {\n            lineNumber,\n            rawText: line,\n            estimatedTime: taskDetails.estimatedTime,\n            tags: this.extractTags(taskContent)\n          }\n        }\n\n        tasks.push(task)\n        \n        // Skip processed lines\n        i += taskDetails.linesProcessed\n      }\n    }\n\n    // Filter out completed and blocked tasks for execution\n    const executableTasks = tasks.filter(task => \n      task.status !== TaskStatus.COMPLETED && \n      task.status !== TaskStatus.BLOCKED\n    )\n\n    this.logger.debug('Parsed tasks', {\n      totalTasks: tasks.length,\n      executableTasks: executableTasks.length,\n      sections: [...new Set(tasks.map(t => t.section))]\n    })\n\n    return executableTasks\n  }\n\n  /**\n   * Parse simplified task format details from subsequent lines\n   * Expects: SessionName: value and Description: value\n   */\n  private parseSimplifiedTaskDetails(lines: string[], startIndex: number): {\n    sessionName: string\n    description: string\n    technicalDetails?: string\n    dependencies?: string[]\n    acceptanceCriteria?: string[]\n    notes?: string[]\n    estimatedTime?: string\n    linesProcessed: number\n  } {\n    let sessionName = ''\n    let description = ''\n    let technicalDetails = ''\n    let dependencies: string[] = []\n    let acceptanceCriteria: string[] = []\n    let notes: string[] = []\n    let estimatedTime = ''\n    let linesProcessed = 0\n\n    let i = startIndex\n\n    // Look for SessionName and Description on the next lines\n    while (i < lines.length && linesProcessed < 10) { // Limit search to reasonable range\n      const line = lines[i].trim()\n      linesProcessed++\n\n      // Stop if we hit another task or section\n      if (line.match(/^TaskName:/i) || line.match(/^[\\s]*-\\s*\\[/) || line.match(/^#+/)) {\n        linesProcessed-- // Don't count this line\n        break\n      }\n\n      // Parse specific fields\n      const sessionMatch = line.match(/^SessionName:\\s*(.+)/i)\n      const descMatch = line.match(/^Description:\\s*(.*)$/i)\n      const techMatch = line.match(/^Technical:\\s*(.*)$/i)\n      const depMatch = line.match(/^Dependencies:\\s*(.*)$/i)\n      const accMatch = line.match(/^Acceptance:\\s*(.*)$/i)\n      const noteMatch = line.match(/^Notes:\\s*(.*)$/i)\n      const timeMatch = line.match(/^Time:\\s*(.+)/i)\n\n      if (sessionMatch) {\n        sessionName = sessionMatch[1].trim()\n      } else if (descMatch) {\n        description = descMatch[1].trim()\n      } else if (techMatch) {\n        technicalDetails = techMatch[1].trim()\n      } else if (depMatch) {\n        const depLine = depMatch[1].trim()\n        if (depLine) dependencies.push(depLine)\n      } else if (accMatch) {\n        const criteriaLine = accMatch[1].trim()\n        if (criteriaLine) acceptanceCriteria.push(criteriaLine)\n      } else if (noteMatch) {\n        const noteLine = noteMatch[1].trim()\n        if (noteLine) notes.push(noteLine)\n      } else if (timeMatch) {\n        estimatedTime = timeMatch[1].trim()\n      } else if (line === '') {\n        // Empty line, continue\n      } else {\n        // If we have both required fields, stop processing\n        if (sessionName && description) {\n          linesProcessed-- // Don't count this line\n          break\n        }\n      }\n\n      i++\n    }\n\n    return {\n      sessionName,\n      description,\n      technicalDetails: technicalDetails || undefined,\n      dependencies: dependencies.length ? dependencies : undefined,\n      acceptanceCriteria: acceptanceCriteria.length ? acceptanceCriteria : undefined,\n      notes: notes.length ? notes : undefined,\n      estimatedTime: estimatedTime || undefined,\n      linesProcessed\n    }\n  }\n\n  /**\n   * Parse additional task details from subsequent lines (legacy format)\n   */\n  private parseTaskDetails(lines: string[], startIndex: number): {\n    sessionName: string\n    description: string\n    technicalDetails?: string\n    dependencies?: string[]\n    acceptanceCriteria?: string[]\n    notes?: string[]\n    estimatedTime?: string\n    linesProcessed: number\n  } {\n    let sessionName = ''\n    let description = ''\n    let technicalDetails = ''\n    let dependencies: string[] = []\n    let acceptanceCriteria: string[] = []\n    let notes: string[] = []\n    let estimatedTime = ''\n    let linesProcessed = 0\n\n    let currentField = ''\n    let i = startIndex\n\n    while (i < lines.length && lines[i].trim() !== '' && !lines[i].match(/^[\\s]*-\\s*\\[/)) {\n      const line = lines[i].trim()\n      linesProcessed++\n\n      // Check for specific field markers\n      const sessionMatch = line.match(/^Session name:\\s*(.+)/i)\n      const descMatch = line.match(/^Description:\\s*(.*)$/i)\n      const techMatch = line.match(/^Technical:\\s*(.*)$/i)\n      const depMatch = line.match(/^Dependencies:\\s*(.*)$/i)\n      const accMatch = line.match(/^Acceptance:\\s*(.*)$/i)\n      const noteMatch = line.match(/^Notes:\\s*(.*)$/i)\n      const timeMatch = line.match(/^Time:\\s*(.+)/i)\n      \n      if (sessionMatch) {\n        sessionName = sessionMatch[1].trim()\n        currentField = ''\n      } else if (descMatch) {\n        description = descMatch[1].trim()\n        currentField = 'description'\n      } else if (techMatch) {\n        technicalDetails = techMatch[1].trim()\n        currentField = 'technical'\n      } else if (depMatch) {\n        const depLine = depMatch[1].trim()\n        if (depLine) dependencies.push(depLine)\n        currentField = 'dependencies'\n      } else if (accMatch) {\n        const criteriaLine = accMatch[1].trim()\n        if (criteriaLine) acceptanceCriteria.push(criteriaLine)\n        currentField = 'acceptance'\n      } else if (noteMatch) {\n        const noteLine = noteMatch[1].trim()\n        if (noteLine) notes.push(noteLine)\n        currentField = 'notes'\n      } else if (timeMatch) {\n        estimatedTime = timeMatch[1].trim()\n        currentField = ''\n      } else if (line && currentField) {\n        // Continue multi-line field\n        switch (currentField) {\n          case 'description':\n            description += (description ? ' ' : '') + line\n            break\n          case 'technical':\n            technicalDetails += (technicalDetails ? ' ' : '') + line\n            break\n          case 'dependencies':\n            dependencies.push(line)\n            break\n          case 'acceptance':\n            acceptanceCriteria.push(line)\n            break\n          case 'notes':\n            notes.push(line)\n            break\n        }\n      }\n\n      i++\n    }\n\n    return {\n      sessionName,\n      description,\n      technicalDetails: technicalDetails || undefined,\n      dependencies: dependencies.length ? dependencies : undefined,\n      acceptanceCriteria: acceptanceCriteria.length ? acceptanceCriteria : undefined,\n      notes: notes.length ? notes : undefined,\n      estimatedTime: estimatedTime || undefined,\n      linesProcessed\n    }\n  }\n\n  private detectSection(line: string): TaskSection | null {\n    const trimmed = line.trim().toLowerCase()\n    \n    if (trimmed.includes('session tasks') || trimmed.includes('## session tasks')) {\n      return TaskSection.SESSION_TASKS\n    } else if (trimmed.includes('in progress') || trimmed.includes('## in progress')) {\n      return TaskSection.IN_PROGRESS  \n    } else if (trimmed.includes('blocked') || trimmed.includes('## blocked')) {\n      return TaskSection.BLOCKED\n    } else if (trimmed.includes('quality') || trimmed.includes('checklist')) {\n      return TaskSection.QUALITY_CHECKLIST\n    }\n    \n    return null\n  }\n\n  private parseTaskLine(taskContent: string): { name: string; description?: string } {\n    // Handle format: \"Task Name: Description\"\n    const colonMatch = taskContent.match(/^([^:]+):\\s*(.+)$/)\n    if (colonMatch) {\n      return {\n        name: colonMatch[1].trim(),\n        description: colonMatch[2].trim()\n      }\n    }\n\n    return { name: taskContent }\n  }\n\n  private buildSimplifiedFullDescription(name: string, details: any): string {\n    let fullDesc = `Task: ${name}\\n`\n    \n    if (details.description) {\n      fullDesc += `Description: ${details.description}\\n`\n    }\n    \n    if (details.technicalDetails) {\n      fullDesc += `Technical Details: ${details.technicalDetails}\\n`\n    }\n    \n    if (details.dependencies?.length) {\n      fullDesc += `Dependencies: ${details.dependencies.join(', ')}\\n`\n    }\n    \n    if (details.acceptanceCriteria?.length) {\n      fullDesc += `Acceptance Criteria:\\n${details.acceptanceCriteria.map((c: string) => `- ${c}`).join('\\n')}\\n`\n    }\n    \n    if (details.notes?.length) {\n      fullDesc += `Notes:\\n${details.notes.map((n: string) => `- ${n}`).join('\\n')}\\n`\n    }\n\n    return fullDesc.trim()\n  }\n\n  private buildFullDescription(name: string, description: string, details: any): string {\n    let fullDesc = `Task: ${name}\\n`\n    \n    if (description) {\n      fullDesc += `Description: ${description}\\n`\n    }\n    \n    if (details.technicalDetails) {\n      fullDesc += `Technical Details: ${details.technicalDetails}\\n`\n    }\n    \n    if (details.dependencies?.length) {\n      fullDesc += `Dependencies: ${details.dependencies.join(', ')}\\n`\n    }\n    \n    if (details.acceptanceCriteria?.length) {\n      fullDesc += `Acceptance Criteria:\\n${details.acceptanceCriteria.map((c: string) => `- ${c}`).join('\\n')}\\n`\n    }\n    \n    if (details.notes?.length) {\n      fullDesc += `Notes:\\n${details.notes.map((n: string) => `- ${n}`).join('\\n')}\\n`\n    }\n\n    return fullDesc.trim()\n  }\n\n  private generateTaskId(name: string, lineNumber: number): string {\n    const sanitized = name.toLowerCase().replace(/[^a-z0-9]/g, '-').substring(0, 20)\n    return `${sanitized}-${lineNumber}`\n  }\n\n  private sanitizeSessionName(name: string): string {\n    return name\n      .toLowerCase()\n      .replace(/[^a-z0-9\\s-]/g, '')\n      .replace(/\\s+/g, '-')\n      .replace(/-+/g, '-')\n      .replace(/^-|-$/g, '')\n      .substring(0, 30)\n  }\n\n  private determinePriority(taskContent: string, details: any): TaskPriority {\n    const text = `${taskContent} ${details.description || ''}`.toLowerCase()\n    \n    if (text.includes('urgent') || text.includes('critical') || text.includes('high')) {\n      return TaskPriority.HIGH\n    } else if (text.includes('low') || text.includes('nice to have')) {\n      return TaskPriority.LOW\n    }\n    \n    return TaskPriority.MEDIUM\n  }\n\n  private determineStatus(section: TaskSection): TaskStatus {\n    switch (section) {\n      case TaskSection.IN_PROGRESS:\n        return TaskStatus.IN_PROGRESS\n      case TaskSection.BLOCKED:\n        return TaskStatus.BLOCKED\n      default:\n        return TaskStatus.TODO\n    }\n  }\n\n  private extractTags(content: string): string[] {\n    const tagMatches = content.match(/#[\\w-]+/g)\n    return tagMatches ? tagMatches.map(tag => tag.substring(1)) : []\n  }\n\n  private extractSections(content: string): string[] {\n    const sections: string[] = []\n    const lines = content.split('\\n')\n    \n    for (const line of lines) {\n      const trimmed = line.trim()\n      if (trimmed.startsWith('##') || trimmed.startsWith('#')) {\n        sections.push(trimmed.replace(/^#+\\s*/, ''))\n      }\n    }\n    \n    return sections\n  }\n\n  private extractSessionName(content: string): string | undefined {\n    const sessionMatch = content.match(/## Session: \\[(.+?)\\]/i)\n    return sessionMatch ? sessionMatch[1] : undefined\n  }\n\n  private extractProjectContext(content: string): string | undefined {\n    // Look for project context in the first few paragraphs\n    const lines = content.split('\\n')\n    let context = ''\n    \n    for (let i = 0; i < Math.min(10, lines.length); i++) {\n      const line = lines[i].trim()\n      if (line && !line.startsWith('#') && !line.startsWith('-')) {\n        context += line + ' '\n      }\n    }\n    \n    return context.trim() || undefined\n  }\n}", "import { execa } from 'execa'\nimport { join } from 'path'\nimport { Logger } from '../../utils/logger'\nimport { GitWorktreeManager, WorktreeInfo } from './GitWorktreeManager'\nimport { ParsedTask, TodoFileMetadata } from './TodoFileParser'\nimport { SessionError, TazzError } from '../types'\n\nexport interface SessionInfo {\n  id: string\n  tmuxSessionName: string\n  task: ParsedTask\n  worktreePath: string\n  status: SessionStatus\n  pid?: number\n  createdAt: Date\n  lastActivity: Date\n}\n\nexport interface OrchestrationResult {\n  mainSessionId: string\n  worktreeInfo: WorktreeInfo\n  sessions: SessionInfo[]\n  metadata: TodoFileMetadata\n  summary: OrchestrationSummary\n}\n\nexport interface OrchestrationSummary {\n  totalSessions: number\n  successfulSessions: number\n  failedSessions: number\n  skippedSessions: number\n  errors: string[]\n}\n\nexport enum SessionStatus {\n  CREATED = 'created',\n  RUNNING = 'running',\n  FAILED = 'failed',\n  STOPPED = 'stopped'\n}\n\nexport class TmuxSessionOrchestrator {\n  private logger: Logger\n  private worktreeManager: GitWorktreeManager\n\n  constructor(logger: Logger) {\n    this.logger = logger\n    this.worktreeManager = new GitWorktreeManager(logger)\n  }\n\n  /**\n   * Orchestrate multiple tmux sessions for tasks\n   */\n  async orchestrateSessions(\n    tasks: ParsedTask[], \n    metadata: TodoFileMetadata,\n    sessionId?: string\n  ): Promise<OrchestrationResult> {\n    \n    // Generate main session ID if not provided\n    const mainSessionId = sessionId || this.generateMainSessionId(metadata)\n    \n    this.logger.info('Starting session orchestration', {\n      mainSessionId,\n      taskCount: tasks.length,\n      metadata\n    })\n\n    // Ensure worktree setup\n    await this.worktreeManager.ensureWorktreeSetup()\n\n    // Create main git worktree\n    const worktreeInfo = await this.worktreeManager.createWorktree(mainSessionId)\n\n    const sessions: SessionInfo[] = []\n    const summary: OrchestrationSummary = {\n      totalSessions: tasks.length,\n      successfulSessions: 0,\n      failedSessions: 0,\n      skippedSessions: 0,\n      errors: []\n    }\n\n    // Create sessions for each task\n    for (const task of tasks) {\n      try {\n        const sessionInfo = await this.createTaskSession(task, mainSessionId, worktreeInfo)\n        sessions.push(sessionInfo)\n        summary.successfulSessions++\n        \n        this.logger.debug('Task session created successfully', {\n          taskId: task.id,\n          sessionName: sessionInfo.tmuxSessionName\n        })\n\n      } catch (error) {\n        summary.failedSessions++\n        summary.errors.push(`Task \"${task.name}\": ${error.message}`)\n        \n        this.logger.error('Failed to create task session', error, {\n          taskId: task.id,\n          taskName: task.name\n        })\n\n        // Create a failed session entry for tracking\n        sessions.push({\n          id: `${mainSessionId}_${task.sessionName}`,\n          tmuxSessionName: '',\n          task,\n          worktreePath: worktreeInfo.worktreePath,\n          status: SessionStatus.FAILED,\n          createdAt: new Date(),\n          lastActivity: new Date()\n        })\n      }\n    }\n\n    const result: OrchestrationResult = {\n      mainSessionId,\n      worktreeInfo,\n      sessions,\n      metadata,\n      summary\n    }\n\n    this.logger.info('Session orchestration completed', {\n      mainSessionId,\n      totalSessions: summary.totalSessions,\n      successful: summary.successfulSessions,\n      failed: summary.failedSessions\n    })\n\n    return result\n  }\n\n  /**\n   * Create a tmux session for a specific task\n   */\n  private async createTaskSession(\n    task: ParsedTask,\n    mainSessionId: string,\n    worktreeInfo: WorktreeInfo\n  ): Promise<SessionInfo> {\n\n    const sessionId = `${mainSessionId}_${task.sessionName}`\n    const tmuxSessionName = `tazz_${sessionId}`\n\n    try {\n      // Create tmux session\n      await execa('tmux', [\n        'new-session',\n        '-d',\n        '-s', tmuxSessionName,\n        '-c', worktreeInfo.worktreePath\n      ])\n\n      // Setup session environment\n      await this.setupSessionEnvironment(tmuxSessionName, task, sessionId, worktreeInfo)\n\n      const sessionInfo: SessionInfo = {\n        id: sessionId,\n        tmuxSessionName,\n        task,\n        worktreePath: worktreeInfo.worktreePath,\n        status: SessionStatus.CREATED,\n        createdAt: new Date(),\n        lastActivity: new Date()\n      }\n\n      return sessionInfo\n\n    } catch (error) {\n      throw new SessionError(\n        `Failed to create tmux session for task \"${task.name}\": ${error.message}`,\n        { taskId: task.id, sessionId, tmuxSessionName },\n        error\n      )\n    }\n  }\n\n  /**\n   * Setup the environment within a tmux session\n   */\n  private async setupSessionEnvironment(\n    tmuxSessionName: string,\n    task: ParsedTask,\n    sessionId: string,\n    worktreeInfo: WorktreeInfo\n  ): Promise<void> {\n\n    try {\n      // Clear and setup initial display\n      await execa('tmux', ['send-keys', '-t', tmuxSessionName, 'clear', 'Enter'])\n      \n      // Display session header\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83D\uDE80 Tazz Session: ${sessionId}\"`)\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83D\uDCC2 Worktree: ${worktreeInfo.worktreePath}\"`)\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83C\uDF3F Branch: ${worktreeInfo.branchName}\"`)\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83D\uDCDD Task: ${task.name}\"`)\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"\u26A1 Priority: ${task.priority}\"`)\n      \n      if (task.description !== task.name) {\n        await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83D\uDCA1 Description: ${task.description}\"`)\n      }\n      \n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"\"')\n\n      // Display task context if available\n      if (task.context.technicalDetails) {\n        await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83D\uDD27 Technical: ${task.context.technicalDetails}\"`)\n      }\n\n      if (task.context.dependencies?.length) {\n        await this.sendTmuxCommand(tmuxSessionName, `echo \"\uD83D\uDD17 Dependencies: ${task.context.dependencies.join(', ')}\"`)\n      }\n\n      if (task.context.acceptanceCriteria?.length) {\n        await this.sendTmuxCommand(tmuxSessionName, 'echo \"\u2705 Acceptance Criteria:\"')\n        for (const criteria of task.context.acceptanceCriteria) {\n          await this.sendTmuxCommand(tmuxSessionName, `echo \"   \u2022 ${criteria}\"`)\n        }\n      }\n\n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"\"')\n\n      // Display session management commands\n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"\uD83C\uDFAE Session Commands:\"')\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"   \u2022 Join: tazz join ${sessionId}\"`)\n      await this.sendTmuxCommand(tmuxSessionName, `echo \"   \u2022 Stop: tazz stop ${sessionId}\"`)\n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"   \u2022 List: tazz list\"')\n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"\"')\n\n      // Indicate Claude Code will be launched\n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"\u23F3 Waiting for Claude Code initialization...\"')\n      await this.sendTmuxCommand(tmuxSessionName, 'echo \"\"')\n      \n      // Create a marker file to indicate session is ready for Claude Code\n      const markerFile = join(worktreeInfo.worktreePath, '.tazz', `session-ready-${task.sessionName}`)\n      try {\n        const { ensureFile } = await import('fs-extra')\n        await ensureFile(markerFile)\n      } catch (error) {\n        this.logger.debug('Failed to create marker file', { error: error.message, markerFile })\n      }\n\n    } catch (error) {\n      throw new SessionError(\n        `Failed to setup session environment: ${error.message}`,\n        { tmuxSessionName, taskId: task.id },\n        error\n      )\n    }\n  }\n\n  /**\n   * Split tmux session into multiple panes for better organization\n   */\n  async createSessionPanes(tmuxSessionName: string): Promise<void> {\n    try {\n      // Create horizontal split (development | build/test)\n      await execa('tmux', ['split-window', '-h', '-t', tmuxSessionName])\n      \n      // Split the right pane vertically (build | test)\n      await execa('tmux', ['split-window', '-v', '-t', `${tmuxSessionName}:0.1`])\n\n      // Set pane titles\n      await execa('tmux', ['send-keys', '-t', `${tmuxSessionName}:0.0`, 'echo \"Development Pane\"', 'Enter'])\n      await execa('tmux', ['send-keys', '-t', `${tmuxSessionName}:0.1`, 'echo \"Build/Watch Pane\"', 'Enter'])\n      await execa('tmux', ['send-keys', '-t', `${tmuxSessionName}:0.2`, 'echo \"Testing Pane\"', 'Enter'])\n\n      // Focus on the main development pane\n      await execa('tmux', ['select-pane', '-t', `${tmuxSessionName}:0.0`])\n\n    } catch (error) {\n      this.logger.warn('Failed to create session panes', { error: error.message, tmuxSessionName })\n      // Non-critical error, continue without panes\n    }\n  }\n\n  /**\n   * Get information about active sessions\n   */\n  async getActiveSessions(): Promise<SessionInfo[]> {\n    try {\n      const result = await execa('tmux', ['list-sessions', '-F', '#{session_name}'])\n      const sessions = result.stdout\n        .split('\\n')\n        .filter(name => name.startsWith('tazz_'))\n        .map(name => ({\n          id: name.replace('tazz_', ''),\n          tmuxSessionName: name,\n          task: null as any, // Would need to be populated from session store\n          worktreePath: '',\n          status: SessionStatus.RUNNING,\n          createdAt: new Date(),\n          lastActivity: new Date()\n        }))\n\n      return sessions\n\n    } catch (error) {\n      this.logger.error('Failed to get active sessions', error)\n      return []\n    }\n  }\n\n  /**\n   * Stop and cleanup a specific session\n   */\n  async stopSession(sessionId: string): Promise<void> {\n    const tmuxSessionName = `tazz_${sessionId}`\n    \n    try {\n      await execa('tmux', ['kill-session', '-t', tmuxSessionName])\n      this.logger.info('Session stopped', { sessionId, tmuxSessionName })\n\n    } catch (error) {\n      // Session might not exist, which is fine\n      this.logger.debug('Session stop failed (may not exist)', { \n        error: error.message, \n        sessionId, \n        tmuxSessionName \n      })\n    }\n  }\n\n  /**\n   * Stop all sessions for a main session ID\n   */\n  async stopAllSessions(mainSessionId: string): Promise<void> {\n    try {\n      const activeSessions = await this.getActiveSessions()\n      const relatedSessions = activeSessions.filter(session => \n        session.id.startsWith(mainSessionId)\n      )\n\n      await Promise.all(\n        relatedSessions.map(session => this.stopSession(session.id))\n      )\n\n      this.logger.info('All sessions stopped', {\n        mainSessionId,\n        stoppedSessions: relatedSessions.length\n      })\n\n    } catch (error) {\n      this.logger.error('Failed to stop all sessions', error, { mainSessionId })\n      throw error\n    }\n  }\n\n  /**\n   * Cleanup sessions and worktree\n   */\n  async cleanup(mainSessionId: string): Promise<void> {\n    try {\n      // Stop all tmux sessions\n      await this.stopAllSessions(mainSessionId)\n\n      // Remove worktree\n      await this.worktreeManager.removeWorktree(mainSessionId)\n\n      this.logger.info('Cleanup completed', { mainSessionId })\n\n    } catch (error) {\n      this.logger.error('Cleanup failed', error, { mainSessionId })\n      throw new SessionError(\n        `Cleanup failed for session ${mainSessionId}: ${error.message}`,\n        { mainSessionId },\n        error\n      )\n    }\n  }\n\n  private async sendTmuxCommand(sessionName: string, command: string): Promise<void> {\n    await execa('tmux', ['send-keys', '-t', sessionName, command, 'Enter'])\n  }\n\n  private generateMainSessionId(metadata: TodoFileMetadata): string {\n    // Try to extract session name from metadata\n    if (metadata.sessionName) {\n      return this.sanitizeSessionId(metadata.sessionName)\n    }\n\n    // Fallback to timestamp-based ID\n    const timestamp = new Date().toISOString().slice(0, 16).replace(/[:-]/g, '')\n    return `session-${timestamp}`\n  }\n\n  private sanitizeSessionId(id: string): string {\n    return id\n      .toLowerCase()\n      .replace(/[^a-z0-9-]/g, '-')\n      .replace(/-+/g, '-')\n      .replace(/^-|-$/g, '')\n      .substring(0, 30)\n  }\n}", "import { execa } from 'execa'\nimport { join, resolve } from 'path'\nimport { existsSync, ensureDir, remove } from 'fs-extra'\nimport { Logger } from '../../utils/logger'\nimport { GitError } from '../types'\n\nexport interface WorktreeInfo {\n  id: string\n  branchName: string\n  worktreePath: string\n  basePath: string\n  gitDir: string\n}\n\nexport class GitWorktreeManager {\n  private logger: Logger\n  private worktreesDir = 'gitworktree-projects'\n\n  constructor(logger: Logger) {\n    this.logger = logger\n  }\n\n  /**\n   * Creates a git worktree in the gitworktree-projects directory\n   */\n  async createWorktree(sessionId: string, branchName?: string): Promise<WorktreeInfo> {\n    this.logger.info('Creating git worktree', { sessionId, branchName })\n\n    try {\n      // Ensure we're in a git repository\n      await this.verifyGitRepository()\n\n      // Get current git repository info\n      const gitDir = await this.getGitDirectory()\n      const basePath = process.cwd()\n      \n      // Generate branch name if not provided\n      const actualBranchName = branchName || this.generateBranchName(sessionId)\n      \n      // Ensure worktrees directory exists\n      const worktreesBasePath = join(basePath, this.worktreesDir)\n      await ensureDir(worktreesBasePath)\n      \n      // Create worktree path\n      const worktreePath = join(worktreesBasePath, sessionId)\n      \n      // Check if worktree already exists\n      if (existsSync(worktreePath)) {\n        throw new GitError(`Worktree already exists: ${worktreePath}`, { sessionId, worktreePath })\n      }\n\n      // Check if branch exists\n      const branchExists = await this.branchExists(actualBranchName)\n      \n      if (branchExists) {\n        // Create worktree from existing branch\n        await execa('git', ['worktree', 'add', worktreePath, actualBranchName])\n      } else {\n        // Create worktree with new branch\n        await execa('git', ['worktree', 'add', worktreePath, '-b', actualBranchName])\n      }\n\n      const worktreeInfo: WorktreeInfo = {\n        id: sessionId,\n        branchName: actualBranchName,\n        worktreePath: resolve(worktreePath),\n        basePath,\n        gitDir\n      }\n\n      this.logger.info('Git worktree created successfully', worktreeInfo)\n      return worktreeInfo\n\n    } catch (error) {\n      this.logger.error('Failed to create git worktree', error, { sessionId, branchName })\n      throw new GitError(`Failed to create git worktree: ${error.message}`, { sessionId, branchName }, error)\n    }\n  }\n\n  /**\n   * Removes a git worktree and cleans up the directory\n   */\n  async removeWorktree(sessionId: string): Promise<void> {\n    this.logger.info('Removing git worktree', { sessionId })\n\n    try {\n      const worktreePath = join(process.cwd(), this.worktreesDir, sessionId)\n      \n      if (!existsSync(worktreePath)) {\n        this.logger.warn('Worktree directory not found, skipping removal', { worktreePath })\n        return\n      }\n\n      // Remove the worktree from git\n      try {\n        await execa('git', ['worktree', 'remove', worktreePath, '--force'])\n        this.logger.info('Git worktree removed from git registry', { worktreePath })\n      } catch (gitError) {\n        // If git worktree remove fails, try to force remove and prune\n        this.logger.warn('Failed to remove worktree via git, attempting manual cleanup', { error: gitError.message })\n        \n        try {\n          // Remove directory manually\n          await remove(worktreePath)\n          // Prune worktree references\n          await execa('git', ['worktree', 'prune'])\n        } catch (manualError) {\n          this.logger.error('Manual worktree cleanup failed', manualError, { worktreePath })\n        }\n      }\n\n      // Ensure directory is removed\n      if (existsSync(worktreePath)) {\n        await remove(worktreePath)\n      }\n\n      this.logger.info('Git worktree removed successfully', { sessionId, worktreePath })\n\n    } catch (error) {\n      this.logger.error('Failed to remove git worktree', error, { sessionId })\n      throw new GitError(`Failed to remove git worktree: ${error.message}`, { sessionId }, error)\n    }\n  }\n\n  /**\n   * Lists all active worktrees\n   */\n  async listWorktrees(): Promise<WorktreeInfo[]> {\n    try {\n      const result = await execa('git', ['worktree', 'list', '--porcelain'])\n      const worktrees: WorktreeInfo[] = []\n      \n      const lines = result.stdout.split('\\n')\n      let currentWorktree: Partial<WorktreeInfo> = {}\n      \n      for (const line of lines) {\n        if (line.startsWith('worktree ')) {\n          if (currentWorktree.worktreePath) {\n            this.addWorktreeIfTazz(worktrees, currentWorktree as WorktreeInfo)\n          }\n          currentWorktree = { worktreePath: line.substring(9) }\n        } else if (line.startsWith('branch ')) {\n          currentWorktree.branchName = line.substring(7)\n        }\n      }\n      \n      // Add the last worktree\n      if (currentWorktree.worktreePath) {\n        this.addWorktreeIfTazz(worktrees, currentWorktree as WorktreeInfo)\n      }\n      \n      return worktrees\n\n    } catch (error) {\n      this.logger.error('Failed to list worktrees', error)\n      throw new GitError(`Failed to list worktrees: ${error.message}`, {}, error)\n    }\n  }\n\n  /**\n   * Gets the worktrees directory path relative to current directory\n   */\n  getWorktreesDirectory(): string {\n    return join(process.cwd(), this.worktreesDir)\n  }\n\n  /**\n   * Ensures the gitworktree-projects directory exists and is in .gitignore\n   */\n  async ensureWorktreeSetup(): Promise<void> {\n    const basePath = process.cwd()\n    const worktreesPath = join(basePath, this.worktreesDir)\n    const gitignorePath = join(basePath, '.gitignore')\n\n    // Ensure worktrees directory exists\n    await ensureDir(worktreesPath)\n\n    // Add to .gitignore if not already present\n    try {\n      const { readFile, writeFile } = await import('fs-extra')\n      \n      let gitignoreContent = ''\n      if (existsSync(gitignorePath)) {\n        gitignoreContent = await readFile(gitignorePath, 'utf8')\n      }\n\n      if (!gitignoreContent.includes(this.worktreesDir)) {\n        const newContent = gitignoreContent ? \n          `${gitignoreContent}\\n\\n# Tazz CLI git worktrees\\n${this.worktreesDir}/\\n` :\n          `# Tazz CLI git worktrees\\n${this.worktreesDir}/\\n`\n        \n        await writeFile(gitignorePath, newContent)\n        this.logger.info('Added gitworktree-projects to .gitignore')\n      }\n\n    } catch (error) {\n      this.logger.warn('Failed to update .gitignore', { error: error.message })\n    }\n  }\n\n  private async verifyGitRepository(): Promise<void> {\n    try {\n      await execa('git', ['rev-parse', '--git-dir'])\n    } catch (error) {\n      throw new GitError('Not in a git repository', {}, error)\n    }\n  }\n\n  private async getGitDirectory(): Promise<string> {\n    try {\n      const result = await execa('git', ['rev-parse', '--git-dir'])\n      return resolve(result.stdout.trim())\n    } catch (error) {\n      throw new GitError('Failed to get git directory', {}, error)\n    }\n  }\n\n  private generateBranchName(sessionId: string): string {\n    // If it looks like a JIRA ticket, use that pattern\n    if (/^[A-Z]+-\\d+$/.test(sessionId)) {\n      return `feature/${sessionId}`\n    }\n    \n    // Otherwise, sanitize the session ID for branch name\n    const sanitized = sessionId.toLowerCase().replace(/[^a-z0-9]/g, '-')\n    return `feature/${sanitized}`\n  }\n\n  private async branchExists(branchName: string): Promise<boolean> {\n    try {\n      await execa('git', ['show-ref', '--verify', `refs/heads/${branchName}`])\n      return true\n    } catch {\n      return false\n    }\n  }\n\n  private addWorktreeIfTazz(worktrees: WorktreeInfo[], worktree: WorktreeInfo): void {\n    // Only include worktrees in our gitworktree-projects directory\n    if (worktree.worktreePath && worktree.worktreePath.includes(this.worktreesDir)) {\n      const sessionId = worktree.worktreePath.split('/').pop() || ''\n      worktrees.push({\n        ...worktree,\n        id: sessionId,\n        basePath: process.cwd(),\n        gitDir: ''\n      })\n    }\n  }\n}", "import { execa } from 'execa'\nimport { writeFile, pathExists, readFile } from 'fs-extra'\nimport { join, dirname } from 'path'\nimport { Logger } from '../../utils/logger'\nimport { ParsedTask } from './TodoFileParser'\nimport { SessionInfo } from './TmuxSessionOrchestrator'\nimport { TazzError } from '../types'\n\nexport interface ClaudeLaunchConfig {\n  workingDirectory: string\n  contextPrompt: string\n  sessionSettings?: ClaudeSessionSettings\n  environmentVars?: Record<string, string>\n}\n\nexport interface ClaudeSessionSettings {\n  model?: string\n  temperature?: number\n  maxTokens?: number\n  timeout?: number\n}\n\nexport interface LaunchResult {\n  sessionId: string\n  claudeProcessId?: number\n  status: LaunchStatus\n  error?: string\n  contextFile?: string\n}\n\nexport enum LaunchStatus {\n  SUCCESS = 'success',\n  FAILED = 'failed',\n  SKIPPED = 'skipped',\n  TIMEOUT = 'timeout'\n}\n\nexport class ClaudeCodeError extends TazzError {\n  readonly code = 'CLAUDE_CODE_ERROR'\n  readonly severity = 'medium'\n}\n\nexport class ClaudeCodeLauncher {\n  private logger: Logger\n  private claudeCommand: string\n  private defaultSettings: ClaudeSessionSettings\n\n  constructor(logger: Logger) {\n    this.logger = logger\n    this.claudeCommand = 'claude-code' // Default command, can be overridden\n    this.defaultSettings = {\n      model: 'claude-3-sonnet',\n      temperature: 0.7,\n      maxTokens: 4000,\n      timeout: 120000 // 2 minutes\n    }\n  }\n\n  /**\n   * Launch Claude Code in multiple tmux sessions\n   */\n  async launchInSessions(sessions: SessionInfo[]): Promise<LaunchResult[]> {\n    this.logger.info('Launching Claude Code in multiple sessions', {\n      sessionCount: sessions.length\n    })\n\n    const results: LaunchResult[] = []\n\n    // Check if Claude Code is available\n    if (!await this.isClaudeCodeAvailable()) {\n      throw new ClaudeCodeError('Claude Code CLI is not available. Please install it first.')\n    }\n\n    // Launch Claude Code in each session\n    for (const session of sessions) {\n      try {\n        if (session.status === 'failed') {\n          results.push({\n            sessionId: session.id,\n            status: LaunchStatus.SKIPPED,\n            error: 'Session creation failed'\n          })\n          continue\n        }\n\n        const result = await this.launchInSession(session)\n        results.push(result)\n\n      } catch (error) {\n        this.logger.error('Failed to launch Claude Code in session', error, {\n          sessionId: session.id\n        })\n\n        results.push({\n          sessionId: session.id,\n          status: LaunchStatus.FAILED,\n          error: error.message\n        })\n      }\n    }\n\n    this.logger.info('Claude Code launch completed', {\n      totalSessions: sessions.length,\n      successful: results.filter(r => r.status === LaunchStatus.SUCCESS).length,\n      failed: results.filter(r => r.status === LaunchStatus.FAILED).length,\n      skipped: results.filter(r => r.status === LaunchStatus.SKIPPED).length\n    })\n\n    return results\n  }\n\n  /**\n   * Launch Claude Code in a specific tmux session\n   */\n  async launchInSession(session: SessionInfo): Promise<LaunchResult> {\n    const config = this.buildLaunchConfig(session)\n    \n    try {\n      // Create context file for the session\n      const contextFile = await this.createContextFile(session, config)\n\n      // Add delay to allow session to be ready\n      await this.delay(2000)\n\n      // Launch Claude Code with context\n      await this.startClaudeInTmux(session.tmuxSessionName, config, contextFile)\n\n      this.logger.info('Claude Code launched successfully', {\n        sessionId: session.id,\n        tmuxSession: session.tmuxSessionName,\n        contextFile\n      })\n\n      return {\n        sessionId: session.id,\n        status: LaunchStatus.SUCCESS,\n        contextFile\n      }\n\n    } catch (error) {\n      this.logger.error('Failed to launch Claude Code', error, {\n        sessionId: session.id,\n        tmuxSession: session.tmuxSessionName\n      })\n\n      return {\n        sessionId: session.id,\n        status: LaunchStatus.FAILED,\n        error: error.message\n      }\n    }\n  }\n\n  /**\n   * Build launch configuration for a session\n   */\n  private buildLaunchConfig(session: SessionInfo): ClaudeLaunchConfig {\n    const task = session.task\n    const contextPrompt = this.buildContextPrompt(task)\n\n    return {\n      workingDirectory: session.worktreePath,\n      contextPrompt,\n      sessionSettings: { ...this.defaultSettings },\n      environmentVars: {\n        'TAZZ_SESSION_ID': session.id,\n        'TAZZ_TASK_NAME': task.name,\n        'TAZZ_TASK_PRIORITY': task.priority,\n        'TAZZ_WORKTREE_PATH': session.worktreePath\n      }\n    }\n  }\n\n  /**\n   * Build comprehensive context prompt for Claude\n   */\n  private buildContextPrompt(task: ParsedTask): string {\n    const lines: string[] = []\n\n    lines.push('# Tazz Development Session Context')\n    lines.push('')\n    lines.push(`## Current Task: ${task.name}`)\n    lines.push(`**Priority**: ${task.priority.toUpperCase()}`)\n    lines.push(`**Section**: ${task.section}`)\n    lines.push(`**Status**: ${task.status}`)\n    lines.push('')\n\n    if (task.description && task.description !== task.name) {\n      lines.push('## Description')\n      lines.push(task.description)\n      lines.push('')\n    }\n\n    if (task.context.technicalDetails) {\n      lines.push('## Technical Details')\n      lines.push(task.context.technicalDetails)\n      lines.push('')\n    }\n\n    if (task.context.dependencies?.length) {\n      lines.push('## Dependencies')\n      task.context.dependencies.forEach(dep => {\n        lines.push(`- ${dep}`)\n      })\n      lines.push('')\n    }\n\n    if (task.context.acceptanceCriteria?.length) {\n      lines.push('## Acceptance Criteria')\n      task.context.acceptanceCriteria.forEach(criteria => {\n        lines.push(`- ${criteria}`)\n      })\n      lines.push('')\n    }\n\n    if (task.context.notes?.length) {\n      lines.push('## Additional Notes')\n      task.context.notes.forEach(note => {\n        lines.push(`- ${note}`)\n      })\n      lines.push('')\n    }\n\n    if (task.metadata.estimatedTime) {\n      lines.push(`## Estimated Time: ${task.metadata.estimatedTime}`)\n      lines.push('')\n    }\n\n    if (task.metadata.tags?.length) {\n      lines.push(`## Tags: ${task.metadata.tags.map(tag => `#${tag}`).join(' ')}`)\n      lines.push('')\n    }\n\n    lines.push('## Development Guidelines')\n    lines.push('- Follow existing code patterns and conventions')\n    lines.push('- Write clean, well-documented code')\n    lines.push('- Include appropriate tests')\n    lines.push('- Consider performance and security implications')\n    lines.push('- Update documentation as needed')\n    lines.push('')\n\n    lines.push('## Session Commands')\n    lines.push('You are working in an isolated git worktree. Key commands:')\n    lines.push('- Use standard git commands (add, commit, push, etc.)')\n    lines.push('- Run tests and build commands as needed')\n    lines.push('- All changes are isolated to this worktree')\n    lines.push('')\n\n    lines.push('## Getting Started')\n    lines.push('1. Analyze the current codebase and project structure')\n    lines.push('2. Review the task requirements thoroughly')\n    lines.push('3. Plan your implementation approach')\n    lines.push('4. Start with small, incremental changes')\n    lines.push('5. Test frequently as you develop')\n    lines.push('')\n\n    lines.push('Ready to start working on this task! \uD83D\uDE80')\n\n    return lines.join('\\n')\n  }\n\n  /**\n   * Create a context file for the session\n   */\n  private async createContextFile(session: SessionInfo, config: ClaudeLaunchConfig): Promise<string> {\n    const contextDir = join(session.worktreePath, '.tazz')\n    const contextFile = join(contextDir, `context-${session.task.sessionName}.md`)\n\n    try {\n      // Ensure directory exists\n      const { ensureDir } = await import('fs-extra')\n      await ensureDir(contextDir)\n\n      // Write context file\n      await writeFile(contextFile, config.contextPrompt)\n\n      this.logger.debug('Context file created', {\n        sessionId: session.id,\n        contextFile\n      })\n\n      return contextFile\n\n    } catch (error) {\n      throw new ClaudeCodeError(`Failed to create context file: ${error.message}`, {\n        sessionId: session.id,\n        contextFile\n      }, error)\n    }\n  }\n\n  /**\n   * Start Claude Code within a tmux session\n   */\n  private async startClaudeInTmux(tmuxSessionName: string, config: ClaudeLaunchConfig, contextFile: string): Promise<void> {\n    try {\n      // Clear any previous content\n      await this.sendTmuxKeys(tmuxSessionName, 'clear')\n\n      // Change to working directory\n      await this.sendTmuxKeys(tmuxSessionName, `cd \"${config.workingDirectory}\"`)\n\n      // Set environment variables\n      if (config.environmentVars) {\n        for (const [key, value] of Object.entries(config.environmentVars)) {\n          await this.sendTmuxKeys(tmuxSessionName, `export ${key}=\"${value}\"`)\n        }\n      }\n\n      // Display startup message\n      await this.sendTmuxKeys(tmuxSessionName, 'echo \"\uD83E\uDD16 Starting Claude Code...\"')\n      await this.sendTmuxKeys(tmuxSessionName, `echo \"\uD83D\uDCC4 Context: ${contextFile}\"`)\n      await this.sendTmuxKeys(tmuxSessionName, 'echo \"\"')\n\n      // Launch Claude Code with initial context\n      const claudeCommand = this.buildClaudeCommand(contextFile, config)\n      await this.sendTmuxKeys(tmuxSessionName, claudeCommand)\n\n    } catch (error) {\n      throw new ClaudeCodeError(`Failed to start Claude Code in tmux: ${error.message}`, {\n        tmuxSessionName\n      }, error)\n    }\n  }\n\n  /**\n   * Build the Claude Code command\n   */\n  private buildClaudeCommand(contextFile: string, config: ClaudeLaunchConfig): string {\n    const parts = [this.claudeCommand]\n\n    // Add context file as initial input\n    if (contextFile) {\n      parts.push(`--file \"${contextFile}\"`)\n    }\n\n    // Add working directory\n    parts.push(`--cwd \"${config.workingDirectory}\"`)\n\n    // Add session settings\n    if (config.sessionSettings?.model) {\n      parts.push(`--model \"${config.sessionSettings.model}\"`)\n    }\n\n    return parts.join(' ')\n  }\n\n  /**\n   * Send keys to a tmux session\n   */\n  private async sendTmuxKeys(sessionName: string, command: string): Promise<void> {\n    await execa('tmux', ['send-keys', '-t', sessionName, command, 'Enter'])\n  }\n\n  /**\n   * Check if Claude Code CLI is available\n   */\n  private async isClaudeCodeAvailable(): Promise<boolean> {\n    try {\n      await execa(this.claudeCommand, ['--version'])\n      return true\n    } catch (error) {\n      // Try alternative command names\n      const alternatives = ['claude', 'claude-cli', 'anthropic-cli']\n      \n      for (const alt of alternatives) {\n        try {\n          await execa(alt, ['--version'])\n          this.claudeCommand = alt\n          this.logger.info(`Using Claude Code command: ${alt}`)\n          return true\n        } catch {\n          continue\n        }\n      }\n\n      this.logger.warn('Claude Code CLI not found', {\n        triedCommands: [this.claudeCommand, ...alternatives]\n      })\n      return false\n    }\n  }\n\n  /**\n   * Utility function to add delays\n   */\n  private async delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n\n  /**\n   * Stop Claude Code in a specific session\n   */\n  async stopClaudeInSession(sessionId: string): Promise<void> {\n    const tmuxSessionName = `tazz_${sessionId}`\n    \n    try {\n      // Send Ctrl+C to interrupt any running Claude process\n      await execa('tmux', ['send-keys', '-t', tmuxSessionName, 'C-c'])\n      \n      // Wait a moment then send exit\n      await this.delay(1000)\n      await this.sendTmuxKeys(tmuxSessionName, 'exit')\n\n      this.logger.info('Claude Code stopped in session', { sessionId })\n\n    } catch (error) {\n      this.logger.warn('Failed to stop Claude Code', { error: error.message, sessionId })\n    }\n  }\n\n  /**\n   * Set Claude Code command (for testing or custom installations)\n   */\n  setClaudeCommand(command: string): void {\n    this.claudeCommand = command\n  }\n\n  /**\n   * Update default settings\n   */\n  updateDefaultSettings(settings: Partial<ClaudeSessionSettings>): void {\n    this.defaultSettings = { ...this.defaultSettings, ...settings }\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { getLogger } from '../../utils/logger'\n\nconst execAsync = promisify(exec)\n\nexport class ListCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('list')\n      .alias('ls')\n      .description('\uD83D\uDCCB List all active Tazz processes')\n      .option('-v, --verbose', 'Show detailed session information')\n      .action(async (options) => {\n        await this.execute(options)\n      })\n  }\n\n  async execute(options: {\n    verbose?: boolean\n  } = {}): Promise<void> {\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83D\uDCCB Active Tazz Processes'))\n    console.log('')\n\n    try {\n      // Get tmux sessions\n      const sessions = await this.getTmuxSessions()\n      \n      if (sessions.length === 0) {\n        console.log(chalk.yellow('\uD83D\uDCED No active processes found'))\n        console.log('')\n        console.log(chalk.gray('Start new processes with:'), chalk.cyan('tazz run <instance-name>'))\n        console.log('')\n        return\n      }\n\n      // Group sessions by instance\n      const grouped = this.groupSessionsByInstance(sessions)\n      \n      Object.entries(grouped).forEach(([project, projectSessions]) => {\n        console.log(chalk.bold.green(`\uD83D\uDE80 Instance: ${project}`))\n        console.log('')\n        \n        if (projectSessions.tasks.length > 0) {\n          console.log(chalk.bold('  \uD83D\uDCCB Task Processes:'))\n          projectSessions.tasks.forEach((session, i) => {\n            console.log(`    ${i + 1}. ${chalk.cyan(session.fullProcessId || session.taskName)} ${chalk.gray(`(${session.taskName})`)}`)\n            if (options.verbose && session.created) {\n              console.log(`       ${chalk.gray('Created:')} ${session.created}`)\n            }\n            console.log(`       ${chalk.gray('Join with:')} ${chalk.cyan(`tazz join ${session.fullProcessId || session.taskName}`)}`)\n          })\n          console.log('')\n        }\n        \n        if (projectSessions.main.length > 0) {\n          console.log(chalk.bold('  \uD83D\uDD27 Main Sessions:'))\n          projectSessions.main.forEach((session, i) => {\n            console.log(`    ${i + 1}. ${chalk.cyan(session.fullProcessId || session.project)}`)\n            if (options.verbose && session.created) {\n              console.log(`       ${chalk.gray('Created:')} ${session.created}`)\n            }\n            console.log(`       ${chalk.gray('Join with:')} ${chalk.cyan(`tazz join ${session.fullProcessId || session.project}`)}`)\n          })\n          console.log('')\n        }\n      })\n\n      // Show quick actions\n      this.showQuickActions(sessions)\n\n    } catch (error) {\n      this.logger.error('Failed to list sessions', error as Error)\n      console.log(chalk.red('\u274C Failed to list sessions'))\n      console.log(chalk.red(`   ${(error as Error).message}`))\n      process.exit(1)\n    }\n  }\n\n  private async getTmuxSessions(): Promise<Array<{sessionId: string, created: string, project?: string, taskName?: string}>> {\n    try {\n      // Get all tmux sessions that start with 'tazz_'\n      const { stdout } = await execAsync('tmux list-sessions -F \"#{session_name}:#{session_created}\" 2>/dev/null || true')\n      \n      if (!stdout.trim()) {\n        return []\n      }\n      \n      const sessions = stdout.trim().split('\\n')\n        .filter(line => line.includes('tazz_'))\n        .map(line => {\n          const [sessionId, created] = line.split(':')\n          const createdDate = new Date(parseInt(created) * 1000).toLocaleString()\n          \n          // Parse session ID to extract instance and task info\n          // New format: tazz_instance_taskname\n          const match = sessionId.match(/^tazz_(.+)$/)\n          if (match) {\n            const fullId = match[1]\n            // Try to split by last underscore to separate instance from task\n            const lastUnderscoreIndex = fullId.lastIndexOf('_')\n            if (lastUnderscoreIndex > 0) {\n              const instance = fullId.substring(0, lastUnderscoreIndex)\n              const taskName = fullId.substring(lastUnderscoreIndex + 1)\n              return {\n                sessionId,\n                created: createdDate,\n                project: instance,\n                taskName: taskName,\n                fullProcessId: fullId\n              }\n            } else {\n              // Single session without task\n              return {\n                sessionId,\n                created: createdDate,\n                project: fullId,\n                fullProcessId: fullId\n              }\n            }\n          }\n          \n          return {\n            sessionId,\n            created: createdDate\n          }\n        })\n      \n      return sessions\n    } catch (error) {\n      // If tmux command fails, return empty array\n      return []\n    }\n  }\n\n  private groupSessionsByInstance(sessions: Array<{sessionId: string, created: string, project?: string, taskName?: string}>): Record<string, {tasks: any[], main: any[]}> {\n    const grouped: Record<string, {tasks: any[], main: any[]}> = {}\n    \n    sessions.forEach(session => {\n      const project = session.project || 'unknown'\n      \n      if (!grouped[project]) {\n        grouped[project] = { tasks: [], main: [] }\n      }\n      \n      if (session.taskName) {\n        grouped[project].tasks.push(session)\n      } else {\n        grouped[project].main.push(session)\n      }\n    })\n    \n    return grouped\n  }\n\n  private showQuickActions(sessions: any[]): void {\n    console.log(chalk.bold('\uD83D\uDE80 Quick Actions:'))\n    console.log('')\n    \n    if (sessions.length > 0) {\n      // Find first task process to show as example\n      const taskSession = sessions.find(s => s.taskName)\n      if (taskSession) {\n        console.log(chalk.gray('  Join task session:'), chalk.cyan(`tazz join ${taskSession.fullProcessId}`))\n      }\n      \n      // Find first main session\n      const mainSession = sessions.find(s => !s.taskName)\n      if (mainSession && mainSession.project) {\n        console.log(chalk.gray('  Join main session:'), chalk.cyan(`tazz join ${mainSession.fullProcessId || mainSession.project}`))\n      }\n      \n      console.log(chalk.gray('  Complete session:'), chalk.cyan(`tazz done ${taskSession?.fullProcessId || mainSession?.fullProcessId || '<session-id>'}`))\n      console.log(chalk.gray('  Complete all sessions:'), chalk.cyan('tazz done --all'))\n      console.log(chalk.gray('  Stop a session:'), chalk.cyan(`tazz stop <session-id>`))\n    }\n    \n    console.log(chalk.gray('  Create new sessions:'), chalk.cyan('tazz run'))\n    console.log(chalk.gray('  Edit tasks:'), chalk.cyan('tazz note'))\n    console.log('')\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { getLogger } from '../../utils/logger'\n\nconst execAsync = promisify(exec)\n\nexport class JoinCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('join')\n      .alias('attach')\n      .description('\uD83D\uDD17 Join an existing Tazz process')\n      .argument('<process-id>', 'Process ID to join (e.g., instance_task-1)')\n      .action(async (processId: string) => {\n        await this.execute(processId)\n      })\n  }\n\n  async execute(processId: string): Promise<void> {\n    console.log('')\n    \n    try {\n      // Build tmux session name - process ID is already the full identifier\n      const tmuxSessionName = `tazz_${processId}`\n      \n      console.log(chalk.cyan(`\uD83D\uDD17 Joining Tazz process: ${processId}`))\n\n      // Check if session exists\n      try {\n        await execAsync(`tmux has-session -t ${tmuxSessionName}`)\n      } catch (error) {\n        console.log(chalk.red(`\u274C Tazz process not found: ${processId}`))\n        \n        // List available sessions\n        await this.listAvailableSessions()\n        process.exit(1)\n      }\n\n      // Join tmux session\n      await this.joinTmuxSession(tmuxSessionName)\n\n    } catch (error) {\n      console.log(chalk.red(`\u274C Failed to join session: ${(error as Error).message}`))\n      this.logger.error('Join failed', error as Error)\n      process.exit(1)\n    }\n  }\n\n  private async joinTmuxSession(sessionName: string): Promise<void> {\n    try {\n      // Check if we're already in a tmux session\n      if (process.env.TMUX) {\n        console.log(chalk.yellow('\u26A0\uFE0F  Already inside a tmux session'))\n        console.log(chalk.gray('   Switch to session:'), chalk.cyan(`tmux switch-client -t ${sessionName}`))\n        return\n      }\n      \n      // Import spawn to replace current process\n      const { spawn } = require('child_process')\n      \n      console.log(chalk.green(`\u2705 Joining Tazz process: ${sessionName}`))\n      \n      // Spawn tmux attach and replace current process\n      const tmux = spawn('tmux', ['attach-session', '-t', sessionName], {\n        stdio: 'inherit',\n        detached: false\n      })\n      \n      // Exit current process when tmux session ends\n      tmux.on('exit', (code) => {\n        process.exit(code || 0)\n      })\n      \n    } catch (error) {\n      console.log(chalk.yellow('\u26A0\uFE0F  Could not join tmux session'))\n      console.log(chalk.gray('   Try manually:'), chalk.cyan(`tmux attach-session -t ${sessionName}`))\n    }\n  }\n\n  private async listAvailableSessions(): Promise<void> {\n    try {\n      const { stdout } = await execAsync('tmux list-sessions | grep tazz')\n      console.log('')\n      console.log(chalk.yellow('Available Tazz processes:'))\n      console.log(chalk.gray(stdout))\n    } catch {\n      console.log(chalk.gray('No active Tazz processes found'))\n    }\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport { MCPSessionManager } from '../../core/services/MCPSessionManager'\nimport { MCPIntegrationService } from '../../core/services/MCPIntegrationService'\nimport { getLogger } from '../../utils/logger'\n\nexport class StopCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('stop')\n      .description('\u23F8\uFE0F  Stop a Tazz session (keeps worktree)')\n      .argument('<session-id>', 'Session identifier to stop')\n      .action(async (sessionId: string) => {\n        await this.execute(sessionId)\n      })\n  }\n\n  async execute(sessionId: string): Promise<void> {\n    console.log('')\n    console.log(chalk.yellow(`\u23F8\uFE0F  Stopping session: ${sessionId}`))\n\n    const spinner = ora('Stopping session and cleaning up resources').start()\n\n    try {\n      // Initialize services\n      const mcpService = new MCPIntegrationService(this.logger)\n      const sessionManager = new MCPSessionManager(mcpService, this.logger)\n\n      // Stop the session (this will stop tmux but keep worktree)\n      await sessionManager.stopSession(sessionId)\n      \n      spinner.succeed('Session stopped successfully')\n      console.log(chalk.green(`\u2705 Session ${sessionId} stopped`))\n      console.log(chalk.gray(`   Use 'tazz start ${sessionId}' to resume with existing worktree`))\n      console.log(chalk.gray(`   Use 'tazz clean --session ${sessionId}' to completely remove worktree`))\n\n    } catch (error) {\n      spinner.fail('Failed to stop session')\n      console.log(chalk.red(`\u274C Failed to stop session: ${(error as Error).message}`))\n      process.exit(1)\n    }\n  }\n}", "import { MCPIntegrationService } from './MCPIntegrationService'\nimport { GitWorktreeManager } from './GitWorktreeManager'\nimport { SessionStore } from '../storage/SessionStore'\nimport { Logger } from '../../utils/logger'\nimport { TazzSession, SessionStatus, AgentInstance, AgentType, AgentStatus, SessionError } from '../types'\nimport { execa } from 'execa'\nimport { join } from 'path'\nimport { ensureDir, writeFile } from 'fs-extra'\n\nexport interface SessionContext {\n  tasks?: string[]\n  customBranch?: string\n  enableTmux?: boolean\n  enableJiraIntegration?: boolean\n}\n\nexport class MCPSessionManager {\n  private mcpService: MCPIntegrationService\n  private sessionStore: SessionStore\n  private worktreeManager: GitWorktreeManager\n  private logger: Logger\n\n  constructor(mcpService: MCPIntegrationService, logger: Logger) {\n    this.mcpService = mcpService\n    this.sessionStore = new SessionStore()\n    this.worktreeManager = new GitWorktreeManager(logger)\n    this.logger = logger\n  }\n\n  async createSession(sessionId: string, context: SessionContext = {}): Promise<TazzSession> {\n    this.logger.info('Creating new session', { sessionId, context })\n\n    try {\n      // Check if session already exists\n      const existing = await this.sessionStore.getSession(sessionId)\n      if (existing) {\n        throw new SessionError(`Session ${sessionId} already exists`, { sessionId })\n      }\n\n      // Ensure worktree setup (create directory and update .gitignore)\n      await this.worktreeManager.ensureWorktreeSetup()\n      \n      // Create git worktree using the manager\n      const worktreeInfo = await this.worktreeManager.createWorktree(sessionId, context.customBranch)\n\n      // Create session object\n      const session: TazzSession = {\n        id: sessionId,\n        branch: worktreeInfo.branchName,\n        worktreePath: worktreeInfo.worktreePath,\n        status: SessionStatus.ACTIVE,\n        createdAt: new Date(),\n        lastActive: new Date(),\n        agents: [],\n        tasks: this.createTasksFromContext(context),\n        metadata: {}\n      }\n\n      // Enrich with MCP data if possible\n      if (context.enableJiraIntegration && this.isJiraTicket(sessionId)) {\n        await this.enrichWithJiraContext(session)\n      }\n\n      // Save session\n      await this.sessionStore.saveSession(session)\n\n      // Setup session directory\n      await this.setupSessionDirectory(session)\n\n      this.logger.info('Session created successfully', { sessionId })\n      return session\n    } catch (error) {\n      this.logger.error('Failed to create session', error, { sessionId })\n      throw error\n    }\n  }\n\n  async attachToSession(sessionId: string): Promise<TazzSession> {\n    const session = await this.sessionStore.getSession(sessionId)\n    if (!session) {\n      throw new SessionError(`Session ${sessionId} not found`, { sessionId })\n    }\n\n    // Update last active\n    session.lastActive = new Date()\n    session.status = SessionStatus.ACTIVE\n    await this.sessionStore.saveSession(session)\n\n    return session\n  }\n\n  async setupTmuxSession(session: TazzSession): Promise<void> {\n    const tmuxSessionName = `tazz_${session.id}`\n    \n    try {\n      // Create tmux session\n      await execa('tmux', [\n        'new-session',\n        '-d',\n        '-s', tmuxSessionName,\n        '-c', session.worktreePath\n      ])\n\n      // Split into panes\n      await execa('tmux', ['split-window', '-h', '-t', tmuxSessionName])\n      await execa('tmux', ['split-window', '-v', '-t', `${tmuxSessionName}:0.1`])\n\n      // Setup panes\n      await execa('tmux', ['send-keys', '-t', `${tmuxSessionName}:0.0`, 'echo \"Development Shell\"', 'Enter'])\n      await execa('tmux', ['send-keys', '-t', `${tmuxSessionName}:0.1`, 'echo \"Build/Test Watcher\"', 'Enter'])\n      await execa('tmux', ['send-keys', '-t', `${tmuxSessionName}:0.2`, 'echo \"Agent Console\"', 'Enter'])\n\n      this.logger.info('Tmux session created', { sessionId: session.id, tmuxSessionName })\n    } catch (error) {\n      this.logger.error('Failed to create tmux session', error, { sessionId: session.id })\n      throw new SessionError('Failed to create tmux session', { sessionId: session.id }, error)\n    }\n  }\n\n  async setupAgentEnvironment(session: TazzSession): Promise<void> {\n    // Create agent instance placeholder\n    const agent: AgentInstance = {\n      id: `agent_${session.id}`,\n      name: 'Claude Agent',\n      type: AgentType.CLAUDE,\n      status: AgentStatus.STARTING,\n      lastActivity: new Date(),\n      capabilities: ['code-generation', 'file-modification', 'testing']\n    }\n\n    session.agents.push(agent)\n    await this.sessionStore.saveSession(session)\n  }\n\n  async enrichWithJiraContext(session: TazzSession): Promise<void> {\n    if (!this.mcpService.isAvailable('atlassian')) {\n      this.logger.warn('Jira integration requested but Atlassian MCP not available')\n      return\n    }\n\n    try {\n      const ticketInfo = await this.mcpService.callMCP('atlassian', 'jira_get_issue', {\n        issueKey: session.id\n      })\n\n      session.metadata.jira = {\n        title: ticketInfo.fields.summary,\n        description: ticketInfo.fields.description,\n        priority: ticketInfo.fields.priority.name,\n        assignee: ticketInfo.fields.assignee?.displayName,\n        status: ticketInfo.fields.status.name,\n        type: ticketInfo.fields.issuetype.name,\n        storyPoints: ticketInfo.fields.storyPoints\n      }\n\n      // Create Jira-based todo\n      await this.createJiraBasedTodo(session, ticketInfo)\n\n      this.logger.info('Session enriched with Jira context', { sessionId: session.id })\n    } catch (error) {\n      this.logger.warn('Failed to enrich session with Jira context', { error: error.message, sessionId: session.id })\n    }\n  }\n\n  async attachToTmuxSession(sessionId: string): Promise<void> {\n    const tmuxSessionName = `tazz_${sessionId}`\n    \n    try {\n      await execa('tmux', ['attach-session', '-t', tmuxSessionName], {\n        stdio: 'inherit'\n      })\n    } catch (error) {\n      throw new SessionError(`Failed to attach to tmux session: ${tmuxSessionName}`, { sessionId }, error)\n    }\n  }\n\n  /**\n   * Stops a session and cleans up its worktree\n   */\n  async stopSession(sessionId: string): Promise<void> {\n    this.logger.info('Stopping session', { sessionId })\n\n    try {\n      // Get session\n      const session = await this.sessionStore.getSession(sessionId)\n      if (!session) {\n        throw new SessionError(`Session ${sessionId} not found`, { sessionId })\n      }\n\n      // Update session status\n      session.status = SessionStatus.STOPPED\n      session.lastActive = new Date()\n      await this.sessionStore.saveSession(session)\n\n      // Stop tmux session if exists\n      try {\n        const tmuxSessionName = `tazz_${sessionId}`\n        await execa('tmux', ['kill-session', '-t', tmuxSessionName])\n        this.logger.info('Tmux session stopped', { sessionId, tmuxSessionName })\n      } catch (tmuxError) {\n        this.logger.warn('Failed to stop tmux session (may not exist)', { error: tmuxError.message, sessionId })\n      }\n\n      this.logger.info('Session stopped successfully', { sessionId })\n\n    } catch (error) {\n      this.logger.error('Failed to stop session', error, { sessionId })\n      throw error\n    }\n  }\n\n  /**\n   * Deletes a session and removes its worktree completely\n   */\n  async deleteSession(sessionId: string): Promise<void> {\n    this.logger.info('Deleting session', { sessionId })\n\n    try {\n      // Stop the session first\n      await this.stopSession(sessionId)\n\n      // Remove the worktree\n      await this.worktreeManager.removeWorktree(sessionId)\n\n      // Remove session from store\n      await this.sessionStore.deleteSession(sessionId)\n\n      this.logger.info('Session deleted successfully', { sessionId })\n\n    } catch (error) {\n      this.logger.error('Failed to delete session', error, { sessionId })\n      throw error\n    }\n  }\n\n  /**\n   * Lists all active worktrees managed by Tazz\n   */\n  async listManagedWorktrees() {\n    return await this.worktreeManager.listWorktrees()\n  }\n\n  private createTasksFromContext(context: SessionContext): any[] {\n    if (!context.tasks) return []\n    \n    return context.tasks.map((task, index) => ({\n      id: `task_${index + 1}`,\n      title: task,\n      description: '',\n      status: 'todo',\n      priority: 1,\n      dependencies: []\n    }))\n  }\n\n  private async setupSessionDirectory(session: TazzSession): Promise<void> {\n    const sessionDir = join(session.worktreePath, '.tazz')\n    await ensureDir(sessionDir)\n\n    // Create session-specific files\n    await writeFile(\n      join(sessionDir, 'session.json'),\n      JSON.stringify(session, null, 2)\n    )\n\n    await writeFile(\n      join(sessionDir, 'tazz-todo.md'),\n      this.generateSessionTodo(session)\n    )\n  }\n\n  private generateSessionTodo(session: TazzSession): string {\n    let content = `# ${session.id}\\n\\n`\n    \n    if (session.metadata.jira) {\n      content += `## ${session.metadata.jira.title}\\n\\n`\n      content += `**Priority:** ${session.metadata.jira.priority}\\n`\n      content += `**Status:** ${session.metadata.jira.status}\\n\\n`\n      \n      if (session.metadata.jira.description) {\n        content += `### Description\\n${session.metadata.jira.description}\\n\\n`\n      }\n    }\n\n    content += `## Tasks\\n`\n    if (session.tasks.length > 0) {\n      session.tasks.forEach(task => {\n        content += `- [ ] ${task.title}\\n`\n      })\n    } else {\n      content += `- [ ] Analyze requirements\\n`\n      content += `- [ ] Implement solution\\n`\n      content += `- [ ] Write tests\\n`\n      content += `- [ ] Review and refine\\n`\n    }\n\n    return content\n  }\n\n  private async createJiraBasedTodo(session: TazzSession, ticketInfo: any): Promise<void> {\n    // This would create a more detailed todo based on Jira ticket\n    // For now, it's handled in generateSessionTodo\n  }\n\n  private isJiraTicket(sessionId: string): boolean {\n    return /^[A-Z]+-\\d+$/.test(sessionId)\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport inquirer from 'inquirer'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { MCPSessionManager } from '../../core/services/MCPSessionManager'\nimport { MCPIntegrationService } from '../../core/services/MCPIntegrationService'\nimport { getLogger } from '../../utils/logger'\n\nconst execAsync = promisify(exec)\n\nexport class DeleteCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('delete')\n      .alias('rm')\n      .alias('destroy')\n      .description('\uD83D\uDDD1\uFE0F  Completely delete a session and its worktree')\n      .argument('<session-id>', 'Session ID to delete (e.g., JIRA-123, feature-name)')\n      .option('-f, --force', 'Skip confirmation prompt')\n      .action(async (sessionId: string, options) => {\n        await this.execute(sessionId, options)\n      })\n  }\n\n  async execute(sessionId: string, options: { force?: boolean } = {}): Promise<void> {\n    console.log('')\n    console.log(chalk.red(`\uD83D\uDDD1\uFE0F  Deleting session: ${sessionId}`))\n    \n    try {\n      // Initialize services\n      const mcpService = new MCPIntegrationService(this.logger)\n      const sessionManager = new MCPSessionManager(mcpService, this.logger)\n\n      // Check if session exists\n      const sessionStore = sessionManager['sessionStore'] || new (await import('../../core/storage/SessionStore')).SessionStore()\n      const session = await sessionStore.getSession(sessionId)\n      if (!session) {\n        console.log(chalk.red(`\u274C Session not found: ${sessionId}`))\n        await this.listAvailableSessions()\n        process.exit(1)\n      }\n\n      // Confirmation prompt\n      if (!options.force) {\n        console.log('')\n        console.log(chalk.yellow('\u26A0\uFE0F  This will permanently delete:'))\n        console.log(chalk.gray(`   \u2022 Git worktree: ${session.worktreePath}`))\n        console.log(chalk.gray('   \u2022 Tmux session'))\n        console.log(chalk.gray('   \u2022 All session data'))\n        console.log('')\n\n        const { confirmed } = await inquirer.prompt([{\n          type: 'confirm',\n          name: 'confirmed',\n          message: `Are you sure you want to delete session ${sessionId}?`,\n          default: false\n        }])\n\n        if (!confirmed) {\n          console.log(chalk.yellow('\u274C Deletion cancelled'))\n          return\n        }\n      }\n\n      const spinner = ora('Deleting session and cleaning up all resources').start()\n\n      // Delete the session completely (stops tmux, removes worktree, deletes session data)\n      await sessionManager.deleteSession(sessionId)\n      \n      spinner.succeed('Session deleted successfully')\n      console.log(chalk.green(`\u2705 Session ${sessionId} has been completely removed`))\n      console.log(chalk.gray('   All worktree data has been permanently deleted'))\n\n    } catch (error) {\n      console.log(chalk.red(`\u274C Failed to delete session: ${(error as Error).message}`))\n      \n      // Provide helpful suggestions\n      console.log('')\n      console.log(chalk.yellow('\uD83D\uDCA1 Try these commands:'))\n      console.log(chalk.gray('   \u2022 tazz list - Check if session exists'))\n      console.log(chalk.gray('   \u2022 tazz clean --worktrees - Clean abandoned worktrees'))\n      console.log(chalk.gray('   \u2022 git worktree list - Check git worktrees manually'))\n      \n      this.logger.error('Delete failed', error as Error)\n      process.exit(1)\n    }\n  }\n\n  private async listAvailableSessions(): Promise<void> {\n    try {\n      const mcpService = new MCPIntegrationService(this.logger)\n      const sessionManager = new MCPSessionManager(mcpService, this.logger)\n      const sessionStore = sessionManager['sessionStore'] || new (await import('../../core/storage/SessionStore')).SessionStore()\n      const sessions = await sessionStore.getAllSessions()\n      \n      console.log('')\n      if (sessions.length > 0) {\n        console.log(chalk.yellow('Available sessions:'))\n        sessions.forEach(session => {\n          console.log(chalk.gray(`   \u2022 ${session.id} (${session.status})`))\n        })\n      } else {\n        console.log(chalk.gray('No sessions found'))\n      }\n    } catch {\n      console.log(chalk.gray('Unable to list sessions'))\n    }\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { pathExists } from 'fs-extra'\nimport { getLogger } from '../../utils/logger'\nimport { DependencyManager } from '../../utils/dependencies'\n\nconst execAsync = promisify(exec)\n\nexport class HealthCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('health')\n      .description('\uD83C\uDFE5 Check Tazz CLI health and system dependencies')\n      .option('--fix', 'Automatically fix issues where possible')\n      .option('--verbose', 'Show detailed diagnostic information')\n      .action(async (options) => {\n        await this.execute(options)\n      })\n  }\n\n  async execute(options: {\n    fix?: boolean\n    verbose?: boolean\n  } = {}): Promise<void> {\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83C\uDFE5 Tazz CLI Health Check'))\n    console.log(chalk.gray('Checking system dependencies and configuration...'))\n    console.log('')\n\n    const healthChecks = [\n      { name: 'Node.js', check: () => this.checkNode() },\n      { name: 'npm/yarn', check: () => this.checkPackageManager() },\n      { name: 'Git', check: () => this.checkGit() },\n      { name: 'tmux', check: () => this.checkTmux(options.fix) },\n      { name: 'Claude Code', check: () => this.checkClaudeCode() },\n      { name: 'Tazz Configuration', check: () => this.checkTazzConfig() },\n      { name: 'System Resources', check: () => this.checkSystemResources() },\n      { name: 'Network Connectivity', check: () => this.checkNetwork() }\n    ]\n\n    const results: Array<{ name: string; status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> = []\n\n    for (const healthCheck of healthChecks) {\n      const spinner = ora(`Checking ${healthCheck.name}`).start()\n      \n      try {\n        const result = await healthCheck.check()\n        results.push({ name: healthCheck.name, ...result })\n        \n        if (result.status === 'pass') {\n          spinner.succeed(chalk.green(`${healthCheck.name}: ${result.message}`))\n        } else if (result.status === 'warn') {\n          spinner.warn(chalk.yellow(`${healthCheck.name}: ${result.message}`))\n        } else {\n          spinner.fail(chalk.red(`${healthCheck.name}: ${result.message}`))\n        }\n        \n        if (options.verbose && result.details) {\n          console.log(chalk.gray(`   ${result.details}`))\n        }\n        \n      } catch (error) {\n        results.push({\n          name: healthCheck.name,\n          status: 'fail',\n          message: `Check failed: ${(error as Error).message}`\n        })\n        spinner.fail(chalk.red(`${healthCheck.name}: Check failed`))\n      }\n    }\n\n    // Summary\n    console.log('')\n    this.printHealthSummary(results)\n    \n    // Recommendations\n    const failedChecks = results.filter(r => r.status === 'fail')\n    const warningChecks = results.filter(r => r.status === 'warn')\n    \n    if (failedChecks.length > 0 || warningChecks.length > 0) {\n      console.log('')\n      console.log(chalk.bold('\uD83D\uDD27 Recommendations:'))\n      \n      for (const check of [...failedChecks, ...warningChecks]) {\n        console.log('')\n        console.log(chalk.bold(`${check.name}:`))\n        console.log(chalk.gray(`  Issue: ${check.message}`))\n        \n        const recommendation = this.getRecommendation(check.name, check.status)\n        if (recommendation) {\n          console.log(chalk.cyan(`  Fix: ${recommendation}`))\n        }\n      }\n    }\n\n    // Auto-fix option\n    if (options.fix && failedChecks.length > 0) {\n      console.log('')\n      console.log(chalk.yellow('\uD83D\uDD28 Attempting to fix issues automatically...'))\n      await this.autoFix(failedChecks)\n    }\n\n    console.log('')\n  }\n\n  private async checkNode(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      const { stdout } = await execAsync('node --version')\n      const version = stdout.trim()\n      const majorVersion = parseInt(version.replace('v', '').split('.')[0])\n      \n      if (majorVersion >= 18) {\n        return {\n          status: 'pass',\n          message: `${version} (supported)`,\n          details: `Node.js ${version} is compatible with Tazz CLI`\n        }\n      } else if (majorVersion >= 16) {\n        return {\n          status: 'warn',\n          message: `${version} (outdated but supported)`,\n          details: 'Consider upgrading to Node.js 18+ for best performance'\n        }\n      } else {\n        return {\n          status: 'fail',\n          message: `${version} (unsupported)`,\n          details: 'Tazz CLI requires Node.js 16+ (18+ recommended)'\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'fail',\n        message: 'Node.js not found',\n        details: 'Install Node.js from https://nodejs.org'\n      }\n    }\n  }\n\n  private async checkPackageManager(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      const { stdout: npmVersion } = await execAsync('npm --version')\n      \n      try {\n        const { stdout: yarnVersion } = await execAsync('yarn --version')\n        return {\n          status: 'pass',\n          message: `npm ${npmVersion.trim()}, yarn ${yarnVersion.trim()}`,\n          details: 'Both npm and yarn are available'\n        }\n      } catch {\n        return {\n          status: 'pass',\n          message: `npm ${npmVersion.trim()}`,\n          details: 'npm is available (yarn not installed)'\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'fail',\n        message: 'No package manager found',\n        details: 'Install npm (comes with Node.js) or yarn'\n      }\n    }\n  }\n\n  private async checkGit(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      const { stdout } = await execAsync('git --version')\n      const version = stdout.trim().replace('git version ', '')\n      \n      // Check git configuration\n      try {\n        const { stdout: userName } = await execAsync('git config user.name')\n        const { stdout: userEmail } = await execAsync('git config user.email')\n        \n        if (userName.trim() && userEmail.trim()) {\n          return {\n            status: 'pass',\n            message: `${version} (configured)`,\n            details: `User: ${userName.trim()} <${userEmail.trim()}>`\n          }\n        } else {\n          return {\n            status: 'warn',\n            message: `${version} (not configured)`,\n            details: 'Git user name and email not configured'\n          }\n        }\n      } catch {\n        return {\n          status: 'warn',\n          message: `${version} (not configured)`,\n          details: 'Git user name and email not configured'\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'fail',\n        message: 'Git not found',\n        details: 'Install Git from https://git-scm.com'\n      }\n    }\n  }\n\n  private async checkTmux(autoFix?: boolean): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      const { stdout } = await execAsync('tmux -V')\n      const version = stdout.trim()\n      \n      return {\n        status: 'pass',\n        message: `${version} (available)`,\n        details: 'tmux is installed and available for session management'\n      }\n    } catch (error) {\n      if (autoFix) {\n        try {\n          const installed = await DependencyManager.installTmux()\n          if (installed) {\n            return {\n              status: 'pass',\n              message: 'Installed automatically',\n              details: 'tmux was successfully installed'\n            }\n          }\n        } catch (installError) {\n          // Fall through to manual installation message\n        }\n      }\n      \n      return {\n        status: 'fail',\n        message: 'tmux not found',\n        details: 'tmux is required for session management'\n      }\n    }\n  }\n\n  private async checkClaudeCode(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      // Check if Claude Code CLI is available\n      const { stdout } = await execAsync('claude --version')\n      const version = stdout.trim()\n      \n      return {\n        status: 'pass',\n        message: `${version} (available)`,\n        details: 'Claude Code CLI is installed and available'\n      }\n    } catch (error) {\n      // Check if running in Claude Code environment\n      if (process.env.CLAUDE_CODE) {\n        return {\n          status: 'pass',\n          message: 'Running in Claude Code',\n          details: 'Tazz is running within Claude Code environment'\n        }\n      }\n      \n      return {\n        status: 'warn',\n        message: 'Claude Code not detected',\n        details: 'Some features may not be available without Claude Code integration'\n      }\n    }\n  }\n\n  private async checkTazzConfig(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    const tazzTmpDir = '/tmp/tazz-tmp'\n    const configExists = await pathExists(tazzTmpDir)\n    \n    if (configExists) {\n      return {\n        status: 'pass',\n        message: 'Configuration directory exists',\n        details: `Tazz data directory: ${tazzTmpDir}`\n      }\n    } else {\n      return {\n        status: 'warn',\n        message: 'Configuration directory missing',\n        details: 'Will be created automatically when needed'\n      }\n    }\n  }\n\n  private async checkSystemResources(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      // Check available disk space\n      const { stdout } = await execAsync('df -h /tmp')\n      const lines = stdout.trim().split('\\n')\n      const tmpLine = lines[1]\n      const parts = tmpLine.split(/\\s+/)\n      const available = parts[3]\n      const usage = parts[4]\n      \n      const usagePercent = parseInt(usage.replace('%', ''))\n      \n      if (usagePercent < 80) {\n        return {\n          status: 'pass',\n          message: `Disk space: ${available} available`,\n          details: `/tmp usage: ${usage}`\n        }\n      } else if (usagePercent < 90) {\n        return {\n          status: 'warn',\n          message: `Disk space: ${available} available`,\n          details: `/tmp usage: ${usage} (consider cleaning up)`\n        }\n      } else {\n        return {\n          status: 'fail',\n          message: `Disk space: ${available} available`,\n          details: `/tmp usage: ${usage} (critically low space)`\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'warn',\n        message: 'Unable to check disk space',\n        details: 'System resource check failed'\n      }\n    }\n  }\n\n  private async checkNetwork(): Promise<{ status: 'pass' | 'fail' | 'warn'; message: string; details?: string }> {\n    try {\n      // Test basic connectivity\n      await execAsync('ping -c 1 -W 5 8.8.8.8')\n      \n      // Test HTTPS connectivity (for MCP servers, npm, etc.)\n      try {\n        await execAsync('curl -s --max-time 10 https://registry.npmjs.org')\n        return {\n          status: 'pass',\n          message: 'Internet connectivity available',\n          details: 'Can reach npm registry and external services'\n        }\n      } catch {\n        return {\n          status: 'warn',\n          message: 'Limited connectivity',\n          details: 'Basic internet works but HTTPS may be restricted'\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'warn',\n        message: 'No internet connectivity',\n        details: 'Some features may not work without internet access'\n      }\n    }\n  }\n\n  private printHealthSummary(results: Array<{ name: string; status: 'pass' | 'fail' | 'warn'; message: string }>): void {\n    const passed = results.filter(r => r.status === 'pass').length\n    const warnings = results.filter(r => r.status === 'warn').length\n    const failed = results.filter(r => r.status === 'fail').length\n    \n    console.log(chalk.bold('\uD83D\uDCCA Health Summary:'))\n    console.log(chalk.green(`   \u2705 Passed: ${passed}`))\n    if (warnings > 0) {\n      console.log(chalk.yellow(`   \u26A0\uFE0F  Warnings: ${warnings}`))\n    }\n    if (failed > 0) {\n      console.log(chalk.red(`   \u274C Failed: ${failed}`))\n    }\n    \n    if (failed === 0 && warnings === 0) {\n      console.log('')\n      console.log(chalk.green.bold('\uD83C\uDF89 All systems healthy! Tazz CLI is ready to use.'))\n    } else if (failed === 0) {\n      console.log('')\n      console.log(chalk.yellow.bold('\u26A0\uFE0F  Minor issues detected but Tazz CLI should work fine.'))\n    } else {\n      console.log('')\n      console.log(chalk.red.bold('\u274C Critical issues detected. Some features may not work.'))\n    }\n  }\n\n  private getRecommendation(checkName: string, status: 'fail' | 'warn'): string | null {\n    const recommendations: Record<string, Record<'fail' | 'warn', string>> = {\n      'Node.js': {\n        fail: 'Install Node.js 18+ from https://nodejs.org',\n        warn: 'Upgrade to Node.js 18+ for better performance and latest features'\n      },\n      'npm/yarn': {\n        fail: 'Install Node.js (includes npm) or yarn package manager',\n        warn: 'Consider installing yarn for better package management'\n      },\n      'Git': {\n        fail: 'Install Git from https://git-scm.com and configure with: git config --global user.name \"Your Name\" && git config --global user.email \"your@email.com\"',\n        warn: 'Configure Git with: git config --global user.name \"Your Name\" && git config --global user.email \"your@email.com\"'\n      },\n      'tmux': {\n        fail: 'Install tmux using your package manager or run: tazz health --fix',\n        warn: 'Update tmux to latest version'\n      },\n      'Claude Code': {\n        fail: 'Install Claude Code from https://claude.ai/code',\n        warn: 'Some MCP features may not be available'\n      },\n      'System Resources': {\n        fail: 'Free up disk space in /tmp directory',\n        warn: 'Consider cleaning up temporary files'\n      },\n      'Network Connectivity': {\n        fail: 'Check internet connection and firewall settings',\n        warn: 'Some online features may not work'\n      }\n    }\n    \n    return recommendations[checkName]?.[status] || null\n  }\n\n  private async autoFix(failedChecks: Array<{ name: string; status: 'fail'; message: string }>): Promise<void> {\n    for (const check of failedChecks) {\n      if (check.name === 'tmux') {\n        const spinner = ora('Installing tmux').start()\n        try {\n          const installed = await DependencyManager.installTmux()\n          if (installed) {\n            spinner.succeed('tmux installed successfully')\n            \n            // Verify installation worked\n            const stillMissing = await this.checkTmux(false)\n            if (stillMissing.status === 'pass') {\n              console.log(chalk.green('\u2705 tmux is now available and working'))\n            }\n          } else {\n            spinner.fail('Failed to install tmux automatically')\n            console.log(chalk.yellow('\uD83D\uDCA1 Try running: tazz health --fix'))\n          }\n        } catch (error) {\n          spinner.fail('tmux installation failed')\n          this.logger.error('Auto-fix failed for tmux', error as Error)\n        }\n      }\n      \n      if (check.name === 'Git' && check.message.includes('not configured')) {\n        console.log('')\n        console.log(chalk.yellow('\uD83D\uDD27 Git configuration needed:'))\n        console.log(chalk.gray('   Run these commands to configure Git:'))\n        console.log(chalk.cyan('   git config --global user.name \"Your Name\"'))\n        console.log(chalk.cyan('   git config --global user.email \"your@email.com\"'))\n      }\n      \n      // Add more auto-fixes as needed\n    }\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport inquirer from 'inquirer'\nimport { getLogger } from '../../utils/logger'\nimport { MakeCommand } from './make'\nimport { NoteCommand } from './note'\nimport { RunCommand } from './run'\nimport { ListCommand } from './list'\nimport { AttachCommand } from './attach'\nimport { StopCommand } from './stop'\nimport { DeleteCommand } from './delete'\nimport { HealthCommand } from './health'\n\nexport class InteractiveCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('interactive')\n      .description('\uD83C\uDF00 Interactive Tazz CLI tool menu')\n      .alias('i')\n      .action(async () => {\n        await this.execute()\n      })\n  }\n\n  async execute(): Promise<void> {\n    console.clear()\n    this.showLogo()\n    \n    while (true) {\n      try {\n        const choice = await this.showMainMenu()\n        \n        if (choice === 'exit') {\n          console.log('')\n          console.log(chalk.cyan('\uD83D\uDC4B Thanks for using Tazz CLI Tool!'))\n          console.log('')\n          process.exit(0)\n        }\n        \n        await this.handleMenuChoice(choice)\n        \n        // Pause before showing menu again\n        console.log('')\n        await inquirer.prompt([{\n          type: 'input',\n          name: 'continue',\n          message: 'Press Enter to continue...'\n        }])\n        \n      } catch (error) {\n        if (error === 'SIGINT') {\n          console.log('')\n          console.log(chalk.cyan('\uD83D\uDC4B Goodbye!'))\n          process.exit(0)\n        }\n        \n        this.logger.error('Interactive menu error', error as Error)\n        console.log('')\n        console.log(chalk.red('\u274C An error occurred. Please try again.'))\n        console.log('')\n      }\n    }\n  }\n\n  private showLogo(): void {\n    const logo = `\n        .       *        .        *\n        .             .    *         .       .\n                   @@@\n                @@@@@@@\n              @@@@#^#@@@@\n                @@@@@@@\n                  @@@\n                   @@\n        ___@______________________\n .          *          .       *       .      .\n     *          .             *        .      *\n    `\n    \n    console.log(chalk.cyan(logo))\n    console.log(chalk.bold.cyan('=== Tazz CLI Tool ==='))\n    console.log(chalk.gray('   AI-Powered Development Orchestrator'))\n    console.log('')\n  }\n\n  private async showMainMenu(): Promise<string> {\n    const choices = [\n      {\n        name: `${chalk.cyan('\uD83C\uDFD7\uFE0F  make')} - Setup Tazz in current project`,\n        value: 'make',\n        short: 'make'\n      },\n      {\n        name: `${chalk.cyan('\uD83D\uDCDD note')} - Edit tasks and prompts`,\n        value: 'note',\n        short: 'note'\n      },\n      {\n        name: `${chalk.cyan('\uD83D\uDE80 run')} - Start development session`,\n        value: 'run',\n        short: 'run'\n      },\n      new inquirer.Separator(),\n      {\n        name: `${chalk.yellow('\uD83D\uDCCB list')} - Show all sessions`,\n        value: 'list',\n        short: 'list'\n      },\n      {\n        name: `${chalk.yellow('\uD83D\uDD17 join')} - Attach to session`,\n        value: 'join',\n        short: 'join'\n      },\n      {\n        name: `${chalk.yellow('\u23F8\uFE0F  stop')} - Stop session`,\n        value: 'stop',\n        short: 'stop'\n      },\n      {\n        name: `${chalk.red('\uD83D\uDDD1\uFE0F  destroy')} - Delete session`,\n        value: 'destroy',\n        short: 'destroy'\n      },\n      new inquirer.Separator(),\n      {\n        name: `${chalk.blue('\uD83C\uDFE5 health')} - System health check`,\n        value: 'health',\n        short: 'health'\n      },\n      {\n        name: `${chalk.blue('\uD83E\uDDF9 clean')} - Clean cache and temp files`,\n        value: 'clean',\n        short: 'clean'\n      },\n      new inquirer.Separator(),\n      {\n        name: `${chalk.gray('\u274C exit')} - Exit Tazz CLI`,\n        value: 'exit',\n        short: 'exit'\n      }\n    ]\n\n    const { action } = await inquirer.prompt([\n      {\n        type: 'list',\n        name: 'action',\n        message: 'What would you like to do?',\n        choices,\n        pageSize: 15\n      }\n    ])\n\n    return action\n  }\n\n  private async handleMenuChoice(choice: string): Promise<void> {\n    console.log('')\n    \n    switch (choice) {\n      case 'make':\n        await this.handleMake()\n        break\n        \n      case 'note':\n        await this.handleNote()\n        break\n        \n      case 'run':\n        await this.handleRun()\n        break\n        \n      case 'list':\n        await this.handleList()\n        break\n        \n      case 'join':\n        await this.handleJoin()\n        break\n        \n      case 'stop':\n        await this.handleStop()\n        break\n        \n      case 'destroy':\n        await this.handleDestroy()\n        break\n        \n      case 'health':\n        await this.handleHealth()\n        break\n        \n      case 'clean':\n        await this.handleClean()\n        break\n        \n      default:\n        console.log(chalk.red('Unknown action'))\n    }\n  }\n\n  private async handleMake(): Promise<void> {\n    const makeCommand = new MakeCommand()\n    await makeCommand.execute()\n  }\n\n  private async handleNote(): Promise<void> {\n    const { editor, template } = await inquirer.prompt([\n      {\n        type: 'list',\n        name: 'editor',\n        message: 'Choose editor:',\n        choices: [\n          { name: 'VS Code', value: 'code' },\n          { name: 'Vim', value: 'vim' },\n          { name: 'Nano', value: 'nano' },\n          { name: 'Emacs', value: 'emacs' }\n        ],\n        default: 'code'\n      },\n      {\n        type: 'list',\n        name: 'template',\n        message: 'Choose template:',\n        choices: [\n          { name: 'Task List', value: 'task' },\n          { name: 'Prompt Template', value: 'prompt' },\n          { name: 'Session Plan', value: 'session' }\n        ],\n        default: 'task'\n      }\n    ])\n\n    const noteCommand = new NoteCommand()\n    await noteCommand.execute({ editor, template })\n  }\n\n  private async handleRun(): Promise<void> {\n    const { sessionName, tasks, branch, tmux } = await inquirer.prompt([\n      {\n        type: 'input',\n        name: 'sessionName',\n        message: 'Session name:',\n        validate: (input: string) => {\n          if (!input.trim()) {\n            return 'Session name is required'\n          }\n          if (!/^[a-zA-Z0-9-_]+$/.test(input)) {\n            return 'Session name can only contain letters, numbers, hyphens, and underscores'\n          }\n          return true\n        }\n      },\n      {\n        type: 'input',\n        name: 'tasks',\n        message: 'Tasks (comma-separated, optional):'\n      },\n      {\n        type: 'input',\n        name: 'branch',\n        message: 'Custom branch name (optional):'\n      },\n      {\n        type: 'confirm',\n        name: 'tmux',\n        message: 'Create tmux session?',\n        default: true\n      }\n    ])\n\n    const runCommand = new RunCommand()\n    await runCommand.execute(sessionName, {\n      tasks: tasks || undefined,\n      branch: branch || undefined,\n      tmux\n    })\n  }\n\n  private async handleList(): Promise<void> {\n    const listCommand = new ListCommand()\n    await listCommand.execute()\n  }\n\n  private async handleJoin(): Promise<void> {\n    // First show available sessions\n    const listCommand = new ListCommand()\n    await listCommand.execute()\n\n    console.log('')\n    const { sessionId } = await inquirer.prompt([\n      {\n        type: 'input',\n        name: 'sessionId',\n        message: 'Enter session ID to join:',\n        validate: (input: string) => {\n          if (!input.trim()) {\n            return 'Session ID is required'\n          }\n          return true\n        }\n      }\n    ])\n\n    const attachCommand = new AttachCommand()\n    await attachCommand.execute(sessionId)\n  }\n\n  private async handleStop(): Promise<void> {\n    // First show available sessions\n    const listCommand = new ListCommand()\n    await listCommand.execute()\n\n    console.log('')\n    const { sessionId } = await inquirer.prompt([\n      {\n        type: 'input',\n        name: 'sessionId',\n        message: 'Enter session ID to stop:',\n        validate: (input: string) => {\n          if (!input.trim()) {\n            return 'Session ID is required'\n          }\n          return true\n        }\n      }\n    ])\n\n    const stopCommand = new StopCommand()\n    await stopCommand.execute(sessionId)\n  }\n\n  private async handleDestroy(): Promise<void> {\n    const { confirmAll } = await inquirer.prompt([\n      {\n        type: 'confirm',\n        name: 'confirmAll',\n        message: chalk.red('\u26A0\uFE0F  This will destroy ALL active sessions. Are you sure?'),\n        default: false\n      }\n    ])\n\n    if (!confirmAll) {\n      console.log(chalk.gray('Operation cancelled.'))\n      return\n    }\n\n    const { finalConfirm } = await inquirer.prompt([\n      {\n        type: 'input',\n        name: 'finalConfirm',\n        message: chalk.red('Type \"destroy\" to confirm:'),\n        validate: (input: string) => {\n          if (input !== 'destroy') {\n            return 'You must type \"destroy\" to confirm'\n          }\n          return true\n        }\n      }\n    ])\n\n    if (finalConfirm === 'destroy') {\n      console.log('')\n      console.log(chalk.yellow('\uD83D\uDDD1\uFE0F  Destroying all sessions...'))\n      \n      // TODO: Implement destroy all sessions\n      console.log(chalk.green('\u2705 All sessions destroyed'))\n    }\n  }\n\n  private async handleHealth(): Promise<void> {\n    const { fix, verbose } = await inquirer.prompt([\n      {\n        type: 'confirm',\n        name: 'fix',\n        message: 'Automatically fix issues where possible?',\n        default: true\n      },\n      {\n        type: 'confirm',\n        name: 'verbose',\n        message: 'Show detailed diagnostic information?',\n        default: false\n      }\n    ])\n\n    const healthCommand = new HealthCommand()\n    await healthCommand.execute({ fix, verbose })\n  }\n\n  private async handleClean(): Promise<void> {\n    const { confirmClean } = await inquirer.prompt([\n      {\n        type: 'confirm',\n        name: 'confirmClean',\n        message: 'Clean cache and temporary files?',\n        default: true\n      }\n    ])\n\n    if (confirmClean) {\n      console.log('')\n      console.log(chalk.yellow('\uD83E\uDDF9 Cleaning cache and temporary files...'))\n      \n      // TODO: Implement clean functionality\n      console.log(chalk.green('\u2705 Clean completed'))\n    } else {\n      console.log(chalk.gray('Clean cancelled.'))\n    }\n  }\n}", "import { JoinCommand } from './join'\n\n// AttachCommand is just an alias for JoinCommand since join already has 'attach' as alias\nexport class AttachCommand extends JoinCommand {}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport ora from 'ora'\nimport { remove, pathExists, readdir, stat } from 'fs-extra'\nimport { join } from 'path'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { getLogger } from '../../utils/logger'\nimport { getTazzDir } from '../../utils/paths'\n\nconst execAsync = promisify(exec)\n\nexport class CleanCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('clean')\n      .description('\uD83E\uDDF9 Clean cache, temporary files, and worktrees')\n      .option('--deep', 'Deep clean including logs and configuration')\n      .option('--dry-run', 'Show what would be cleaned without actually cleaning')\n      .option('--session <session-id>', 'Clean specific session and its worktree')\n      .option('--worktrees', 'Clean all abandoned worktrees')\n      .action(async (options) => {\n        await this.execute(options)\n      })\n  }\n\n  async execute(options: {\n    deep?: boolean\n    dryRun?: boolean\n    session?: string\n    worktrees?: boolean\n  } = {}): Promise<void> {\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83E\uDDF9 Tazz CLI Cleanup'))\n    console.log(chalk.gray('Cleaning cache and temporary files...'))\n    console.log('')\n\n    if (options.dryRun) {\n      console.log(chalk.yellow('\uD83D\uDD0D DRY RUN - showing what would be cleaned'))\n      console.log('')\n    }\n\n    const cleanupTasks = [\n      {\n        name: 'Temporary worktrees',\n        action: () => this.cleanTempWorktrees(options.dryRun)\n      },\n      {\n        name: 'Orphaned tmux sessions',\n        action: () => this.cleanOrphanedTmuxSessions(options.dryRun)\n      },\n      {\n        name: 'Old session data',\n        action: () => this.cleanOldSessionData(options.dryRun)\n      },\n      {\n        name: 'Cache files',\n        action: () => this.cleanCacheFiles(options.dryRun)\n      }\n    ]\n\n    if (options.deep) {\n      cleanupTasks.push(\n        {\n          name: 'Log files',\n          action: () => this.cleanLogFiles(options.dryRun)\n        },\n        {\n          name: 'Configuration backup',\n          action: () => this.cleanConfigBackups(options.dryRun)\n        }\n      )\n    }\n\n    let totalCleaned = 0\n    let totalSize = 0\n\n    for (const task of cleanupTasks) {\n      const spinner = ora(`Cleaning ${task.name}`).start()\n      \n      try {\n        const result = await task.action()\n        totalCleaned += result.count\n        totalSize += result.size\n        \n        if (result.count > 0) {\n          const sizeStr = this.formatSize(result.size)\n          spinner.succeed(`${task.name}: ${result.count} items (${sizeStr})`)\n        } else {\n          spinner.succeed(`${task.name}: already clean`)\n        }\n      } catch (error) {\n        spinner.fail(`${task.name}: ${(error as Error).message}`)\n        this.logger.error('Cleanup task failed', error as Error, { task: task.name })\n      }\n    }\n\n    // Summary\n    console.log('')\n    console.log(chalk.bold('\uD83E\uDDF9 Cleanup Summary:'))\n    console.log(chalk.green(`   Items cleaned: ${totalCleaned}`))\n    console.log(chalk.green(`   Space freed: ${this.formatSize(totalSize)}`))\n    \n    if (options.dryRun) {\n      console.log('')\n      console.log(chalk.yellow('Run without --dry-run to actually perform the cleanup'))\n    } else if (totalCleaned > 0) {\n      console.log('')\n      console.log(chalk.green('\u2705 Cleanup completed successfully!'))\n    }\n    console.log('')\n  }\n\n  private async cleanTempWorktrees(dryRun?: boolean): Promise<{ count: number; size: number }> {\n    const tazzDir = getTazzDir()\n    const tempDir = join(tazzDir, 'temp')\n    \n    if (!await pathExists(tempDir)) {\n      return { count: 0, size: 0 }\n    }\n\n    const items = await readdir(tempDir)\n    let count = 0\n    let size = 0\n\n    for (const item of items) {\n      const itemPath = join(tempDir, item)\n      try {\n        const stats = await stat(itemPath)\n        size += stats.size\n        \n        if (!dryRun) {\n          await remove(itemPath)\n        }\n        count++\n      } catch (error) {\n        // Item may have been already removed\n        this.logger.debug('Failed to clean temp item', error as Error, { item: itemPath })\n      }\n    }\n\n    return { count, size }\n  }\n\n  private async cleanOrphanedTmuxSessions(dryRun?: boolean): Promise<{ count: number; size: number }> {\n    try {\n      const { stdout } = await execAsync('tmux list-sessions -F \"#{session_name}\" 2>/dev/null || true')\n      const sessions = stdout.trim().split('\\n').filter(s => s.startsWith('tazz_'))\n      \n      // TODO: Check which sessions are actually orphaned\n      // For now, just count them\n      const orphanedSessions = sessions.filter(s => s.includes('orphaned')) // Placeholder logic\n      \n      let count = 0\n      for (const session of orphanedSessions) {\n        if (!dryRun) {\n          try {\n            await execAsync(`tmux kill-session -t ${session}`)\n            count++\n          } catch (error) {\n            // Session may have already been killed\n          }\n        } else {\n          count++\n        }\n      }\n\n      return { count, size: count * 1024 } // Estimate 1KB per session\n    } catch (error) {\n      // tmux not available or no sessions\n      return { count: 0, size: 0 }\n    }\n  }\n\n  private async cleanOldSessionData(dryRun?: boolean): Promise<{ count: number; size: number }> {\n    const tazzDir = getTazzDir()\n    const projectsDir = join(tazzDir, 'projects')\n    \n    if (!await pathExists(projectsDir)) {\n      return { count: 0, size: 0 }\n    }\n\n    const projects = await readdir(projectsDir)\n    let count = 0\n    let size = 0\n\n    const oneWeekAgo = Date.now() - (7 * 24 * 60 * 60 * 1000)\n\n    for (const project of projects) {\n      const projectPath = join(projectsDir, project)\n      const sessionsFile = join(projectPath, 'sessions.json')\n      \n      if (await pathExists(sessionsFile)) {\n        try {\n          const stats = await stat(sessionsFile)\n          \n          // Clean sessions older than a week\n          if (stats.mtime.getTime() < oneWeekAgo) {\n            size += stats.size\n            \n            if (!dryRun) {\n              await remove(projectPath)\n            }\n            count++\n          }\n        } catch (error) {\n          this.logger.debug('Failed to check session data', error as Error, { project })\n        }\n      }\n    }\n\n    return { count, size }\n  }\n\n  private async cleanCacheFiles(dryRun?: boolean): Promise<{ count: number; size: number }> {\n    const tazzDir = getTazzDir()\n    const cacheDir = join(tazzDir, 'cache')\n    \n    if (!await pathExists(cacheDir)) {\n      return { count: 0, size: 0 }\n    }\n\n    const items = await readdir(cacheDir)\n    let count = 0\n    let size = 0\n\n    for (const item of items) {\n      const itemPath = join(cacheDir, item)\n      try {\n        const stats = await stat(itemPath)\n        size += stats.size\n        \n        if (!dryRun) {\n          await remove(itemPath)\n        }\n        count++\n      } catch (error) {\n        this.logger.debug('Failed to clean cache item', error as Error, { item: itemPath })\n      }\n    }\n\n    return { count, size }\n  }\n\n  private async cleanLogFiles(dryRun?: boolean): Promise<{ count: number; size: number }> {\n    const tazzDir = getTazzDir()\n    const logsDir = join(tazzDir, 'logs')\n    \n    if (!await pathExists(logsDir)) {\n      return { count: 0, size: 0 }\n    }\n\n    const logFiles = await readdir(logsDir)\n    let count = 0\n    let size = 0\n\n    const oneMonthAgo = Date.now() - (30 * 24 * 60 * 60 * 1000)\n\n    for (const logFile of logFiles) {\n      const logPath = join(logsDir, logFile)\n      try {\n        const stats = await stat(logPath)\n        \n        // Keep recent logs, clean old ones\n        if (stats.mtime.getTime() < oneMonthAgo) {\n          size += stats.size\n          \n          if (!dryRun) {\n            await remove(logPath)\n          }\n          count++\n        }\n      } catch (error) {\n        this.logger.debug('Failed to clean log file', error as Error, { logFile })\n      }\n    }\n\n    return { count, size }\n  }\n\n  private async cleanConfigBackups(dryRun?: boolean): Promise<{ count: number; size: number }> {\n    const tazzDir = getTazzDir()\n    const backupDir = join(tazzDir, 'backups')\n    \n    if (!await pathExists(backupDir)) {\n      return { count: 0, size: 0 }\n    }\n\n    const backupFiles = await readdir(backupDir)\n    let count = 0\n    let size = 0\n\n    const twoWeeksAgo = Date.now() - (14 * 24 * 60 * 60 * 1000)\n\n    for (const backupFile of backupFiles) {\n      const backupPath = join(backupDir, backupFile)\n      try {\n        const stats = await stat(backupPath)\n        \n        // Keep recent backups, clean old ones\n        if (stats.mtime.getTime() < twoWeeksAgo) {\n          size += stats.size\n          \n          if (!dryRun) {\n            await remove(backupPath)\n          }\n          count++\n        }\n      } catch (error) {\n        this.logger.debug('Failed to clean backup file', error as Error, { backupFile })\n      }\n    }\n\n    return { count, size }\n  }\n\n  private formatSize(bytes: number): string {\n    if (bytes === 0) return '0 B'\n    \n    const sizes = ['B', 'KB', 'MB', 'GB']\n    const i = Math.floor(Math.log(bytes) / Math.log(1024))\n    \n    return `${(bytes / Math.pow(1024, i)).toFixed(1)} ${sizes[i]}`\n  }\n}", "import { Command } from 'commander'\nimport chalk from 'chalk'\nimport { readFile, writeFile, pathExists } from 'fs-extra'\nimport { join } from 'path'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport inquirer from 'inquirer'\nimport { getLogger } from '../../utils/logger'\nimport { SessionStore } from '../../core/storage/SessionStore'\nimport { TmuxSessionOrchestrator } from '../../core/services/TmuxSessionOrchestrator'\nimport { GitWorktreeManager } from '../../core/services/GitWorktreeManager'\nimport { TodoFileParser } from '../../core/services/TodoFileParser'\nimport { TazzError, ValidationError } from '../../core/types'\n\nconst execAsync = promisify(exec)\n\ninterface CompletionSummary {\n  completedTasks: number\n  cleanedSessions: number\n  removedWorktrees: number\n  updatedTodoFile: boolean\n  errors: string[]\n}\n\nexport class DoneCommand {\n  private logger = getLogger()\n\n  build(): Command {\n    return new Command('done')\n      .description('\uD83C\uDFAF Mark session/task as complete and clean up resources')\n      .argument('[session-id]', 'Session ID to complete (optional - will prompt if not provided)')\n      .option('-a, --all', 'Mark all active sessions as complete')\n      .option('--keep-worktree', 'Keep git worktree after completion')\n      .option('--keep-sessions', 'Keep tmux sessions running')\n      .option('--no-todo-update', 'Skip updating todo file')\n      .option('-f, --force', 'Force completion without prompts')\n      .option('--debug', 'Show detailed debugging information')\n      .action(async (sessionId?: string, options = {}) => {\n        await this.execute(sessionId, options)\n      })\n  }\n\n  async execute(sessionId?: string, options: {\n    all?: boolean\n    keepWorktree?: boolean\n    keepSessions?: boolean\n    todoUpdate?: boolean\n    force?: boolean\n    debug?: boolean\n  } = {}): Promise<void> {\n    console.log('')\n    console.log(chalk.bold.cyan('\uD83C\uDFAF Tazz Session Completion'))\n    console.log('')\n\n    try {\n      const sessionStore = new SessionStore()\n      const orchestrator = new TmuxSessionOrchestrator(this.logger)\n      const worktreeManager = new GitWorktreeManager(this.logger)\n\n      // Get active sessions (works without project initialization)\n      const activeSessions = await this.getActiveSessions()\n      \n      // Check if project is initialized (but allow cleanup of orphaned sessions)\n      const isProjectInitialized = await this.isProjectInitialized()\n      if (!isProjectInitialized && activeSessions.length > 0) {\n        console.log(chalk.yellow('\u26A0\uFE0F  Project not initialized, but found orphaned Tazz sessions.'))\n        console.log(chalk.gray('   Will clean up orphaned sessions only.'))\n        console.log('')\n      } else if (!isProjectInitialized) {\n        throw new ValidationError('Project not initialized. Run \"tazz make\" first.')\n      }\n      \n      if (options.debug) {\n        console.log(chalk.yellow('\uD83D\uDD0D Debug: Active sessions found:'))\n        activeSessions.forEach(session => {\n          console.log(`   \u2022 ${session.fullId || session.sessionName} (sessionName: ${session.sessionName}, taskName: ${session.taskName})`)\n        })\n        console.log('')\n      }\n      \n      if (activeSessions.length === 0) {\n        console.log(chalk.yellow('\uD83D\uDCED No active Tazz sessions found'))\n        console.log(chalk.gray('Start a new session with:'), chalk.cyan('tazz run'))\n        console.log('')\n        return\n      }\n\n      let sessionsToComplete: string[] = []\n\n      // Determine which sessions to complete\n      if (options.all) {\n        if (!options.force) {\n          const { confirmAll } = await inquirer.prompt([{\n            type: 'confirm',\n            name: 'confirmAll',\n            message: `Complete all ${activeSessions.length} active sessions?`,\n            default: false\n          }])\n          \n          if (!confirmAll) {\n            console.log(chalk.gray('Operation cancelled'))\n            return\n          }\n        }\n        \n        // Get unique main session names to avoid duplicates\n        const uniqueSessionNames = [...new Set(activeSessions.map(s => s.sessionName))]\n        sessionsToComplete = uniqueSessionNames\n        \n      } else if (sessionId) {\n        // Validate provided session ID\n        const session = activeSessions.find(s => \n          s.sessionName === sessionId || s.fullId === sessionId\n        )\n        \n        if (!session) {\n          console.log(chalk.red(`\u274C Session not found: ${sessionId}`))\n          await this.displayAvailableSessions(activeSessions)\n          return\n        }\n        \n        sessionsToComplete = [session.sessionName]\n        \n      } else {\n        // Interactive selection\n        const { selectedSessions } = await inquirer.prompt([{\n          type: 'checkbox',\n          name: 'selectedSessions',\n          message: 'Select sessions to complete:',\n          choices: activeSessions.map(session => ({\n            name: `${session.sessionName} ${chalk.gray(`(${session.taskName || 'main'})`)}`,\n            value: session.sessionName,\n            checked: false\n          }))\n        }])\n        \n        if (selectedSessions.length === 0) {\n          console.log(chalk.gray('No sessions selected'))\n          return\n        }\n        \n        sessionsToComplete = selectedSessions\n      }\n\n      // Show completion plan\n      console.log(chalk.bold('\uD83D\uDCCB Completion Plan:'))\n      sessionsToComplete.forEach((session, i) => {\n        console.log(chalk.gray(`   ${i + 1}.`), chalk.cyan(session))\n      })\n      console.log('')\n\n      if (!options.keepSessions) {\n        console.log(chalk.gray('\u2022 Will clean up tmux sessions'))\n      }\n      \n      if (!options.keepWorktree) {\n        console.log(chalk.gray('\u2022 Will remove git worktrees'))\n      }\n      \n      if (options.todoUpdate !== false) {\n        console.log(chalk.gray('\u2022 Will update todo file to mark tasks complete'))\n      }\n      console.log('')\n\n      // Confirm before proceeding\n      if (!options.force) {\n        const { confirmCompletion } = await inquirer.prompt([{\n          type: 'confirm',\n          name: 'confirmCompletion',\n          message: 'Proceed with completion?',\n          default: true\n        }])\n        \n        if (!confirmCompletion) {\n          console.log(chalk.gray('Operation cancelled'))\n          return\n        }\n      }\n\n      // Execute completion\n      const summary = await this.completeSessions(\n        sessionsToComplete,\n        activeSessions,\n        orchestrator,\n        worktreeManager,\n        options\n      )\n\n      // Display results\n      this.displayCompletionSummary(summary)\n\n      // Verify cleanup (show remaining sessions)\n      if (options.debug) {\n        console.log(chalk.yellow('\uD83D\uDD0D Debug: Verifying cleanup...'))\n        const remainingSessions = await this.getActiveSessions()\n        if (remainingSessions.length > 0) {\n          console.log(chalk.yellow(`   Still found ${remainingSessions.length} active sessions:`))\n          remainingSessions.forEach(session => {\n            console.log(chalk.gray(`     \u2022 ${session.fullId || session.sessionName}`))\n          })\n        } else {\n          console.log(chalk.green('   \u2705 All sessions cleaned up successfully'))\n        }\n        console.log('')\n      }\n\n    } catch (error) {\n      this.logger.error('Session completion failed', error as Error)\n      \n      if (error instanceof ValidationError) {\n        console.log(chalk.red(`\u274C ${error.message}`))\n      } else if (error instanceof TazzError) {\n        console.log(chalk.red(`\u274C ${error.constructor.name}: ${error.message}`))\n      } else {\n        console.log(chalk.red(`\u274C Unexpected error: ${(error as Error).message}`))\n      }\n      \n      process.exit(1)\n    }\n  }\n\n  private async completeSessions(\n    sessionsToComplete: string[],\n    activeSessions: any[],\n    orchestrator: TmuxSessionOrchestrator,\n    worktreeManager: GitWorktreeManager,\n    options: any\n  ): Promise<CompletionSummary> {\n    const summary: CompletionSummary = {\n      completedTasks: 0,\n      cleanedSessions: 0,\n      removedWorktrees: 0,\n      updatedTodoFile: false,\n      errors: []\n    }\n\n    const worktreesToRemove = new Set<string>()\n\n    // Process each session\n    for (const sessionName of sessionsToComplete) {\n      try {\n        console.log(chalk.cyan(`\uD83D\uDD04 Completing session: ${sessionName}`))\n\n        // Find all related sessions (main + task sessions)\n        const relatedSessions = activeSessions.filter(s => \n          s.sessionName === sessionName || \n          s.fullId === sessionName ||\n          (s.fullId && s.fullId.startsWith(sessionName + '_')) ||\n          (s.sessionName && sessionName.startsWith(s.sessionName))\n        )\n\n        console.log(chalk.gray(`   Found ${relatedSessions.length} related sessions`))\n        \n        if (options.debug) {\n          relatedSessions.forEach(session => {\n            console.log(chalk.yellow(`     \u2192 ${session.fullId || session.sessionName}`))\n          })\n        }\n\n        // Stop tmux sessions\n        if (!options.keepSessions) {\n          for (const session of relatedSessions) {\n            try {\n              const sessionId = session.fullId || session.sessionName\n              console.log(chalk.gray(`   Stopping tmux session: tazz_${sessionId}`))\n              \n              await orchestrator.stopSession(sessionId)\n              summary.cleanedSessions++\n            } catch (error) {\n              const errorMsg = `Failed to stop tmux session ${session.fullId || session.sessionName}: ${(error as Error).message}`\n              console.log(chalk.yellow(`   \u26A0\uFE0F  ${errorMsg}`))\n              summary.errors.push(errorMsg)\n            }\n          }\n        }\n\n        // Collect worktrees to remove\n        if (!options.keepWorktree) {\n          relatedSessions.forEach(session => {\n            if (session.worktree) {\n              worktreesToRemove.add(session.worktree)\n            }\n          })\n        }\n\n        summary.completedTasks++\n\n      } catch (error) {\n        summary.errors.push(`Failed to complete session ${sessionName}: ${(error as Error).message}`)\n      }\n    }\n\n    // Remove unique worktrees\n    if (!options.keepWorktree) {\n      for (const worktreePath of worktreesToRemove) {\n        try {\n          const sessionId = worktreePath.split('/').pop() || 'unknown'\n          await worktreeManager.removeWorktree(sessionId)\n          summary.removedWorktrees++\n        } catch (error) {\n          summary.errors.push(`Failed to remove worktree ${worktreePath}: ${(error as Error).message}`)\n        }\n      }\n    }\n\n    // Update todo file (only if project is initialized)\n    if (options.todoUpdate !== false && await this.isProjectInitialized()) {\n      try {\n        await this.updateTodoFileCompletion(sessionsToComplete)\n        summary.updatedTodoFile = true\n      } catch (error) {\n        summary.errors.push(`Failed to update todo file: ${(error as Error).message}`)\n      }\n    }\n\n    return summary\n  }\n\n  private async updateTodoFileCompletion(completedSessions: string[]): Promise<void> {\n    const todoPath = join(process.cwd(), '.tazz', 'tazz-todo.md')\n    \n    if (!await pathExists(todoPath)) {\n      return // No todo file to update\n    }\n\n    const content = await readFile(todoPath, 'utf-8')\n    let updatedContent = content\n\n    // Update completed sessions in both formats\n    for (const sessionName of completedSessions) {\n      // New format: TaskName: -> mark following SessionName line\n      const taskNameRegex = new RegExp(`^(\\\\s*TaskName:\\\\s*.+)$`, 'gm')\n      updatedContent = updatedContent.replace(taskNameRegex, (match, taskLine) => {\n        // Look for SessionName after TaskName\n        const lines = updatedContent.split('\\n')\n        const taskIndex = lines.findIndex(line => line.includes(taskLine))\n        \n        if (taskIndex >= 0) {\n          for (let i = taskIndex + 1; i < lines.length && i < taskIndex + 5; i++) {\n            if (lines[i].match(new RegExp(`^SessionName:\\\\s*${sessionName}\\\\s*$`, 'i'))) {\n              // Mark as completed by adding a completion marker\n              return `${taskLine} \u2705 COMPLETED`\n            }\n          }\n        }\n        return match\n      })\n\n      // Legacy format: checkbox tasks\n      const checkboxRegex = new RegExp(\n        `^(\\\\s*-\\\\s*\\\\[)\\\\s*(\\\\]\\\\s*.+Session name:\\\\s*${sessionName})`,\n        'gm'\n      )\n      updatedContent = updatedContent.replace(checkboxRegex, '$1x$2')\n    }\n\n    // Add completion timestamp\n    const timestamp = new Date().toISOString().split('T')[0]\n    const completionNote = `\\n<!-- Completed by Tazz CLI on ${timestamp} -->\\n`\n    \n    if (!updatedContent.includes(completionNote)) {\n      updatedContent += completionNote\n    }\n\n    await writeFile(todoPath, updatedContent)\n  }\n\n  private async getActiveSessions(): Promise<Array<{\n    sessionName: string\n    taskName?: string\n    fullId?: string\n    worktree?: string\n  }>> {\n    try {\n      const { stdout } = await execAsync('tmux list-sessions -F \"#{session_name}\" 2>/dev/null || true')\n      \n      if (!stdout.trim()) {\n        return []\n      }\n      \n      return stdout.trim().split('\\n')\n        .filter(name => name.includes('tazz_'))\n        .map(sessionName => {\n          const match = sessionName.match(/^tazz_(.+)$/)\n          if (match) {\n            const fullId = match[1]\n            const lastUnderscoreIndex = fullId.lastIndexOf('_')\n            \n            if (lastUnderscoreIndex > 0) {\n              const instance = fullId.substring(0, lastUnderscoreIndex)\n              const taskName = fullId.substring(lastUnderscoreIndex + 1)\n              return {\n                sessionName: instance,\n                taskName,\n                fullId,\n                worktree: `gitworktree-projects/${fullId}`\n              }\n            } else {\n              return {\n                sessionName: fullId,\n                fullId,\n                worktree: `gitworktree-projects/${fullId}`\n              }\n            }\n          }\n          \n          return { sessionName, fullId: sessionName }\n        })\n    } catch (error) {\n      return []\n    }\n  }\n\n  private async displayAvailableSessions(sessions: any[]): Promise<void> {\n    if (sessions.length === 0) return\n\n    console.log('')\n    console.log(chalk.yellow('Available sessions:'))\n    sessions.forEach(session => {\n      console.log(chalk.gray('  \u2022'), chalk.cyan(session.fullId || session.sessionName), \n        session.taskName ? chalk.gray(`(${session.taskName})`) : '')\n    })\n    console.log('')\n  }\n\n  private displayCompletionSummary(summary: CompletionSummary): void {\n    console.log('')\n    console.log(chalk.bold.green('\u2705 Completion Summary'))\n    console.log('')\n\n    if (summary.completedTasks > 0) {\n      console.log(chalk.green(`   ${summary.completedTasks} sessions completed`))\n    }\n    \n    if (summary.cleanedSessions > 0) {\n      console.log(chalk.green(`   ${summary.cleanedSessions} tmux sessions cleaned`))\n    }\n    \n    if (summary.removedWorktrees > 0) {\n      console.log(chalk.green(`   ${summary.removedWorktrees} worktrees removed`))\n    }\n    \n    if (summary.updatedTodoFile) {\n      console.log(chalk.green('   Todo file updated with completion status'))\n    }\n\n    if (summary.errors.length > 0) {\n      console.log('')\n      console.log(chalk.yellow('\u26A0\uFE0F  Issues encountered:'))\n      summary.errors.forEach(error => {\n        console.log(chalk.gray('   \u2022'), chalk.yellow(error))\n      })\n    }\n\n    console.log('')\n    console.log(chalk.bold('\uD83D\uDE80 Next steps:'))\n    console.log(chalk.gray('   \u2022 Run'), chalk.cyan('tazz list'), chalk.gray('to see remaining sessions'))\n    console.log(chalk.gray('   \u2022 Run'), chalk.cyan('tazz note'), chalk.gray('to add new tasks'))\n    console.log(chalk.gray('   \u2022 Run'), chalk.cyan('tazz run'), chalk.gray('to start new development sessions'))\n    console.log('')\n  }\n\n  private async isProjectInitialized(): Promise<boolean> {\n    const tazzDir = join(process.cwd(), '.tazz')\n    return await pathExists(tazzDir)\n  }\n\n  private async checkProjectInitialized(): Promise<void> {\n    if (!await this.isProjectInitialized()) {\n      throw new ValidationError('Project not initialized. Run \"tazz make\" first.')\n    }\n  }\n}"],
  "mappings": "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",
  "names": ["SessionStatus", "AgentType", "AgentStatus", "TaskStatus", "AgentCommandType", "ProjectType", "import_fs_extra", "import_path", "import_commander", "import_chalk", "winston", "import_fs_extra", "import_path", "import_path", "util", "objectUtil", "errorUtil", "errorMap", "ctx", "result", "issues", "elements", "processed", "result", "r", "ZodFirstPartyTypeKind", "logger", "fsWriteFile", "import_fs_extra", "import_path", "logger", "import_fs_extra", "import_path", "logger", "chalk", "ora", "import_commander", "import_chalk", "import_fs_extra", "import_path", "chalk", "resolve", "process", "import_commander", "import_chalk", "import_ora", "import_fs_extra", "import_path", "import_chalk", "chalk", "resolve", "import_child_process", "import_util", "import_chalk", "import_ora", "chalk", "ora", "resolve", "import_fs_extra", "import_path", "logger", "import_execa", "import_path", "import_execa", "import_path", "import_fs_extra", "logger", "readFile", "writeFile", "logger", "ensureFile", "import_execa", "import_fs_extra", "import_path", "logger", "ensureDir", "resolve", "chalk", "ora", "import_commander", "import_chalk", "import_child_process", "import_util", "execAsync", "chalk", "import_commander", "import_chalk", "import_child_process", "import_util", "execAsync", "chalk", "spawn", "import_commander", "import_chalk", "import_ora", "import_execa", "import_path", "import_fs_extra", "logger", "chalk", "ora", "import_commander", "import_chalk", "import_ora", "import_child_process", "import_util", "execAsync", "chalk", "inquirer", "ora", "import_commander", "import_chalk", "import_ora", "import_child_process", "import_util", "import_fs_extra", "execAsync", "chalk", "ora", "import_commander", "import_chalk", "import_inquirer", "chalk", "inquirer", "import_commander", "import_chalk", "import_ora", "import_fs_extra", "import_path", "import_child_process", "import_util", "execAsync", "chalk", "ora", "import_commander", "import_chalk", "import_fs_extra", "import_path", "import_child_process", "import_util", "import_inquirer", "execAsync", "chalk", "inquirer", "logger", "chalk"]
}
